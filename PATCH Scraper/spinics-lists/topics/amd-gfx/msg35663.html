<!-- MHonArc v2.6.19 -->
<!--X-Subject: [PATCH 2/2] drm/amd/display: Add drm_audio_component support to amdgpu_dm -->
<!--X-From-R13: @vpubynf Ynmynhfxnf &#60;avpubynf.xnmynhfxnfNnzq.pbz> -->
<!--X-Date: Tue, 9 Jul 2019 09:30:34 &#45;0700 -->
<!--X-Message-Id: 20190709163019.32085&#45;2&#45;nicholas.kazlauskas@amd.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20190709163019.32085&#45;1&#45;nicholas.kazlauskas@amd.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="AMD GFX: [PATCH 2/2] drm/amd/display: Add drm_audio_component support to amdgpu_dm">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<title>[PATCH 2/2] drm/amd/display: Add drm_audio_component support to amdgpu_dm &mdash; Linux AMD GFX</title>
<link rel="alternate" type="application/rss+xml" title="Linux AMD GFX" href="//feeds.feedburner.com/LinuxAmdGraphics">
</head>
<body itemscope itemtype="//schema.org/Article" bgcolor=white vlink=green link=blue>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:9580497365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="25" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en" async defer></script>
<h1 itemprop="name">[PATCH 2/2] drm/amd/display: Add drm_audio_component support to amdgpu_dm</h1>
[<a href="msg35662.html">Date Prev</a>][<a href="msg35664.html">Date Next</a>][<a href="msg35662.html">Thread Prev</a>][<a href="msg35677.html">Thread Next</a>][<a href="maillist.html#35663">Date Index</a>][<a href="index.html#35663">Thread Index</a>]


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &lt;amd-gfx@xxxxxxxxxxxxxxxxxxxxx&gt;</li>
<li><em>Subject</em>: [PATCH 2/2] drm/amd/display: Add drm_audio_component support to amdgpu_dm</li>
<li><em>From</em>: Nicholas Kazlauskas &lt;nicholas.kazlauskas@xxxxxxx&gt;</li>
<li><em>Date</em>: Tue, 9 Jul 2019 12:30:19 -0400</li>
<li><em>Cc</em>: Takashi Iwai &lt;tiwai@xxxxxxx&gt;, Leo Li &lt;sunpeng.li@xxxxxxx&gt;,        Harry Wentland &lt;harry.wentland@xxxxxxx&gt;,        Nicholas Kazlauskas &lt;nicholas.kazlauskas@xxxxxxx&gt;</li>
<li><em>In-reply-to</em>: &lt;<a href="msg35662.html">20190709163019.32085-1-nicholas.kazlauskas@amd.com</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg35662.html">20190709163019.32085-1-nicholas.kazlauskas@amd.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>[Why]
The drm_audio_component can be used to give pin ELD notifications
directly to the sound driver. This fixes audio endpoints disappearing
due to missing unsolicited notifications.

[How]
Send the notification via the audio component whenever we enable or
disable audio state on a stream. This matches what i915 does with
their drm_audio_component and what Takashi Iwai's proposed hack for
radeon/amdpgu did.

This is a bit delayed in when the notification actually occurs, however.
We wait until after all the programming is complete rather than sending
the notification mid sequence.

Particular care is needed for the get ELD callback since it can happen
outside the locking and fencing DRM does for atomic commits.

Cc: Takashi Iwai &lt;tiwai@xxxxxxx&gt;
Cc: Leo Li &lt;sunpeng.li@xxxxxxx&gt;
Cc: Harry Wentland &lt;harry.wentland@xxxxxxx&gt;
Signed-off-by: Nicholas Kazlauskas &lt;nicholas.kazlauskas@xxxxxxx&gt;
---
 .../gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.c | 222 ++++++++++++++++++
 .../gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.h |  25 ++
 2 files changed, 247 insertions(+)

diff --git a/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.c b/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.c
index f26c7b348aa9..9ef785497eb5 100644
--- a/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.c
+++ b/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.c
@@ -55,6 +55,7 @@
 #include &lt;linux/types.h&gt;
 #include &lt;linux/pm_runtime.h&gt;
 #include &lt;linux/firmware.h&gt;
+#include &lt;linux/component.h&gt;
 
 #include &lt;drm/drmP.h&gt;
 #include &lt;drm/drm_atomic.h&gt;
@@ -63,6 +64,7 @@
 #include &lt;drm/drm_dp_mst_helper.h&gt;
 #include &lt;drm/drm_fb_helper.h&gt;
 #include &lt;drm/drm_edid.h&gt;
+#include &lt;drm/drm_audio_component.h&gt;
 
 #if defined(CONFIG_DRM_AMD_DC_DCN1_0)
 #include &quot;ivsrcid/dcn/irqsrcs_dcn_1_0.h&quot;
@@ -506,6 +508,139 @@ static void amdgpu_dm_fbc_init(struct drm_connector *connector)
 
 }
 
+static int amdgpu_dm_audio_component_get_eld(struct device *kdev, int port,
+					  int pipe, bool *enabled,
+					  unsigned char *buf, int max_bytes)
+{
+	struct drm_device *dev = dev_get_drvdata(kdev);
+	struct amdgpu_device *adev = dev-&gt;dev_private;
+	struct drm_connector *connector;
+	struct drm_connector_list_iter conn_iter;
+	struct amdgpu_dm_connector *aconnector;
+	int ret = 0;
+
+	*enabled = false;
+
+	mutex_lock(&amp;adev-&gt;dm.audio_lock);
+
+	drm_connector_list_iter_begin(dev, &amp;conn_iter);
+	drm_for_each_connector_iter(connector, &amp;conn_iter) {
+		aconnector = to_amdgpu_dm_connector(connector);
+		if (aconnector-&gt;audio_inst != port)
+			continue;
+
+		*enabled = true;
+		ret = drm_eld_size(connector-&gt;eld);
+		memcpy(buf, connector-&gt;eld, min(max_bytes, ret));
+
+		break;
+	}
+	drm_connector_list_iter_end(&amp;conn_iter);
+
+	mutex_unlock(&amp;adev-&gt;dm.audio_lock);
+
+	DRM_DEBUG_KMS(&quot;Get ELD : idx=%d ret=%d en=%d\n&quot;, port, ret, *enabled);
+
+	return ret;
+}
+
+static const struct drm_audio_component_ops amdgpu_dm_audio_component_ops = {
+	.get_eld = amdgpu_dm_audio_component_get_eld,
+};
+
+static int amdgpu_dm_audio_component_bind(struct device *kdev,
+				       struct device *hda_kdev, void *data)
+{
+	struct drm_device *dev = dev_get_drvdata(kdev);
+	struct amdgpu_device *adev = dev-&gt;dev_private;
+	struct drm_audio_component *acomp = data;
+
+	acomp-&gt;ops = &amp;amdgpu_dm_audio_component_ops;
+	acomp-&gt;dev = kdev;
+	adev-&gt;dm.audio_component = acomp;
+
+	return 0;
+}
+
+static void amdgpu_dm_audio_component_unbind(struct device *kdev,
+					  struct device *hda_kdev, void *data)
+{
+	struct drm_device *dev = dev_get_drvdata(kdev);
+	struct amdgpu_device *adev = dev-&gt;dev_private;
+	struct drm_audio_component *acomp = data;
+
+	acomp-&gt;ops = NULL;
+	acomp-&gt;dev = NULL;
+	adev-&gt;dm.audio_component = NULL;
+}
+
+static const struct component_ops amdgpu_dm_audio_component_bind_ops = {
+	.bind	= amdgpu_dm_audio_component_bind,
+	.unbind	= amdgpu_dm_audio_component_unbind,
+};
+
+static int amdgpu_dm_audio_init(struct amdgpu_device *adev)
+{
+	int i, ret;
+
+	if (!amdgpu_audio)
+		return 0;
+
+	adev-&gt;mode_info.audio.enabled = true;
+
+	adev-&gt;mode_info.audio.num_pins = adev-&gt;dm.dc-&gt;res_pool-&gt;audio_count;
+
+	for (i = 0; i &lt; adev-&gt;mode_info.audio.num_pins; i++) {
+		adev-&gt;mode_info.audio.pin[i].channels = -1;
+		adev-&gt;mode_info.audio.pin[i].rate = -1;
+		adev-&gt;mode_info.audio.pin[i].bits_per_sample = -1;
+		adev-&gt;mode_info.audio.pin[i].status_bits = 0;
+		adev-&gt;mode_info.audio.pin[i].category_code = 0;
+		adev-&gt;mode_info.audio.pin[i].connected = false;
+		adev-&gt;mode_info.audio.pin[i].id =
+			adev-&gt;dm.dc-&gt;res_pool-&gt;audios[i]-&gt;inst;
+		adev-&gt;mode_info.audio.pin[i].offset = 0;
+	}
+
+	ret = component_add(adev-&gt;dev, &amp;amdgpu_dm_audio_component_bind_ops);
+	if (ret &lt; 0)
+		return ret;
+
+	adev-&gt;dm.audio_registered = true;
+
+	return 0;
+}
+
+static void amdgpu_dm_audio_fini(struct amdgpu_device *adev)
+{
+	if (!amdgpu_audio)
+		return;
+
+	if (!adev-&gt;mode_info.audio.enabled)
+		return;
+
+	if (adev-&gt;dm.audio_registered) {
+		component_del(adev-&gt;dev, &amp;amdgpu_dm_audio_component_bind_ops);
+		adev-&gt;dm.audio_registered = false;
+	}
+
+	/* TODO: Disable audio? */
+
+	adev-&gt;mode_info.audio.enabled = false;
+}
+
+void amdgpu_dm_audio_eld_notify(struct amdgpu_device *adev, int pin)
+{
+	struct drm_audio_component *acomp = adev-&gt;dm.audio_component;
+
+	if (acomp &amp;&amp; acomp-&gt;audio_ops &amp;&amp; acomp-&gt;audio_ops-&gt;pin_eld_notify) {
+		DRM_DEBUG_KMS(&quot;Notify ELD: %d\n&quot;, pin);
+
+		acomp-&gt;audio_ops-&gt;pin_eld_notify(acomp-&gt;audio_ops-&gt;audio_ptr,
+						 pin, -1);
+	}
+}
+
 static int amdgpu_dm_init(struct amdgpu_device *adev)
 {
 	struct dc_init_data init_data;
@@ -516,6 +651,7 @@ static int amdgpu_dm_init(struct amdgpu_device *adev)
 	memset(&amp;init_data, 0, sizeof(init_data));
 
 	mutex_init(&amp;adev-&gt;dm.dc_lock);
+	mutex_init(&amp;adev-&gt;dm.audio_lock);
 
 	if(amdgpu_dm_irq_init(adev)) {
 		DRM_ERROR(&quot;amdgpu: failed to initialize DM IRQ support.\n&quot;);
@@ -619,6 +755,8 @@ static int amdgpu_dm_init(struct amdgpu_device *adev)
 
 static void amdgpu_dm_fini(struct amdgpu_device *adev)
 {
+	amdgpu_dm_audio_fini(adev);
+
 	amdgpu_dm_destroy_drm_device(&amp;adev-&gt;dm);
 
 	/* DC Destroy TODO: Replace destroy DAL */
@@ -639,6 +777,7 @@ static void amdgpu_dm_fini(struct amdgpu_device *adev)
 		adev-&gt;dm.freesync_module = NULL;
 	}
 
+	mutex_destroy(&amp;adev-&gt;dm.audio_lock);
 	mutex_destroy(&amp;adev-&gt;dm.dc_lock);
 
 	return;
@@ -1887,6 +2026,10 @@ static int amdgpu_dm_mode_config_init(struct amdgpu_device *adev)
 	if (r)
 		return r;
 
+	r = amdgpu_dm_audio_init(adev);
+	if (r)
+		return r;
+
 	return 0;
 }
 
@@ -4803,6 +4946,7 @@ void amdgpu_dm_connector_init_helper(struct amdgpu_display_manager *dm,
 	aconnector-&gt;base.stereo_allowed = false;
 	aconnector-&gt;base.dpms = DRM_MODE_DPMS_OFF;
 	aconnector-&gt;hpd.hpd = AMDGPU_HPD_NONE; /* not used */
+	aconnector-&gt;audio_inst = -1;
 	mutex_init(&amp;aconnector-&gt;hpd_lock);
 
 	/*
@@ -5697,6 +5841,81 @@ static void amdgpu_dm_commit_planes(struct drm_atomic_state *state,
 	kfree(bundle);
 }
 
+static void amdgpu_dm_commit_audio(struct drm_device *dev,
+				   struct drm_atomic_state *state)
+{
+	struct amdgpu_device *adev = dev-&gt;dev_private;
+	struct amdgpu_dm_connector *aconnector;
+	struct drm_connector *connector;
+	struct drm_connector_state *old_con_state, *new_con_state;
+	struct drm_crtc_state *new_crtc_state;
+	struct dm_crtc_state *new_dm_crtc_state;
+	const struct dc_stream_status *status;
+	int i, inst;
+
+	/* Notify device removals. */
+	for_each_oldnew_connector_in_state(state, connector, old_con_state, new_con_state, i) {
+		if (old_con_state-&gt;crtc != new_con_state-&gt;crtc) {
+			/* CRTC changes require notification. */
+			goto notify;
+		}
+
+		if (!new_con_state-&gt;crtc)
+			continue;
+
+		new_crtc_state = drm_atomic_get_new_crtc_state(
+			state, new_con_state-&gt;crtc);
+
+		if (!new_crtc_state)
+			continue;
+
+		if (!drm_atomic_crtc_needs_modeset(new_crtc_state))
+			continue;
+
+	notify:
+		aconnector = to_amdgpu_dm_connector(connector);
+
+		mutex_lock(&amp;adev-&gt;dm.audio_lock);
+		inst = aconnector-&gt;audio_inst;
+		aconnector-&gt;audio_inst = -1;
+		mutex_unlock(&amp;adev-&gt;dm.audio_lock);
+
+		amdgpu_dm_audio_eld_notify(adev, inst);
+	}
+
+	/* Notify audio device additions. */
+	for_each_new_connector_in_state(state, connector, new_con_state, i) {
+		if (!new_con_state-&gt;crtc)
+			continue;
+
+		new_crtc_state = drm_atomic_get_new_crtc_state(
+			state, new_con_state-&gt;crtc);
+
+		if (!new_crtc_state)
+			continue;
+
+		if (!drm_atomic_crtc_needs_modeset(new_crtc_state))
+			continue;
+
+		new_dm_crtc_state = to_dm_crtc_state(new_crtc_state);
+		if (!new_dm_crtc_state-&gt;stream)
+			continue;
+
+		status = dc_stream_get_status(new_dm_crtc_state-&gt;stream);
+		if (!status)
+			continue;
+
+		aconnector = to_amdgpu_dm_connector(connector);
+
+		mutex_lock(&amp;adev-&gt;dm.audio_lock);
+		inst = status-&gt;audio_inst;
+		aconnector-&gt;audio_inst = inst;
+		mutex_unlock(&amp;adev-&gt;dm.audio_lock);
+
+		amdgpu_dm_audio_eld_notify(adev, inst);
+	}
+}
+
 /*
  * Enable interrupts on CRTCs that are newly active, undergone
  * a modeset, or have active planes again.
@@ -6060,6 +6279,9 @@ static void amdgpu_dm_atomic_commit_tail(struct drm_atomic_state *state)
 	/* Enable interrupts for CRTCs going from 0 to n active planes. */
 	amdgpu_dm_enable_crtc_interrupts(dev, state, false);
 
+	/* Update audio instances for each connector. */
+	amdgpu_dm_commit_audio(dev, state);
+
 	/*
 	 * send vblank event on all events not handled in flip and
 	 * mark consumed event for drm_atomic_helper_commit_hw_done
diff --git a/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.h b/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.h
index 1d498e6dc1fe..c7cd0cd4a85c 100644
--- a/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.h
+++ b/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.h
@@ -140,6 +140,28 @@ struct amdgpu_display_manager {
 	 */
 	struct mutex dc_lock;
 
+	/**
+	 * @audio_lock:
+	 *
+	 * Guards access to audio instance changes.
+	 */
+	struct mutex audio_lock;
+
+	/**
+	 * @audio_component:
+	 *
+	 * Used to notify ELD changes to sound driver.
+	 */
+	struct drm_audio_component *audio_component;
+
+	/**
+	 * @audio_registered:
+	 *
+	 * True if the audio component has been registered
+	 * successfully, false otherwise.
+	 */
+	bool audio_registered;
+
 	/**
 	 * @irq_handler_list_low_tab:
 	 *
@@ -251,6 +273,9 @@ struct amdgpu_dm_connector {
 	int max_vfreq ;
 	int pixel_clock_mhz;
 
+	/* Audio instance - protected by audio_lock. */
+	int audio_inst;
+
 	struct mutex hpd_lock;
 
 	bool fake_enable;
-- 
2.17.1

_______________________________________________
amd-gfx mailing list
amd-gfx@xxxxxxxxxxxxxxxxxxxxx
<a  rel="nofollow" href="https://lists.freedesktop.org/mailman/listinfo/amd-gfx">https://lists.freedesktop.org/mailman/listinfo/amd-gfx</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="35692" href="msg35692.html">Re: [PATCH 2/2] drm/amd/display: Add drm_audio_component support to amdgpu_dm</a></strong>
<ul><li><em>From:</em> Takashi Iwai</li></ul></li>
<li><strong><a name="35677" href="msg35677.html">Re: [PATCH 2/2] drm/amd/display: Add drm_audio_component support to amdgpu_dm</a></strong>
<ul><li><em>From:</em> Alex Deucher</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="35662" href="msg35662.html">[PATCH 1/2] drm/amd/display: Expose audio inst from DC to DM</a></strong>
<ul><li><em>From:</em> Nicholas Kazlauskas</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg35662.html">[PATCH 1/2] drm/amd/display: Expose audio inst from DC to DM</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg35664.html">Re: [PATCH] drm/amd/display: avoid 64-bit division</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg35662.html">[PATCH 1/2] drm/amd/display: Expose audio inst from DC to DM</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg35677.html">Re: [PATCH 2/2] drm/amd/display: Add drm_audio_component support to amdgpu_dm</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#35663"><strong>Date</strong></a></li>
<li><a href="index.html#35663"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-usb/>[Linux&nbsp;USB&nbsp;Devel]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-audio-users/>[Linux&nbsp;Audio&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info/>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kernel/>[Linux&nbsp;Kernel]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-scsi/>[Linux&nbsp;SCSI]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
