<!-- MHonArc v2.6.19 -->
<!--X-Subject: [PATCH v2 14/15] arm64: dts: imx: add imx8qm mek support -->
<!--X-From-R13: Rbat Ovfurat &#60;nvfurat.qbatNakc.pbz> -->
<!--X-Date: Tue, 16 Jul 2019 08:42:11 &#45;0700 -->
<!--X-Message-Id: 1563290089&#45;11085&#45;15&#45;git&#45;send&#45;email&#45;aisheng.dong@nxp.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1563290089&#45;11085&#45;1&#45;git&#45;send&#45;email&#45;aisheng.dong@nxp.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<meta name="description" content="Linux ARM, OMAP, Xscale Kernel: [PATCH v2 14/15] arm64: dts: imx: add imx8qm mek support">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>[PATCH v2 14/15] arm64: dts: imx: add imx8qm mek support &mdash; ARM, OMAP, Xscale Linux Kernel</title>
<link rel="alternate" type="application/rss+xml" title="Linux ARM Kernel" href="//feedproxy.google.com/LinuxArmKernel">
<link rel="alternate" type="application/rss+xml" title="Linux ARM Kernel" href="//feeds.feedburner.com/LinuxArmxscaleEtc">
<link rel="alternate" type="application/rss+xml" title="Fedora ARM" href="//feeds.feedburner.com/FedoraArm">
<link rel="alternate" type="application/rss+xml" title="Linux for OMAP" href="//feedproxy.google.com/LinuxOmap">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<td align=right><form action="//www.google.com/cse" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:isdiegq275o" />
    <input type="hidden" name="ie" value="ISO-8859-1" />
    <input type="text" name="q" size="37" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/cse/brand?form=cse-search-box&amp;lang=en" async></script>
<h1 itemprop="name">[PATCH v2 14/15] arm64: dts: imx: add imx8qm mek support</h1>
[<a href="msg741392.html">Date Prev</a>][<a href="msg741394.html">Date Next</a>][<a href="msg741484.html">Thread Prev</a>][<a href="msg741405.html">Thread Next</a>][<a href="maillist.html#741393">Date Index</a>][<a href="threads.html#741393">Thread Index</a>] 
<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: [PATCH v2 14/15] arm64: dts: imx: add imx8qm mek support</li>
<li><em>From</em>: Dong Aisheng &lt;aisheng.dong@xxxxxxx&gt;</li>
<li><em>Date</em>: Tue, 16 Jul 2019 23:14:48 +0800</li>
<li><em>In-reply-to</em>: &lt;<a href="msg741379.html">1563290089-11085-1-git-send-email-aisheng.dong@nxp.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>The i.MX8QuadMax is a Dual (2x) Cortex-A72 and Quad (4x) Cortex-A53
proccessor with powerful graphic and multimedia features.
This patch adds i.MX8QuadMax MEK board support.

Note that MX8QM needs a special workaround for TLB flush due to a SoC
errata, otherwise there may be random crash if enable both clusters of
A72 and A53. As the errata workaround is still not in mainline, so we
disable A72 cluster first for MX8QM MEK.

Cc: Rob Herring &lt;robh+dt@xxxxxxxxxx&gt;
Cc: Mark Rutland &lt;mark.rutland@xxxxxxx&gt;
Cc: devicetree@xxxxxxxxxxxxxxx
Cc: Shawn Guo &lt;shawnguo@xxxxxxxxxx&gt;
Cc: Sascha Hauer &lt;kernel@xxxxxxxxxxxxxx&gt;
Cc: Fabio Estevam &lt;fabio.estevam@xxxxxxx&gt;
Signed-off-by: Dong Aisheng &lt;aisheng.dong@xxxxxxx&gt;
---
ChangeLog:
 v1-v2: copyright update to 2019, minor node name change
---
 arch/arm64/boot/dts/freescale/Makefile       |   1 +
 arch/arm64/boot/dts/freescale/imx8qm-mek.dts | 144 +++++++++++++++++++++++++++
 2 files changed, 145 insertions(+)
 create mode 100644 arch/arm64/boot/dts/freescale/imx8qm-mek.dts

diff --git a/arch/arm64/boot/dts/freescale/Makefile b/arch/arm64/boot/dts/freescale/Makefile
index c043aca..c5e39cd4 100644
--- a/arch/arm64/boot/dts/freescale/Makefile
+++ b/arch/arm64/boot/dts/freescale/Makefile
@@ -25,4 +25,5 @@ dtb-$(CONFIG_ARCH_MXC) += imx8mq-evk.dtb
 dtb-$(CONFIG_ARCH_MXC) += imx8mq-librem5-devkit.dtb
 dtb-$(CONFIG_ARCH_MXC) += imx8mq-zii-ultra-rmb3.dtb
 dtb-$(CONFIG_ARCH_MXC) += imx8mq-zii-ultra-zest.dtb
+dtb-$(CONFIG_ARCH_MXC) += imx8qm-mek.dtb
 dtb-$(CONFIG_ARCH_MXC) += imx8qxp-mek.dtb
diff --git a/arch/arm64/boot/dts/freescale/imx8qm-mek.dts b/arch/arm64/boot/dts/freescale/imx8qm-mek.dts
new file mode 100644
index 0000000..ce9d3f0
--- /dev/null
+++ b/arch/arm64/boot/dts/freescale/imx8qm-mek.dts
@@ -0,0 +1,144 @@
+// SPDX-License-Identifier: GPL-2.0+
+/*
+ * Copyright 2018-2019 NXP
+ *	Dong Aisheng &lt;aisheng.dong@xxxxxxx&gt;
+ */
+
+/dts-v1/;
+
+#include &quot;imx8qm.dtsi&quot;
+
+/ {
+	model = &quot;Freescale i.MX8QM MEK&quot;;
+	compatible = &quot;fsl,imx8qm-mek&quot;, &quot;fsl,imx8qm&quot;;
+
+	chosen {
+		stdout-path = &amp;lpuart0;
+	};
+
+	cpus {
+		/delete-node/ cpu-map;
+		/delete-node/ cpu@100;
+		/delete-node/ cpu@101;
+	};
+
+	memory@80000000 {
+		device_type = &quot;memory&quot;;
+		reg = &lt;0x00000000 0x80000000 0 0x40000000&gt;;
+	};
+
+	reg_usdhc2_vmmc: usdhc2-vmmc {
+		compatible = &quot;regulator-fixed&quot;;
+		regulator-name = &quot;SD1_SPWR&quot;;
+		regulator-min-microvolt = &lt;3000000&gt;;
+		regulator-max-microvolt = &lt;3000000&gt;;
+		gpio = &lt;&amp;lsio_gpio4 19 GPIO_ACTIVE_HIGH&gt;;
+		enable-active-high;
+	};
+};
+
+&amp;lpuart0 {
+	pinctrl-names = &quot;default&quot;;
+	pinctrl-0 = &lt;&amp;pinctrl_lpuart0&gt;;
+	status = &quot;okay&quot;;
+};
+
+&amp;fec1 {
+	pinctrl-names = &quot;default&quot;;
+	pinctrl-0 = &lt;&amp;pinctrl_fec1&gt;;
+	phy-mode = &quot;rgmii-id&quot;;
+	phy-handle = &lt;&amp;ethphy0&gt;;
+	fsl,magic-packet;
+	status = &quot;okay&quot;;
+
+	mdio {
+		#address-cells = &lt;1&gt;;
+		#size-cells = &lt;0&gt;;
+
+		ethphy0: ethernet-phy@0 {
+			compatible = &quot;ethernet-phy-ieee802.3-c22&quot;;
+			reg = &lt;0&gt;;
+		};
+
+		ethphy1: ethernet-phy@1 {
+			compatible = &quot;ethernet-phy-ieee802.3-c22&quot;;
+			reg = &lt;1&gt;;
+		};
+	};
+};
+
+&amp;usdhc1 {
+	pinctrl-names = &quot;default&quot;;
+	pinctrl-0 = &lt;&amp;pinctrl_usdhc1&gt;;
+	bus-width = &lt;8&gt;;
+	no-sd;
+	no-sdio;
+	non-removable;
+	status = &quot;okay&quot;;
+};
+
+&amp;usdhc2 {
+	pinctrl-names = &quot;default&quot;;
+	pinctrl-0 = &lt;&amp;pinctrl_usdhc2&gt;;
+	bus-width = &lt;4&gt;;
+	vmmc-supply = &lt;&amp;reg_usdhc2_vmmc&gt;;
+	cd-gpios = &lt;&amp;lsio_gpio4 22 GPIO_ACTIVE_LOW&gt;;
+	wp-gpios = &lt;&amp;lsio_gpio4 21 GPIO_ACTIVE_HIGH&gt;;
+	status = &quot;okay&quot;;
+};
+
+&amp;iomuxc {
+	pinctrl_fec1: fec1grp {
+		fsl,pins = &lt;
+			IMX8QM_ENET0_MDC_CONN_ENET0_MDC				0x06000020
+			IMX8QM_ENET0_MDIO_CONN_ENET0_MDIO			0x06000020
+			IMX8QM_ENET0_RGMII_TX_CTL_CONN_ENET0_RGMII_TX_CTL	0x06000020
+			IMX8QM_ENET0_RGMII_TXC_CONN_ENET0_RGMII_TXC		0x06000020
+			IMX8QM_ENET0_RGMII_TXD0_CONN_ENET0_RGMII_TXD0		0x06000020
+			IMX8QM_ENET0_RGMII_TXD1_CONN_ENET0_RGMII_TXD1		0x06000020
+			IMX8QM_ENET0_RGMII_TXD2_CONN_ENET0_RGMII_TXD2		0x06000020
+			IMX8QM_ENET0_RGMII_TXD3_CONN_ENET0_RGMII_TXD3		0x06000020
+			IMX8QM_ENET0_RGMII_RXC_CONN_ENET0_RGMII_RXC		0x06000020
+			IMX8QM_ENET0_RGMII_RX_CTL_CONN_ENET0_RGMII_RX_CTL	0x06000020
+			IMX8QM_ENET0_RGMII_RXD0_CONN_ENET0_RGMII_RXD0		0x06000020
+			IMX8QM_ENET0_RGMII_RXD1_CONN_ENET0_RGMII_RXD1		0x06000020
+			IMX8QM_ENET0_RGMII_RXD2_CONN_ENET0_RGMII_RXD2		0x06000020
+			IMX8QM_ENET0_RGMII_RXD3_CONN_ENET0_RGMII_RXD3		0x06000020
+		&gt;;
+	};
+
+	pinctrl_lpuart0: lpuart0grp {
+		fsl,pins = &lt;
+			IMX8QM_UART0_RX_DMA_UART0_RX				0x06000020
+			IMX8QM_UART0_TX_DMA_UART0_TX				0x06000020
+		&gt;;
+	};
+
+	pinctrl_usdhc1: usdhc1grp {
+		fsl,pins = &lt;
+			IMX8QM_EMMC0_CLK_CONN_EMMC0_CLK				0x06000041
+			IMX8QM_EMMC0_CMD_CONN_EMMC0_CMD				0x00000021
+			IMX8QM_EMMC0_DATA0_CONN_EMMC0_DATA0			0x00000021
+			IMX8QM_EMMC0_DATA1_CONN_EMMC0_DATA1			0x00000021
+			IMX8QM_EMMC0_DATA2_CONN_EMMC0_DATA2			0x00000021
+			IMX8QM_EMMC0_DATA3_CONN_EMMC0_DATA3			0x00000021
+			IMX8QM_EMMC0_DATA4_CONN_EMMC0_DATA4			0x00000021
+			IMX8QM_EMMC0_DATA5_CONN_EMMC0_DATA5			0x00000021
+			IMX8QM_EMMC0_DATA6_CONN_EMMC0_DATA6			0x00000021
+			IMX8QM_EMMC0_DATA7_CONN_EMMC0_DATA7			0x00000021
+			IMX8QM_EMMC0_STROBE_CONN_EMMC0_STROBE			0x00000041
+		&gt;;
+	};
+
+	pinctrl_usdhc2: usdhc2grp {
+		fsl,pins = &lt;
+			IMX8QM_USDHC1_CLK_CONN_USDHC1_CLK			0x06000041
+			IMX8QM_USDHC1_CMD_CONN_USDHC1_CMD			0x00000021
+			IMX8QM_USDHC1_DATA0_CONN_USDHC1_DATA0			0x00000021
+			IMX8QM_USDHC1_DATA1_CONN_USDHC1_DATA1			0x00000021
+			IMX8QM_USDHC1_DATA2_CONN_USDHC1_DATA2			0x00000021
+			IMX8QM_USDHC1_DATA3_CONN_USDHC1_DATA3			0x00000021
+			IMX8QM_USDHC1_VSELECT_CONN_USDHC1_VSELECT		0x00000021
+		&gt;;
+	};
+};
-- 
2.7.4


_______________________________________________
linux-arm-kernel mailing list
linux-arm-kernel@xxxxxxxxxxxxxxxxxxx
<a  rel="nofollow" href="http://lists.infradead.org/mailman/listinfo/linux-arm-kernel">http://lists.infradead.org/mailman/listinfo/linux-arm-kernel</a>


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="741379" href="msg741379.html">[PATCH v2 00/15] arm64: dts: imx8: architecture improvement and adding imx8qm support</a></strong>
<ul><li><em>From:</em> Dong Aisheng</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg741392.html">[PATCH v2 15/15] arm64: defconfig: add imx8qm mek support</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg741394.html">Re: [PATCH v3 2/5] locking/qspinlock: Refactor the qspinlock slow path</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg741484.html">RE: [PATCH v2 15/15] arm64: defconfig: add imx8qm mek support</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg741405.html">[PATCH v2 10/15] arm64: dts: imx8qm: add conn ss support</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#741393"><strong>Date</strong></a></li>
<li><a href="threads.html#741393"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/kernel/>[Linux&nbsp;Kernel]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-arm/>[Linux&nbsp;ARM&nbsp;(vger)]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-arm-msm/>[Linux&nbsp;ARM&nbsp;MSM]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-omap/>[Linux&nbsp;Omap]</a>
&nbsp;
&nbsp;
<a href=/lists/centos-arm-devel/>[CentOS&nbsp;ARM]</a>
&nbsp;
&nbsp;
<a href=/lists/arm/>[Linux&nbsp;Arm]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-tegra/>[Linux&nbsp;Tegra]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-arm/>[Fedora&nbsp;ARM]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-samsung-soc/>[Linux&nbsp;for&nbsp;Samsung&nbsp;SOC]</a>
&nbsp;
&nbsp;
<a href=/lists/ecos/>[eCos]</a>
&nbsp;
&nbsp;
<a href=/lists/fastboot/>[Linux&nbsp;Fastboot]</a>
&nbsp;
&nbsp;
<a href=/lists/gcchelp/>[Gcc&nbsp;Help]</a>
&nbsp;
&nbsp;
<a href=/lists/git/>[Git]</a>
&nbsp;
&nbsp;
<a href=/lists/dccp/>[DCCP]</a>
&nbsp;
&nbsp;
<a href=/lists/ietf-ann>[IETF&nbsp;Announce]</a>
&nbsp;
&nbsp;
<a href=/lists/security/>[Security]</a>
&nbsp;
&nbsp;
<a href=/lists/mips/>[Linux&nbsp;MIPS]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }

initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
