<!-- MHonArc v2.6.19 -->
<!--X-Subject: RE: [PATCH V2 1/2] dt&#45;bindings: firmware: imx&#45;scu: new binding to parse clocks from device tree -->
<!--X-From-R13: Ovfurat Rbat &#60;nvfurat.qbatNakc.pbz> -->
<!--X-Date: Tue, 16 Jul 2019 09:14:57 &#45;0700 -->
<!--X-Message-Id: AM0PR04MB4211138D41AE98AC2E0B46D780CE0@AM0PR04MB4211.eurprd04.prod.outlook.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1556846821&#45;8581&#45;1&#45;git&#45;send&#45;email&#45;aisheng.dong@nxp.com -->
<!--X-Reference: 1556846821&#45;8581&#45;2&#45;git&#45;send&#45;email&#45;aisheng.dong@nxp.com -->
<!--X-Reference: CAL_JsqLJ+Lc_3huQizy4BVFgVV94Yg8KsOOgXLv4dQU8H=WfWw@mail.gmail.com -->
<!--X-Reference: AM0PR04MB4211B2F21350CAE370D7A93780360@AM0PR04MB4211.eurprd04.prod.outlook.com -->
<!--X-Reference: CAL_JsqLNRnYxUGyhpiL2OFxOT1wXZH2LG4XUH7qf14TpA5Dk=A@mail.gmail.com -->
<!--X-Reference: AM0PR04MB421180CD45226B30082BDE4D80320@AM0PR04MB4211.eurprd04.prod.outlook.com -->
<!--X-Reference: 20190513180004.GA26344@bogus -->
<!--X-Reference: AM0PR04MB4211C4F27C9D1DEC29B1600E80070@AM0PR04MB4211.eurprd04.prod.outlook.com -->
<!--X-Reference: AM0PR04MB421104C260EE55FD8016656480140@AM0PR04MB4211.eurprd04.prod.outlook.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<meta name="description" content="Linux ARM, OMAP, Xscale Kernel: RE: [PATCH V2 1/2] dt-bindings: firmware: imx-scu: new binding to parse clocks from device tree">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>RE: [PATCH V2 1/2] dt-bindings: firmware: imx-scu: new binding to parse clocks from device tree &mdash; ARM, OMAP, Xscale Linux Kernel</title>
<link rel="alternate" type="application/rss+xml" title="Linux ARM Kernel" href="//feedproxy.google.com/LinuxArmKernel">
<link rel="alternate" type="application/rss+xml" title="Linux ARM Kernel" href="//feeds.feedburner.com/LinuxArmxscaleEtc">
<link rel="alternate" type="application/rss+xml" title="Fedora ARM" href="//feeds.feedburner.com/FedoraArm">
<link rel="alternate" type="application/rss+xml" title="Linux for OMAP" href="//feedproxy.google.com/LinuxOmap">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<td align=right><form action="//www.google.com/cse" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:isdiegq275o" />
    <input type="hidden" name="ie" value="ISO-8859-1" />
    <input type="text" name="q" size="37" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/cse/brand?form=cse-search-box&amp;lang=en" async></script>
<h1 itemprop="name">RE: [PATCH V2 1/2] dt-bindings: firmware: imx-scu: new binding to parse clocks from device tree</h1>
[<a href="msg741398.html">Date Prev</a>][<a href="msg741400.html">Date Next</a>][<a href="msg741379.html">Thread Prev</a>][<a href="msg741408.html">Thread Next</a>][<a href="maillist.html#741399">Date Index</a>][<a href="threads.html#741399">Thread Index</a>] 
<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: RE: [PATCH V2 1/2] dt-bindings: firmware: imx-scu: new binding to parse clocks from device tree</li>
<li><em>From</em>: Aisheng Dong &lt;aisheng.dong@xxxxxxx&gt;</li>
<li><em>Date</em>: Tue, 16 Jul 2019 15:56:39 +0000</li>
<li><em>In-reply-to</em>: &lt;AM0PR04MB421104C260EE55FD8016656480140@AM0PR04MB4211.eurprd04.prod.outlook.com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi Rob,

Would you help check the new patch series I just sent?
[v3,00/11] clk: imx8: add new clock binding for better pm support
<a  rel="nofollow" href="https://patchwork.kernel.org/cover/11046287/">https://patchwork.kernel.org/cover/11046287/</a>

The former solution you suggested seems can't work as it lost the ability
to set parents for each individual clocks within the same hardware subsystems.

And seems both Stephen &amp; You may not quite like the per node clock in DT for SCU
clocks, In order to not stuck at here, I totally removed the SCU clock nodes in DT,
Instead, we still define those SCU clocks in driver but changed to two cells binding
which is more close to hardware (SW Clock IDs are removed) and can handle
above issues.

And we also need some tricks in driver to handle the required power domains
and Clock availability for different partition configuration, as well as 
clock state save&amp; restore.

The patch series has been pending for quite a few months.
So it would be really appreciated if you can help review and provide some
advices.

Note: for DT patches which may help the understanding, please refer to:
[v2,00/15] arm64: dts: imx8: architecture improvement and adding imx8qm support
<a  rel="nofollow" href="https://patchwork.kernel.org/cover/11046341/">https://patchwork.kernel.org/cover/11046341/</a>

Regards
Dong Aisheng

&gt;<i> From: Aisheng Dong</i>
&gt;<i> Sent: Tuesday, June 4, 2019 12:50 AM</i>
&gt;<i> Subject: RE: [PATCH V2 1/2] dt-bindings: firmware: imx-scu: new binding to</i>
&gt;<i> parse clocks from device tree</i>
&gt;<i> </i>
&gt;<i> Hi Rob,</i>
&gt;<i> </i>
&gt;<i> Would you help check my reply and offer some suggestions?</i>
&gt;<i> We're a bit lost on what to do and being blocked here for a long time which</i>
&gt;<i> affects all the following MX8QM/QXP upstreaming works.</i>
&gt;<i> </i>
&gt;<i> We really need your help to clarify how to move forward.</i>
&gt;<i> If any more information need me to provide, feel free to let me know.</i>
&gt;<i> </i>
&gt;<i> Thanks a lot in advance!</i>
&gt;<i> </i>
&gt;<i> Regards</i>
&gt;<i> Dong Aisheng</i>
&gt;<i> </i>
&gt;<i> &gt; From: Aisheng Dong</i>
&gt;<i> &gt; Sent: Wednesday, May 22, 2019 1:57 AM</i>
&gt;<i> &gt; Hi Rob,</i>
&gt;<i> &gt;</i>
&gt;<i> &gt; [...]</i>
&gt;<i> &gt;</i>
&gt;<i> &gt; &gt; &gt; &gt; &gt; For SCU based platforms, the resource availability (e.g.</i>
&gt;<i> &gt; &gt; &gt; &gt; &gt; device/clocks/power) are configurable by SCU firmware</i>
&gt;<i> &gt; &gt; &gt; &gt; &gt; according to the</i>
&gt;<i> &gt; &gt; &gt; &gt; different SW execution partition configuration.</i>
&gt;<i> &gt; &gt; &gt; &gt; &gt; e.g. According to customer's requirements, we may allocate</i>
&gt;<i> &gt; &gt; &gt; &gt; &gt; some resources to M4 partition like some I2C, CAN, audio</i>
&gt;<i> &gt; &gt; &gt; &gt; &gt; resources which can't be</i>
&gt;<i> &gt; &gt; &gt; &gt; accessed by A core.</i>
&gt;<i> &gt; &gt; &gt; &gt; &gt; And we may allocate even more for virtual machines running at</i>
&gt;<i> &gt; &gt; &gt; &gt; &gt; another CPU</i>
&gt;<i> &gt; &gt; &gt; &gt; core.</i>
&gt;<i> &gt; &gt; &gt; &gt; &gt; Thus, defining all the clock sources (fixed) in device tree</i>
&gt;<i> &gt; &gt; &gt; &gt; &gt; for A core seems to be a little bit meaningless and it also</i>
&gt;<i> &gt; &gt; &gt; &gt; &gt; causes us hard to extend for a</i>
&gt;<i> &gt; &gt; &gt; &gt; new SoC.</i>
&gt;<i> &gt; &gt; &gt; &gt;</i>
&gt;<i> &gt; &gt; &gt; &gt; I'm not suggesting that. It's really just re-arranging all the</i>
&gt;<i> &gt; &gt; &gt; &gt; same data from a bunch of child nodes to a single node. Granted,</i>
&gt;<i> &gt; &gt; &gt; &gt; it may be easier to add/delete nodes than add/delete elements</i>
&gt;<i> &gt; &gt; &gt; &gt; from an array of property values, but really that's just a</i>
&gt;<i> &gt; &gt; &gt; &gt; tooling problem</i>
&gt;<i> &gt; &gt; &gt; &gt;</i>
&gt;<i> &gt; &gt; &gt;</i>
&gt;<i> &gt; &gt; &gt; Okay, understood.</i>
&gt;<i> &gt; &gt; &gt; So it seems we could still have a separate clock controller node</i>
&gt;<i> &gt; &gt; &gt; for each SS but merge all the same data of child nodes data into it.</i>
&gt;<i> &gt; &gt; &gt;</i>
&gt;<i> &gt; &gt; &gt; However, we still have one concern.</i>
&gt;<i> &gt; &gt; &gt; Taking MX8QXP DMA SS as example, with one node description, it may</i>
&gt;<i> &gt; &gt; &gt; be something like below:</i>
&gt;<i> &gt; &gt; &gt; dma_scu_clk: dma-scu-clock-controller {</i>
&gt;<i> &gt; &gt; &gt;         compatible = &quot;fsl,imx8qxp-scu-pd&quot;, &quot;fsl,scu-clk&quot;;</i>
&gt;<i> &gt; &gt; &gt;         #clock-cells = &lt;1&gt;;</i>
&gt;<i> &gt; &gt; &gt;         clock-indices = &lt;IMX_SCU_CLK_ID(IMX_SC_R_ADC_0,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;IMX_SCU_CLK_ID(IMX_SC_R_CAN_0,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;IMX_SCU_CLK_ID(IMX_SC_R_FTM_0,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;IMX_SCU_CLK_ID(IMX_SC_R_FTM_1,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;IMX_SCU_CLK_ID(IMX_SC_R_I2C_0,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;IMX_SCU_CLK_ID(IMX_SC_R_I2C_1,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;IMX_SCU_CLK_ID(IMX_SC_R_I2C_2,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;IMX_SCU_CLK_ID(IMX_SC_R_I2C_3,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;IMX_SCU_CLK_ID(IMX_SC_R_LCD_0,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;,</i>
&gt;<i> &gt; &gt; &gt;</i>
&gt;<i> &lt;IMX_SCU_CLK_ID(IMX_SC_R_LCD_0_PWM_0,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;IMX_SCU_CLK_ID(IMX_SC_R_SPI_0,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;IMX_SCU_CLK_ID(IMX_SC_R_SPI_1,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;IMX_SCU_CLK_ID(IMX_SC_R_SPI_2,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;IMX_SCU_CLK_ID(IMX_SC_R_SPI_3,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;IMX_SCU_CLK_ID(IMX_SC_R_UART_0,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;IMX_SCU_CLK_ID(IMX_SC_R_UART_1,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;IMX_SCU_CLK_ID(IMX_SC_R_UART_2,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;IMX_SCU_CLK_ID(IMX_SC_R_UART_3,</i>
&gt;<i> &gt; &gt; IMX_SC_PM_CLK_PER)&gt;;</i>
&gt;<i> &gt; &gt; &gt;         clock-output-names = &quot;adc0_clk&quot;,</i>
&gt;<i> &gt; &gt; &gt;                              &quot;can0_clk&quot;,</i>
&gt;<i> &gt; &gt; &gt;                              &quot;ftm0_clk&quot;,</i>
&gt;<i> &gt; &gt; &gt;                              &quot;ftm1_clk&quot;,</i>
&gt;<i> &gt; &gt; &gt;                              &quot;i2c0_clk&quot;,</i>
&gt;<i> &gt; &gt; &gt;                              &quot;i2c1_clk&quot;,</i>
&gt;<i> &gt; &gt; &gt;                              &quot;i2c2_clk&quot;,</i>
&gt;<i> &gt; &gt; &gt;                              &quot;i2c3_clk&quot;,</i>
&gt;<i> &gt; &gt; &gt;                              &quot;lcd0_clk&quot;,</i>
&gt;<i> &gt; &gt; &gt;                              &quot;lcd0_pwm0_clk&quot;,</i>
&gt;<i> &gt; &gt; &gt;                              &quot;spi0_clk&quot;,</i>
&gt;<i> &gt; &gt; &gt;                              &quot;spi1_clk&quot;,</i>
&gt;<i> &gt; &gt; &gt;                              &quot;spi2_clk&quot;,</i>
&gt;<i> &gt; &gt; &gt;                              &quot;spi3_clk&quot;,</i>
&gt;<i> &gt; &gt; &gt;                              &quot;uart0_clk&quot;,</i>
&gt;<i> &gt; &gt; &gt;                              &quot;uart1_clk&quot;,</i>
&gt;<i> &gt; &gt; &gt;                              &quot;uart2_clk&quot;,</i>
&gt;<i> &gt; &gt; &gt;                              &quot;uart3_clk&quot;;</i>
&gt;<i> &gt; &gt; &gt;         power-domains = &lt;&amp;pd IMX_SC_R_ADC_0&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;&amp;pd IMX_SC_R_CAN_0&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;&amp;pd IMX_SC_R_FTM_0&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;&amp;pd IMX_SC_R_FTM_1&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;&amp;pd IMX_SC_R_I2C_0&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;&amp;pd IMX_SC_R_I2C_1&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;&amp;pd IMX_SC_R_I2C_2&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;&amp;pd IMX_SC_R_I2C_3&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;&amp;pd IMX_SC_R_LCD_0&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;&amp;pd IMX_SC_R_LCD_0_PWM_0&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;&amp;pd IMX_SC_R_SPI_0&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;&amp;pd IMX_SC_R_SPI_1&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;&amp;pd IMX_SC_R_SPI_2&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;&amp;pd IMX_SC_R_SPI_3&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;&amp;pd IMX_SC_R_UART_0&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;&amp;pd IMX_SC_R_UART_1&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;&amp;pd IMX_SC_R_UART_2&gt;,</i>
&gt;<i> &gt; &gt; &gt;                         &lt;&amp;pd IMX_SC_R_UART_3&gt;; };</i>
&gt;<i> &gt; &gt; &gt;</i>
&gt;<i> &gt; &gt; &gt; For MX8QM, even if we have one more UART_4, then we still have to</i>
&gt;<i> &gt; &gt; &gt; write all the same things again with an extra UART_4. It seems</i>
&gt;<i> &gt; &gt; &gt; it's a bit violate our design that using a shared one and do</i>
&gt;<i> &gt; &gt; &gt; incremental changes for</i>
&gt;<i> &gt; &gt; new SoCs.</i>
&gt;<i> &gt; &gt; &gt; Do you think if this is acceptable to you?</i>
&gt;<i> &gt; &gt;</i>
&gt;<i> &gt; &gt; Yes, as it should be a one time thing to do per SoC.</i>
&gt;<i> &gt; &gt;</i>
&gt;<i> &gt;</i>
&gt;<i> &gt; I found we may still can't use this new way after giving a try.</i>
&gt;<i> &gt; One know issue is that it can't support clock parent setting well with</i>
&gt;<i> &gt; this binding If merged all sub clocks into a single node.</i>
&gt;<i> &gt; Hard to describe parent clocks for each clock within the same big array.</i>
&gt;<i> &gt;</i>
&gt;<i> &gt; For example in MX8 ADMA SS, there're another LCD PLL which can be</i>
&gt;<i> &gt; optional parent clocks to others peripherals.</i>
&gt;<i> &gt; If we list them all in the same array, we can't describe LCD</i>
&gt;<i> &gt; baud/pixel clock parents.</i>
&gt;<i> &gt; dma_scu_clk: dma-scu-clock-controller {</i>
&gt;<i> &gt;         compatible = &quot;fsl,imx8qxp-scu-pd&quot;, &quot;fsl,scu-clk&quot;;</i>
&gt;<i> &gt;         #clock-cells = &lt;1&gt;;</i>
&gt;<i> &gt;         clock-indices = &lt;SC_R_ELCDIF_PLL IMX_SC_PM_CLK_PLL&gt;,</i>
&gt;<i> &gt;                         &lt;SC_R_LCD_0 IMX_SC_PM_CLK_PER&gt;,</i>
&gt;<i> /*</i>
&gt;<i> &gt; lcd baud */</i>
&gt;<i> &gt;                         &lt;SC_R_LCD_0 IMX_SC_PM_CLK_SLV_BUS&gt;,</i>
&gt;<i> /*</i>
&gt;<i> &gt; Pixel Link */</i>
&gt;<i> &gt;                         ...</i>
&gt;<i> &gt;         clock-output-names = &quot;lcdif_pll&quot;,</i>
&gt;<i> &gt;                              &quot;lcdif_baud_clk&quot;,</i>
&gt;<i> &gt;                              &quot;lcdif_pixel_clk&quot;,</i>
&gt;<i> &gt;                                 ...</i>
&gt;<i> &gt;         power-domains = &lt;&amp;pd IMX_SC_R_LCD_0&gt;,</i>
&gt;<i> &gt;                         &lt;&amp;pd IMX_SC_R_LCD_0&gt;,</i>
&gt;<i> &gt;                         &lt;&amp;pd IMX_SC_R_LCD_0&gt;,</i>
&gt;<i> &gt;                         ...</i>
&gt;<i> &gt; };</i>
&gt;<i> &gt;</i>
&gt;<i> &gt; And other peripherals might have different parents within the same array.</i>
&gt;<i> &gt;</i>
&gt;<i> &gt; The old way does not have this issue because it's capable of</i>
&gt;<i> &gt; configuring parents respectively for each sub clocks.</i>
&gt;<i> &gt; /* SCU clocks */</i>
&gt;<i> &gt; dma_scu_clk: clock-controller-scu-dma {</i>
&gt;<i> &gt;         #address-cells = &lt;1&gt;;</i>
&gt;<i> &gt;         #size-cells = &lt;0&gt;;</i>
&gt;<i> &gt;</i>
&gt;<i> &gt;         lcd_pll: clock-scu@323 {</i>
&gt;<i> &gt;                 reg = &lt;323&gt;;</i>
&gt;<i> &gt;                 #clock-cells = &lt;1&gt;;</i>
&gt;<i> &gt;                 clock-indices = &lt;IMX_SC_PM_CLK_PLL&gt;;</i>
&gt;<i> &gt;                 clock-output-names = &quot;lcd_pll&quot;;</i>
&gt;<i> &gt;                 power-domains = &lt;&amp;pd IMX_SC_R_ELCDIF_PLL&gt;;</i>
&gt;<i> &gt;         };</i>
&gt;<i> &gt;</i>
&gt;<i> &gt;         lcd0_clk: clock-scu@187 {</i>
&gt;<i> &gt;                 reg = &lt;187&gt;;</i>
&gt;<i> &gt;                 #clock-cells = &lt;1&gt;;</i>
&gt;<i> &gt;                 /* parent clocks should match HW programing order */</i>
&gt;<i> &gt;                 clocks = &lt;&amp;dummy_clk &amp;dummy_clk &amp;dummy_clk</i>
&gt;<i> &amp;dummy_clk</i>
&gt;<i> &gt; &amp;lcd_pll&gt;;</i>
&gt;<i> &gt;                 clock-indices = &lt;IMX_SC_PM_CLK_PER&gt;;</i>
&gt;<i> &gt;                 clock-output-names = &quot;lcd0_clk&quot;;</i>
&gt;<i> &gt;                 power-domains = &lt;&amp;pd IMX_SC_R_LCD_0&gt;;</i>
&gt;<i> &gt;         };</i>
&gt;<i> &gt;         ...</i>
&gt;<i> &gt; };</i>
&gt;<i> &gt;</i>
&gt;<i> &gt; I double checked other SS like Audio, DC, MIPI, PI which have the same issue.</i>
&gt;<i> &gt; I really don't know if there will be a way out if using the one single node way.</i>
&gt;<i> &gt; And I'm also a bit worrying whether it may cause more issues due to</i>
&gt;<i> &gt; its losing of the flexibility and causes potential issues.</i>
&gt;<i> &gt;</i>
&gt;<i> &gt; Do you think if we can still go back to the old way which is proposed</i>
&gt;<i> &gt; In this patch set?</i>
&gt;<i> &gt; As it can perfectly meet our requirements and also ease the driver</i>
&gt;<i> &gt; implementation.</i>
&gt;<i> &gt;</i>
&gt;<i> &gt; Hope you can help shed some lights as we're pending on it for a long time.</i>
&gt;<i> &gt;</i>
&gt;<i> &gt; Regards</i>
&gt;<i> &gt; Dong Aisheng</i>
&gt;<i> &gt;</i>
&gt;<i> &gt; &gt; &gt; But if describe them per nodes, we do not have such issue.</i>
&gt;<i> &gt; &gt; &gt;</i>
&gt;<i> &gt; &gt; &gt; Anyway, please tell me your choice, then I will follow.</i>
&gt;<i> &gt; &gt; &gt;</i>
&gt;<i> &gt; &gt; &gt; BTW, I don't know how a tool can address this issue.</i>
&gt;<i> &gt; &gt;</i>
&gt;<i> &gt; &gt; I meant you could write one that understands the binding. It's a bit</i>
&gt;<i> &gt; &gt; more complicated having to parse and update properties compared to</i>
&gt;<i> &gt; &gt; adding or removing nodes, but it can still be done.</i>
&gt;<i> &gt; &gt;</i>
&gt;<i> &gt; &gt; Rob</i>
_______________________________________________
linux-arm-kernel mailing list
linux-arm-kernel@xxxxxxxxxxxxxxxxxxx
<a  rel="nofollow" href="http://lists.infradead.org/mailman/listinfo/linux-arm-kernel">http://lists.infradead.org/mailman/listinfo/linux-arm-kernel</a>


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg741398.html">Re: [PATCH v3 3/5] locking/qspinlock: Introduce CNA into the slow path of qspinlock</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg741400.html">Re: [PATCH 5/5] Input: ts4800-ts: Use devm_platform_ioremap_resource()</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg741379.html">[PATCH v2 00/15] arm64: dts: imx8: architecture improvement and adding imx8qm support</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg741408.html">[RFC v1 0/4] arm64: MMU enabled kexec kernel relocation</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#741399"><strong>Date</strong></a></li>
<li><a href="threads.html#741399"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/kernel/>[Linux&nbsp;Kernel]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-arm/>[Linux&nbsp;ARM&nbsp;(vger)]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-arm-msm/>[Linux&nbsp;ARM&nbsp;MSM]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-omap/>[Linux&nbsp;Omap]</a>
&nbsp;
&nbsp;
<a href=/lists/centos-arm-devel/>[CentOS&nbsp;ARM]</a>
&nbsp;
&nbsp;
<a href=/lists/arm/>[Linux&nbsp;Arm]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-tegra/>[Linux&nbsp;Tegra]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-arm/>[Fedora&nbsp;ARM]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-samsung-soc/>[Linux&nbsp;for&nbsp;Samsung&nbsp;SOC]</a>
&nbsp;
&nbsp;
<a href=/lists/ecos/>[eCos]</a>
&nbsp;
&nbsp;
<a href=/lists/fastboot/>[Linux&nbsp;Fastboot]</a>
&nbsp;
&nbsp;
<a href=/lists/gcchelp/>[Gcc&nbsp;Help]</a>
&nbsp;
&nbsp;
<a href=/lists/git/>[Git]</a>
&nbsp;
&nbsp;
<a href=/lists/dccp/>[DCCP]</a>
&nbsp;
&nbsp;
<a href=/lists/ietf-ann>[IETF&nbsp;Announce]</a>
&nbsp;
&nbsp;
<a href=/lists/security/>[Security]</a>
&nbsp;
&nbsp;
<a href=/lists/mips/>[Linux&nbsp;MIPS]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }

initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
