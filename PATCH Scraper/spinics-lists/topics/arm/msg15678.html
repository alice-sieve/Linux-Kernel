<!-- MHonArc v2.6.19 -->
<!--X-Subject: Re: [PATCH] Allow the i.mx25 3DStack target to compile. -->
<!--X-From-R13: Enfpun Vnhre &#60;f.unhreNcrathgebavk.qr> -->
<!--X-Date: Wed, 5 May 2010 23:55:00 &#45;0700 -->
<!--X-Message-Id: 20100506065105.GN31199@pengutronix.de -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1272920818&#45;7126&#45;1&#45;git&#45;send&#45;email&#45;jcd@tribudubois.net -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Linux ARM: Re: [PATCH] Allow the i.mx25 3DStack target to compile.">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<title>Linux ARM, Xscale &mdash; Re: [PATCH] Allow the i.mx25 3DStack target to compile.</title>
<link rel="alternate" type="application/rss+xml" title="Linux ARM" href="//feeds.feedburner.com/LinuxArmxscaleEtc">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:1790192168" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="55" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en" async defer></script>
<h1 itemprop="name">Re: [PATCH] Allow the i.mx25 3DStack target to compile.</h1>
[<a href="msg15677.html">Date Prev</a>][<a href="msg15679.html">Date Next</a>][<a href="msg15675.html">Thread Prev</a>][<a href="msg15676.html">Thread Next</a>][<a href="maillist.html#15678">Date Index</a>][<a href="threads.html#15678">Thread Index</a>] 


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Jean-Christophe DUBOIS &lt;<a href="mailto:jcd@DOMAIN.HIDDEN">jcd@xxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: [PATCH] Allow the i.mx25 3DStack target to compile.</li>
<li><em>From</em>: Sascha Hauer &lt;<a href="mailto:s.hauer@DOMAIN.HIDDEN">s.hauer@xxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Thu, 6 May 2010 08:51:05 +0200</li>
<li><em>Cc</em>: <a href="mailto:linux-arm@DOMAIN.HIDDEN">linux-arm@xxxxxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:1272920818-7126-1-git-send-email-jcd@DOMAIN.HIDDEN">1272920818-7126-1-git-send-email-jcd@xxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Mutt/1.5.18 (2008-05-17)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" defer async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Mon, May 03, 2010 at 11:06:58PM +0200, Jean-Christophe DUBOIS wrote:
&gt; The FEC driver is not compiling in the actual state. Fix it.

The platform data support patch ogt lost somewhere along the way. Does
it only compile with this change or does it work aswell? It seems the
i.MX25PDK uses RMII mode which is not present in the current driver.

Sascha

&gt; 
&gt; Signed-off-by: Jean-Chrsitophe DUBOIS &lt;jcd@xxxxxxxxxxxxxxx&gt;
&gt; ---
&gt;  arch/arm/mach-mx25/mx25pdk.c |    9 ++++-----
&gt;  1 files changed, 4 insertions(+), 5 deletions(-)
&gt; 
&gt; diff --git a/arch/arm/mach-mx25/mx25pdk.c b/arch/arm/mach-mx25/mx25pdk.c
&gt; index 6f06089..cbf45c0 100644
&gt; --- a/arch/arm/mach-mx25/mx25pdk.c
&gt; +++ b/arch/arm/mach-mx25/mx25pdk.c
&gt; @@ -22,7 +22,6 @@
&gt;  #include &lt;linux/clk.h&gt;
&gt;  #include &lt;linux/irq.h&gt;
&gt;  #include &lt;linux/gpio.h&gt;
&gt; -#include &lt;linux/fec.h&gt;
&gt;  #include &lt;linux/platform_device.h&gt;
&gt;  
&gt;  #include &lt;mach/hardware.h&gt;
&gt; @@ -56,8 +55,9 @@ static struct pad_desc mx25pdk_pads[] = {
&gt;  	MX25_PAD_D12__GPIO_4_8, /* FEC_RESET_B, GPIO 104 */
&gt;  };
&gt;  
&gt; -static struct fec_platform_data mx25_fec_pdata = {
&gt; -        .phy    = PHY_INTERFACE_MODE_RMII,
&gt; +static struct platform_device *platform_devices[] __initdata = {
&gt; +	&amp;mxc_usbh2,
&gt; +        &amp;mx25_fec_device,
&gt;  };
&gt;  
&gt;  #define FEC_ENABLE_GPIO		35
&gt; @@ -83,10 +83,9 @@ static void __init mx25pdk_init(void)
&gt;  			ARRAY_SIZE(mx25pdk_pads));
&gt;  
&gt;  	mxc_register_device(&amp;mxc_uart_device0, &amp;uart_pdata);
&gt; -	mxc_register_device(&amp;mxc_usbh2, NULL);
&gt;  
&gt;  	mx25pdk_fec_reset();
&gt; -	mxc_register_device(&amp;mx25_fec_device, &amp;mx25_fec_pdata);
&gt; +        platform_add_devices(platform_devices, ARRAY_SIZE(platform_devices));
&gt;  }
&gt;  
&gt;  static void __init mx25pdk_timer_init(void)
&gt; -- 
&gt; 1.7.0.4
&gt; 
&gt; 

-- 
Pengutronix e.K.                           |                             |
Industrial Linux Solutions                 | <a  rel="nofollow" href="http://www.pengutronix.de/">http://www.pengutronix.de/</a>  |
Peiner Str. 6-8, 31137 Hildesheim, Germany | Phone: +49-5121-206917-0    |
Amtsgericht Hildesheim, HRA 2686           | Fax:   +49-5121-206917-5555 |

_______________________________________________
linux-arm mailing list
linux-arm@xxxxxxxxxxxxxxxxxxx
<a  rel="nofollow" href="http://lists.infradead.org/mailman/listinfo/linux-arm">http://lists.infradead.org/mailman/listinfo/linux-arm</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="15675" href="msg15675.html">[PATCH] Allow the i.mx25 3DStack target to compile.</a></strong>
<ul><li><em>From:</em> Jean-Christophe DUBOIS</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg15677.html">Re: Please help with I2c on S3c processor</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg15679.html">ARM IOMUX GPIO SETTING</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg15675.html">[PATCH] Allow the i.mx25 3DStack target to compile.</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg15676.html">Please help with I2c on S3c processor</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#15678"><strong>Date</strong></a></li>
<li><a href="threads.html#15678"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-arm/>[Linux&nbsp;ARM]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-arm-msm/>[Linux&nbsp;ARM&nbsp;MSM]</a>
&nbsp;
&nbsp;
<a href=/lists/arm-kernel/>[Linux&nbsp;ARM&nbsp;Kernel]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-arm/>[Fedora&nbsp;ARM]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-arm-msm/>[Linux&nbsp;ARM&nbsp;MSM]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-omap/>[Linux&nbsp;OMAP]</a>
&nbsp;
&nbsp;
<a href=/lists/mips/>[Linux&nbsp;MIPS]</a>
&nbsp;
&nbsp;
<a href=/lists/ecos/>[ECOS]</a>
&nbsp;
&nbsp;
<a href=/lists/asterisk/>[Asterisk&nbsp;Internet&nbsp;PBX]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-api/>[Linux&nbsp;API]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
