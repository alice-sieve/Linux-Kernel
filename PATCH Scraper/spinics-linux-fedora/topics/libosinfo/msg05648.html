<!-- MHonArc v2.6.19 -->
<!--X-Subject: Re:  [libosinfo PATCH] os: Add kernel&#45;url&#45;argument API -->
<!--X-From-R13: Tnovnab =?WEA&#45;8859&#45;1?C?Tvq=SOapvb?= &#60;svqrapvbNerqung.pbz> -->
<!--X-Date: Fri, 3 May 2019 05:58:09 &#45;0700 -->
<!--X-Message-Id: f13e53a1e21c59d9a1bacd9b754aff1bf0eeec15.camel@redhat.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20190502143910.28228&#45;1&#45;fidencio@redhat.com -->
<!--X-Reference: CAAY6XseDVqFWhYoFwX=vD4yM_UwWC4QK9rNh=DZnqri8oEAwtg@mail.gmail.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<title>Re:  [libosinfo PATCH] os: Add kernel-url-argument API &mdash; libosinfo</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="libosinfo: Re:  [libosinfo PATCH] os: Add kernel-url-argument API">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<link rel="alternate" type="application/rss+xml" title="libosinfo" href="//feeds.feedburner.com/libosinfo">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:9580497365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="25" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1 itemprop="name">Re:  [libosinfo PATCH] os: Add kernel-url-argument API</h1>
[<a href="msg05647.html">Date Prev</a>][<a href="msg05649.html">Date Next</a>][<a href="msg05647.html">Thread Prev</a>][<a href="msg05650.html">Thread Next</a>][<a href="maillist.html#05648">Date Index</a>][<a href="index.html#05648">Thread Index</a>]


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: Re:  [libosinfo PATCH] os: Add kernel-url-argument API</li>
<li><em>From</em>: Fabiano Fid&#xEA;ncio &lt;fidencio@xxxxxxxxxx&gt;</li>
<li><em>Date</em>: Fri, 03 May 2019 14:56:36 +0200</li>
<li><em>In-reply-to</em>: &lt;CAAY6XseDVqFWhYoFwX=vD4yM_UwWC4QK9rNh=DZnqri8oEAwtg@mail.gmail.com&gt;</li>
<li><em>References</em>: &lt;<a href="msg05630.html">20190502143910.28228-1-fidencio@redhat.com</a>&gt;	&lt;CAAY6XseDVqFWhYoFwX=vD4yM_UwWC4QK9rNh=DZnqri8oEAwtg@mail.gmail.com&gt;</li>
<li><em>User-agent</em>: Evolution 3.32.1 (3.32.1-1.fc30) </li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Fri, 2019-05-03 at 13:07 +0200, Fabiano Fid&#xEA;ncio wrote:
&gt; On Thu, May 2, 2019 at 4:39 PM Fabiano Fid&#xEA;ncio &lt;fidencio@xxxxxxxxxx&gt;
&gt; wrote:
&gt; &gt; Tree based installations will require a kernel-url-argument to be
&gt; &gt; assed. Let's provide an API to the apps to get this info from
&gt; &gt; OsinfoOS.
&gt; &gt; 
&gt; &gt; <a  rel="nofollow" href="https://gitlab.com/libosinfo/osinfo-db/issues/28">https://gitlab.com/libosinfo/osinfo-db/issues/28</a>
&gt; &gt; 
&gt; &gt; Signed-off-by: Fabiano Fid&#xEA;ncio &lt;fidencio@xxxxxxxxxx&gt;
&gt; 
&gt; I've discusses this with Cole off-list and we've decided that going
&gt; for an &quot;inheritance&quot; (pero no mucho) way would be better.
&gt; I'll change the implementation for something towards the line of:
&gt; current.kernel_url_argument = current.kernel_url_argument or
&gt; derived_from.kernel_url_argument
&gt; 
&gt; With that we'll be able to keep kernel_url_argument as a single one
&gt; and just replace it in case a new one is added (which will be needed
&gt; for Fedora &gt;= 19, for instance).
&gt; 
&gt; A v3 (of the whole thing) will be submitted.

Okay, I have this work done but before submit the v3, I'd like to raise
one possible issue and confirm that having this kind of duplication is
fine.

In the v2, I've been using as part of the scripts something like:
&lt;xsl:value-if select=&quot;os/kernel-url-argument&quot;/&gt;

Once we start inheriting kernel-url-argument, the kind of call shown
above wouldn't be possible anymore, leading us to have, as part of the
scripts, something like (for RHEL):
&lt;xsl:choose&gt;
  &lt;xsl:when test=&quot;os/version &amp;lt; 7&quot;&gt;
    &lt;xsl:text&gt; method&lt;/xsl:text&gt;
  &lt;/xsl:when&gt;
  &lt;xsl:otherwise&gt;
    &lt;xsl:text&gt; inst.repo&lt;/xsl:text&gt;
  &lt;/xsl:otherwise&gt;
&lt;/xsl:choose&gt;

This is duplication of info will be needed because not all the &lt;os/&gt;
entris will have the &lt;kernel-url-argument/&gt; attribute.

IMO it still looks better in this way (please, check v1[0]) than having
to have the entry added in all OSes.

Cole, what do you think?

If you're okay with this, I'll just submit the v3.

[0]: <a  rel="nofollow" href="https://www.redhat.com/archives/libosinfo/2019-April/msg00188.html">https://www.redhat.com/archives/libosinfo/2019-April/msg00188.html</a>

Best Regards,
-- 
Fabiano Fid&#xEA;ncio


_______________________________________________
Libosinfo mailing list
Libosinfo@xxxxxxxxxx
<a  rel="nofollow" href="https://www.redhat.com/mailman/listinfo/libosinfo">https://www.redhat.com/mailman/listinfo/libosinfo</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg05647.html">Re:  [libosinfo PATCH] os: Add kernel-url-argument API</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg05649.html">Libosinfo tools, could you help me to have a better understanding of those?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg05647.html">Re:  [libosinfo PATCH] os: Add kernel-url-argument API</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg05650.html">Re:  [libosinfo PATCH] os: Add kernel-url-argument API</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#05648"><strong>Date</strong></a></li>
<li><a href="index.html#05648"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/virt-tools/>[Virt&nbsp;Tools]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/libvirt-users/>[Libvirt&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-users/>[Fedora&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-maintainers/>[Fedora&nbsp;Maintainers]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=http://www.ske-art.com/z/biglist.html>[Big&nbsp;List&nbsp;of&nbsp;Linux&nbsp;Books]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
</font>
</center>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
