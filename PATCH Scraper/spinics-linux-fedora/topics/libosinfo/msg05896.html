<!-- MHonArc v2.6.19 -->
<!--X-Subject: Re:  [libosinfo PATCH 0/6] A few fixes/improvements related to media detect -->
<!--X-From-R13: Qbyr Dbovafba &#60;pebovafbNerqung.pbz> -->
<!--X-Date: Mon, 24 Jun 2019 16:29:38 &#45;0700 -->
<!--X-Message-Id: fd505757&#45;24c1&#45;7037&#45;b536&#45;ed1a24502ce6@redhat.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20190624131650.21954&#45;1&#45;fidencio@redhat.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<title>Re:  [libosinfo PATCH 0/6] A few fixes/improvements related to media detect &mdash; libosinfo</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="libosinfo: Re:  [libosinfo PATCH 0/6] A few fixes/improvements related to media detect">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<link rel="alternate" type="application/rss+xml" title="libosinfo" href="//feeds.feedburner.com/libosinfo">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:9580497365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="25" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1 itemprop="name">Re:  [libosinfo PATCH 0/6] A few fixes/improvements related to media detect</h1>
[<a href="msg05895.html">Date Prev</a>][<a href="msg05897.html">Date Next</a>][<a href="msg05895.html">Thread Prev</a>][<a href="msg05897.html">Thread Next</a>][<a href="maillist.html#05896">Date Index</a>][<a href="index.html#05896">Thread Index</a>]


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: Re:  [libosinfo PATCH 0/6] A few fixes/improvements related to media detect</li>
<li><em>From</em>: Cole Robinson &lt;crobinso@xxxxxxxxxx&gt;</li>
<li><em>Date</em>: Mon, 24 Jun 2019 19:27:55 -0400</li>
<li><em>In-reply-to</em>: &lt;<a href="msg05893.html">20190624131650.21954-1-fidencio@redhat.com</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg05893.html">20190624131650.21954-1-fidencio@redhat.com</a>&gt;</li>
<li><em>User-agent</em>: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101	Thunderbird/60.7.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On 6/24/19 9:16 AM, Fabiano Fid&#xEA;ncio wrote:
&gt; This series includes a few fixes to media detect including:
&gt; - Using case insensitive compares for the &quot;/ppc/bootinfo.txt&quot; file;
&gt; - Adding new APIs to avoid erroring out when a media is not bootable;
&gt; - Adding new APIs to check whether a media is bootable or not;
&gt; 
&gt; There is still no change on osinfo-detect, but that may come later in
&gt; case these patches are accepted.
&gt; 
&gt; Related: <a  rel="nofollow" href="https://gitlab.com/libosinfo/libosinfo/issues/15">https://gitlab.com/libosinfo/libosinfo/issues/15</a>
&gt; 
&gt; Fabiano Fid&#xEA;ncio (6):
&gt;   media: Ignore case when detecting bootable ppc ISO
&gt;   media: Add OsinfoMediaDetectFlags
&gt;   media: Add create_from_location_with_flags* APIs
&gt;   media: Rewrite create_from_location* functions
&gt;   media: Only error out if a media is not bootable when REQUIRE_BOOTABLE
&gt;     flag is passed
&gt;   media: Add _is_bootable() API
&gt; 
&gt;  osinfo/libosinfo.syms |   6 ++
&gt;  osinfo/osinfo_media.c | 126 ++++++++++++++++++++++++++++++++++++++----
&gt;  osinfo/osinfo_media.h |  25 +++++++++
&gt;  3 files changed, 145 insertions(+), 12 deletions(-)
&gt; 

Nice! Thanks for this. I gave it a spin and it fixed issues in my local
media test suite.

For osinfo_media_create_from_location_with_flags, I needed to swap the
Error and flags argument order. Otherwise gobject introspection python
bindings wanted us to pass an Error, which isn't expected, it seems to
hide that detail for other APIs and turn errors into exceptions. All the
other APIs have the GError argument as the last arg, so there must be
something special about that placement.

With that fixed:

Reviewed-by: Cole Robinson &lt;crobinso@xxxxxxxxxx&gt;

- Cole

_______________________________________________
Libosinfo mailing list
Libosinfo@xxxxxxxxxx
<a  rel="nofollow" href="https://www.redhat.com/mailman/listinfo/libosinfo">https://www.redhat.com/mailman/listinfo/libosinfo</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg05895.html">[libosinfo PATCH 5/6] media: Only error out if a media	is not bootable when REQUIRE_BOOTABLE flag is passed</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg05897.html">[osinfo-db PATCH 0/5] RHEL-8 unattended installations</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg05895.html">[libosinfo PATCH 5/6] media: Only error out if a media	is not bootable when REQUIRE_BOOTABLE flag is passed</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg05897.html">[osinfo-db PATCH 0/5] RHEL-8 unattended installations</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#05896"><strong>Date</strong></a></li>
<li><a href="index.html#05896"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/virt-tools/>[Virt&nbsp;Tools]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/libvirt-users/>[Libvirt&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-users/>[Fedora&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-maintainers/>[Fedora&nbsp;Maintainers]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=http://www.ske-art.com/z/biglist.html>[Big&nbsp;List&nbsp;of&nbsp;Linux&nbsp;Books]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
</font>
</center>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
