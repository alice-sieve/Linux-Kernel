<!-- MHonArc v2.6.19 -->
<!--X-Subject: Re:  [jenkins&#45;ci PATCH v2 03/20] quayadmin: Tweak quiet logic -->
<!--X-From-R13: Oaqern Pbybtanav &#60;nobybtanNerqung.pbz> -->
<!--X-Date: Thu, 18 Jul 2019 01:02:45 &#45;0700 -->
<!--X-Message-Id: 9f0e47a7235038f16ed701a47ada5a443585f67a.camel@redhat.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20190717134929.10540&#45;1&#45;abologna@redhat.com -->
<!--X-Reference: 20190717134929.10540&#45;4&#45;abologna@redhat.com -->
<!--X-Reference: 20190717171432.GS2891@redhat.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<title>libvirt &mdash; Re:  [jenkins-ci PATCH v2 03/20] quayadmin: Tweak quiet logic</title>
<meta name="description" content="libvirt: Re:  [jenkins-ci PATCH v2 03/20] quayadmin: Tweak quiet logic">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="alternate" type="application/rss+xml" title="Libvirt Development" href="//feeds.feedburner.com/Libvir">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:8422278960" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="55" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1>Re:  [jenkins-ci PATCH v2 03/20] quayadmin: Tweak quiet logic</h1>
[<a href="msg187627.html">Date Prev</a>][<a href="msg187629.html">Date Next</a>][<a href="msg187598.html">Thread Prev</a>][<a href="msg187550.html">Thread Next</a>][<a href="maillist.html#187628">Date Index</a>][<a href="index.html#187628">Thread Index</a>] 


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: Re:  [jenkins-ci PATCH v2 03/20] quayadmin: Tweak quiet logic</li>
<li><em>From</em>: Andrea Bolognani &lt;abologna@xxxxxxxxxx&gt;</li>
<li><em>Date</em>: Thu, 18 Jul 2019 10:02:33 +0200</li>
<li><em>Cc</em>: libvir-list@xxxxxxxxxx</li>
<li><em>In-reply-to</em>: &lt;<a href="msg187598.html">20190717171432.GS2891@redhat.com</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg187545.html">20190717134929.10540-1-abologna@redhat.com</a>&gt;	&lt;<a href="msg187549.html">20190717134929.10540-4-abologna@redhat.com</a>&gt;	&lt;<a href="msg187598.html">20190717171432.GS2891@redhat.com</a>&gt;</li>
<li><em>User-agent</em>: Evolution 3.32.3 (3.32.3-1.fc30) </li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Wed, 2019-07-17 at 18:14 +0100, Daniel P. Berrang&#xE9; wrote:
&gt; On Wed, Jul 17, 2019 at 03:49:12PM +0200, Andrea Bolognani wrote:
&gt; &gt; If we've been asked not to produce any output, we can bail
&gt; &gt; early: doing so means we don't need to increase indentation
&gt; &gt; for subsequent code, and in some cases we can even avoid
&gt; &gt; fetching the JSON data from the response object.
&gt; 
&gt; Unless I'm mis-reading the last point doesn't seem to affect
&gt; this patch - we're still fetching JSON, which is good I think,
&gt; as it means we check the response is well formed, and not an
&gt; error of some kind

We skip calling res.json() when all we need the JSON for is some
data to be displayed and we're in quiet mode. All the usual checks
on the return code still happens. I assume res.json() needs to do
some processing when it's called, and now we can skip that.

Either way that's a secondary concern, it was mostly about the
indentation :)

Thanks for the review, and for getting the script started in the
first place! The entire series has been pushed now.

-- 
Andrea Bolognani / Red Hat / Virtualization

--
libvir-list mailing list
libvir-list@xxxxxxxxxx
<a  rel="nofollow" href="https://www.redhat.com/mailman/listinfo/libvir-list">https://www.redhat.com/mailman/listinfo/libvir-list</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg187627.html">Re:  [PATCH 1/1] Revert &quot;Revert &quot;qemu: Temporary disable owner remembering&quot;&quot;</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg187629.html">Re:  [PATCH 1/1] Revert &quot;Revert &quot;qemu: Temporary disable owner remembering&quot;&quot;</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg187598.html">Re:  [jenkins-ci PATCH v2 03/20] quayadmin: Tweak quiet logic</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg187550.html">[jenkins-ci PATCH v2 05/20] quayadmin: Tweak list-repos	output format</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#187628"><strong>Date</strong></a></li>
<li><a href="index.html#187628"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/virt-tools/>[Virt&nbsp;Tools]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/libvirt-users/>[Libvirt&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/libosinfo/>[Lib&nbsp;OS&nbsp;Info]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-users/>[Fedora&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=http://www.ske-art.com/z/biglist.php>[Big&nbsp;List&nbsp;of&nbsp;Linux&nbsp;Books]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-tools/>[Fedora&nbsp;Tools]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
