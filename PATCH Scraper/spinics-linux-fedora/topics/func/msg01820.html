<!-- MHonArc v2.6.19 -->
<!--X-Subject: Re:  PATCH: Add x509Extensions to cacert and slave certs -->
<!--X-From-R13: frgu ivqny &#60;fxivqnyNsrqbencebwrpg.bet> -->
<!--X-Date: Mon, 28 Mar 2011 08:22:04 &#45;0700 -->
<!--X-Message-Id: 1301325602.12844.61.camel@oliver -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: AANLkTinN2nwtmy0tzS6cui&#45;Y=+GGqNmGmmCaNZaNtsaS@mail.gmail.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Fedora Universal Network Connector, Re:  PATCH: Add x509Extensions to cacert and slave certs">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<title>Fedora Universal Network Connector &mdash; Re:  PATCH: Add x509Extensions to cacert and slave certs</title>
<link rel="alternate" type="application/rss+xml" title="Fedora Universal Network Connector" href="//feeds.feedburner.com/FedoraUniversalNetworkConnector">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:9580497365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="25" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1 itemprop="name">Re:  PATCH: Add x509Extensions to cacert and slave certs</h1>
[<a href="msg01819.html">Date Prev</a>][<a href="msg01821.html">Date Next</a>][<a href="msg01819.html">Thread Prev</a>][<a href="msg01821.html">Thread Next</a>][<a href="maillist.html#01820">Date Index</a>][<a href="index.html#01820">Thread Index</a>]


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: Re:  PATCH: Add x509Extensions to cacert and slave certs</li>
<li><em>From</em>: seth vidal &lt;<a href="mailto:skvidal@DOMAIN.HIDDEN">skvidal@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Mon, 28 Mar 2011 11:20:02 -0400</li>
<li><em>Cc</em>: <a href="mailto:func-list@DOMAIN.HIDDEN">func-list@xxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:AANLkTinN2nwtmy0tzS6cui-Y%3D%2BGGqNmGmmCaNZaNtsaS@DOMAIN.HIDDEN">AANLkTinN2nwtmy0tzS6cui-Y=+GGqNmGmmCaNZaNtsaS@xxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:AANLkTinN2nwtmy0tzS6cui-Y%3D%2BGGqNmGmmCaNZaNtsaS@DOMAIN.HIDDEN">AANLkTinN2nwtmy0tzS6cui-Y=+GGqNmGmmCaNZaNtsaS@xxxxxxxxxxxxxx</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Fri, 2011-03-25 at 14:54 -0700, Al Tobey wrote:
&gt; <a  rel="nofollow" href="https://github.com/tobert/certmaster/commit/21b55436bc7e9f154c637a4213266e67aa0b6577">https://github.com/tobert/certmaster/commit/21b55436bc7e9f154c637a4213266e67aa0b6577</a>
&gt; 
&gt; 
&gt; This patch adds x509 extensions for dnsName and nsComment to
&gt; certmaster. I've only done light testing at this point, but it seems
&gt; to work on my Fedora 14 machine. The try/catch should allow things to
&gt; keep working on older distros with broken x509Extension support in
&gt; pyOpenSSL. I'll be testing on CentOS 5.3 soon, since that's my target
&gt; platform.
&gt; 
&gt; 
&gt; My goal is to get full mutual authentication working with rsyslog
&gt; 4.2.2 TLS (4.2.2 is shipped with EL6).
&gt; 
&gt; 
&gt; From openssl x509 -in /etc/pki/certmaster/xxxxxx.cert -text
&gt;         X509v3 extensions:
&gt;             X509v3 Basic Constraints: critical
&gt;                 CA:FALSE
&gt;             Netscape Comment: 
&gt;                 Created by certmaster.
&gt;             X509v3 Subject Alternative Name: 
&gt;                 DNS:xxxxxx
&gt; 
&gt; 
&gt; And openssl x509 -in /etc/pki/certmaster/ca.cert -text
&gt;         X509v3 extensions:
&gt;             X509v3 Basic Constraints: critical
&gt;                 CA:TRUE
&gt;             Netscape Comment: 
&gt;                 Created by certmaster.
&gt;             X509v3 Subject Alternative Name: 
&gt;                 DNS:xxxxxx
&gt; 
&gt; 
&gt; Thanks,
&gt; -Al Tobey
&gt; 
&gt; 
&gt; commit 21b55436bc7e9f154c637a4213266e67aa0b6577
&gt; Author: Al Tobey &lt;tobert@xxxxxxxxx&gt;
&gt; Date:   Fri Mar 25 14:14:57 2011 -0700
&gt; 
&gt; 
&gt;     Add x509 extensions for dnsName and nsComment.
&gt;     
&gt;     Many utilities that could use certmaster certs follow rules laid
&gt;     out in RFC3280. At the moment I'm working on integrating rsyslog
&gt;     TLS with mutual authentication. Certmaster certs currently only
&gt;     work in &quot;anon&quot; mode where encryption is achieved, but no
&gt;     authentication is performed.
&gt;     
&gt;     To that end, a function _build_extension_list() is implemented in
&gt;     this patch that is now used by both create_ca() and
&gt;     create_slave_certificate() that attempts to add the extensions to
&gt;     the cert before signing.
&gt;     
&gt;     subjectKeyIdentifier will be explored in a subsequent patch.
&gt;     
&gt; 
&gt; 


I'm not in love with the way that error is handled. I'm more inclined to
have it fall back to NOT including the extensions if it encounters that
error.

the problem, however, is that on rhel 5.X it doesn't throw an exception,
it segfaults, which is harder to catch. :)

-sv


_______________________________________________
Func-list mailing list
Func-list@xxxxxxxxxx
<a  rel="nofollow" href="https://www.redhat.com/mailman/listinfo/func-list">https://www.redhat.com/mailman/listinfo/func-list</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg01819.html">PATCH: Add x509Extensions to cacert and slave certs</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg01821.html">Re:  PATCH: Add x509Extensions to cacert and slave certs</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg01819.html">PATCH: Add x509Extensions to cacert and slave certs</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01821.html">Re:  PATCH: Add x509Extensions to cacert and slave certs</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#01820"><strong>Date</strong></a></li>
<li><a href="index.html#01820"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-users/>[Fedora&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/netdev/>[Linux&nbsp;Networking]</a>
&nbsp;
&nbsp;
<a href=/lists/fll/>[Fedora&nbsp;Legacy&nbsp;List]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=http://www.ske-art.com/z//biglist.html>[Big&nbsp;List&nbsp;of&nbsp;Linux&nbsp;Books]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
