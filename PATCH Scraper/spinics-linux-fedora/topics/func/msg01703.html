<!-- MHonArc v2.6.19 -->
<!--X-Subject: Re:  [PATCH] Add checksumming feature to copyfile module -->
<!--X-From-R13: [nephf Znhre &#60;znephfynhreNalp.ee.pbz> -->
<!--X-Date: Mon, 6 Dec 2010 16:13:56 &#45;0800 -->
<!--X-Message-Id: 201012061912.27905.marcuslauer@nyc.rr.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 201011261252.15837.marcuslauer@nyc.rr.com -->
<!--X-Reference: 1291673600.7559.36.camel@oliver -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Fedora Universal Network Connector, Re:  [PATCH] Add checksumming feature to copyfile module">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<title>Fedora Universal Network Connector &mdash; Re:  [PATCH] Add checksumming feature to copyfile module</title>
<link rel="alternate" type="application/rss+xml" title="Fedora Universal Network Connector" href="//feeds.feedburner.com/FedoraUniversalNetworkConnector">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:9580497365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="25" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1 itemprop="name">Re:  [PATCH] Add checksumming feature to copyfile module</h1>
[<a href="msg01702.html">Date Prev</a>][<a href="msg01704.html">Date Next</a>][<a href="msg01701.html">Thread Prev</a>][<a href="msg01694.html">Thread Next</a>][<a href="maillist.html#01703">Date Index</a>][<a href="index.html#01703">Thread Index</a>]


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: Re:  [PATCH] Add checksumming feature to copyfile module</li>
<li><em>From</em>: Marcus Lauer &lt;<a href="mailto:marcuslauer@DOMAIN.HIDDEN">marcuslauer@xxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Mon, 6 Dec 2010 19:12:27 -0500</li>
<li><em>Cc</em>: <a href="mailto:func-list@DOMAIN.HIDDEN">func-list@xxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:1291673600.7559.36.camel@DOMAIN.HIDDEN"><a href="msg01701.html">1291673600.7559.36.camel@oliver</a></a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:201011261252.15837.marcuslauer@DOMAIN.HIDDEN">201011261252.15837.marcuslauer@xxxxxxxxxx</a>&gt;	&lt;<a href="mailto:1291673600.7559.36.camel@DOMAIN.HIDDEN"><a href="msg01701.html">1291673600.7559.36.camel@oliver</a></a>&gt;</li>
<li><em>Reply-to</em>: <a href="mailto:marcuslauer@DOMAIN.HIDDEN">marcuslauer@xxxxxxxxxx</a></li>
<li><em>User-agent</em>: KMail/1.13.3 (Linux/2.6.33.7-desktop-2mnb; KDE/4.4.3; x86_64; ; )</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Monday, December 06, 2010 05:13:20 pm you wrote:
&gt; &gt;         Based on the experience of writing this code I would like to make
&gt; &gt;         a
&gt; &gt; 
&gt; &gt; feature suggestion.  It would be useful if the &quot;run&quot; method in the
&gt; &gt; &quot;Overlord&quot; class could take an optional &quot;mask&quot; argument which could
&gt; &gt; instruct it to skip certain Minions.  The mask could be a dictionary
&gt; &gt; with minion names as the keys and something like True/False as the data.
&gt; &gt;  Coincidentally this is almost exactly the same structure which is
&gt; &gt; returned by the &quot;run&quot; method in the &quot;Overlord&quot; class itself.  This
&gt; &gt; feature would make it easy and efficient to write functions which have
&gt; &gt; multiple &quot;run&quot; calls which are dependent upon one another.
&gt; 
&gt; So - you'd setup an overlord client with a host-specification and then
&gt; you want to modify that specification on the fly for the run() method?
&gt; 
&gt; would it be easier/make more sense to just be able to modify the host
&gt; specification while the class exists?
&gt; 
&gt; ie:
&gt; 
&gt; fc  = Client('myhost;list;of;doom')
&gt; fc.change_hosts('newspecification')
&gt; fc.run()
&gt; 
&gt; would that do what do what you want?
&gt; -sv

         That would get the job done, but I'm not crazy about destructively 
modifying the minion list.  A command which utilizes multiple &quot;run&quot; calls 
might run on one subset of the minions at one point and on a different subset 
at a later point.  Trivial example: a command which creates a custom logfile 
which ends with a line like &quot;Completed at &lt;timestamp&gt;&quot; even on those minions 
on which nothing was actually done (so that you know it did run on that minion 
even if it didn't do anything else).  To implement this sort of functionality 
I would have to save the initial minion list and restore it later by calling 
change_hosts again.  To me that seems awkward compared to passing an optional 
argument to &quot;run&quot;, though workable.

        The third option is to pass the equivalent of a mask to the minions 
and let them figure out if they're supposed to do anything.  This is what my 
patch does, but the patch also illustrates the problem with this approach.  If 
a function like &quot;append&quot; is run many times (e.g. when a large file is copied) 
then even minions which are not overwriting the target file have to keep doing 
things.  Specifically they have to keep calling get_hostname_by_route so that 
they can parse the mask, and this involves querying the overlord to get the 
hostname for every chunk!

--
Marcus

_______________________________________________
Func-list mailing list
Func-list@xxxxxxxxxx
<a  rel="nofollow" href="https://www.redhat.com/mailman/listinfo/func-list">https://www.redhat.com/mailman/listinfo/func-list</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg01702.html">[PATCH] Add vm states to func-list-vms-per-host.py	output.</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg01704.html">Re:  [PATCH] Add vm states to func-list-vms-per-host.py output.</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg01701.html">Re:  [PATCH] Add checksumming feature to copyfile module</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01694.html">Re:  Func-list Digest, Vol 39, Issue 7</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#01703"><strong>Date</strong></a></li>
<li><a href="index.html#01703"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-users/>[Fedora&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/netdev/>[Linux&nbsp;Networking]</a>
&nbsp;
&nbsp;
<a href=/lists/fll/>[Fedora&nbsp;Legacy&nbsp;List]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=http://www.ske-art.com/z//biglist.html>[Big&nbsp;List&nbsp;of&nbsp;Linux&nbsp;Books]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
