<!-- MHonArc v2.6.19 -->
<!--X-Subject: Re:  [PATCH] cmdline: Add a new "&#45;&#45;machdep stacksize=&#60;value>". -->
<!--X-From-R13: Rbzvavdhr [negvarg &#60;nfznqrhfNpbqrjerpx.bet> -->
<!--X-Date: Mon, 1 Oct 2018 06:36:59 &#45;0700 -->
<!--X-Message-Id: 20181001133511.GA4781@nautica -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1538212197&#45;15357&#45;1&#45;git&#45;send&#45;email&#45;fxinrong@gmail.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Re:  [PATCH] cmdline: Add a new &quot;--machdep stacksize=&lt;value&gt;&quot;. &mdash; Red Hat Crash Utility">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<title>Red Hat Crash Utility &mdash;  Re:  [PATCH] cmdline: Add a new &quot;--machdep stacksize=&lt;value&gt;&quot;.</title>
<link rel="alternate" type="application/rss+xml" title="Red Hat Crash Utility" href="//feeds.feedburner.com/RedHatCrashUtility">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:9580497365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="25" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1 itemprop="name">Re:  [PATCH] cmdline: Add a new &quot;--machdep stacksize=&lt;value&gt;&quot;.</h1>
[<a href="msg07595.html">Date Prev</a>][<a href="msg07597.html">Date Next</a>][<a href="msg07595.html">Thread Prev</a>][<a href="msg07597.html">Thread Next</a>][<a href="maillist.html#07596">Date Index</a>][<a href="index.html#07596">Thread Index</a>]
<script src="https://apis.google.com/js/platform.js" async defer></script>
<g:plusone size="small"></g:plusone>
<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: Re:  [PATCH] cmdline: Add a new &quot;--machdep stacksize=&lt;value&gt;&quot;.</li>
<li><em>From</em>: Dominique Martinet &lt;asmadeus@xxxxxxxxxxxxx&gt;</li>
<li><em>Date</em>: Mon, 1 Oct 2018 15:35:11 +0200</li>
<li><em>In-reply-to</em>: &lt;<a href="msg07595.html">1538212197-15357-1-git-send-email-fxinrong@gmail.com</a>&gt;</li>
<li><em>Reply-to</em>: &quot;Discussion list for crash utility usage,	maintenance and development&quot; &lt;crash-utility@xxxxxxxxxx&gt;</li>
<li><em>User-agent</em>: Mutt/1.5.21 (2010-09-15)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" defer async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Sean Fu wrote on Sat, Sep 29, 2018:
&gt;<i> Implemented support for 16k stack size that was introduced by commit</i>
&gt;<i> 6538b8ea886e472f4431db8ca1d60478f838d14b titled &quot;x86_64: expand kernel</i>
&gt;<i> stack to 16K&quot;.</i>
&gt;<i> Without the patch, kernels has 16k stack, leading to errors in commands</i>
&gt;<i> such as &quot;bt&quot; and any command regarding 8K stack.</i>
&gt;<i> Add a new &quot;--machdep stacksize=&lt;value&gt;&quot; option that can be used to</i>
&gt;<i> override the default machdep-&gt;stacksize value which is 8k.</i>

Instead of making that an option it could be possible to autodetect this
by looking at __start_init_task / __end_init_task symbols, the
difference should be the proper size (the symbols have been around since
91ed140d6c1e168b11bbbddac4f6066f40a0c6b5 in 4.7 so that might not be old
enough for you though, as your commit dates 3.15 ; but there might be
other methods of getting stack size I haven't thought of, I only grepped
in a recent kernel)

-- 
Dominique Martinet

--
Crash-utility mailing list
Crash-utility@xxxxxxxxxx
<a  rel="nofollow" href="https://www.redhat.com/mailman/listinfo/crash-utility">https://www.redhat.com/mailman/listinfo/crash-utility</a>


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="07595" href="msg07595.html">[PATCH] cmdline: Add a new &quot;--machdep	stacksize=&lt;value&gt;&quot;.</a></strong>
<ul><li><em>From:</em> Sean Fu</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg07595.html">[PATCH] cmdline: Add a new &quot;--machdep	stacksize=&lt;value&gt;&quot;.</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg07597.html">Re:  [PATCH] cmdline: Add a new &quot;--machdep	stacksize=&lt;value&gt;&quot;.</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg07595.html">[PATCH] cmdline: Add a new &quot;--machdep	stacksize=&lt;value&gt;&quot;.</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg07597.html">Re:  [PATCH] cmdline: Add a new &quot;--machdep	stacksize=&lt;value&gt;&quot;.</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#07596"><strong>Date</strong></a></li>
<li><a href="index.html#07596"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-devel/>[Fedora&nbsp;Development]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-tools/>[Fedora&nbsp;Tools]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width="100%">
<tr>
<td align=left>&nbsp;</td>
<td valign=top align=right><H1><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></H1></td>
</tr></table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
