<!-- MHonArc v2.6.19 -->
<!--X-Subject: Re:  [PATCH RFC 0/1] Display relative lag of each CPU -->
<!--X-From-R13: Ayrxfnaqe @ngnyraxb &#60;byrxfnaqeNerqung.pbz> -->
<!--X-Date: Wed, 8 Nov 2017 23:22:27 &#45;0800 -->
<!--X-Message-Id: CAHcwAbSZXXa6uJMH3dxk_=yx1faMunuCPPDKOum0dpNYv+jWJg@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20171103083812.23106&#45;1&#45;oleksandr@redhat.com -->
<!--X-Reference: 36716602.1056944.1510158787511.JavaMail.zimbra@redhat.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Re:  [PATCH RFC 0/1] Display relative lag of each CPU &mdash; Red Hat Crash Utility">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<title>Red Hat Crash Utility &mdash;  Re:  [PATCH RFC 0/1] Display relative lag of each CPU</title>
<link rel="alternate" type="application/rss+xml" title="Red Hat Crash Utility" href="//feeds.feedburner.com/RedHatCrashUtility">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:9580497365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="25" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1 itemprop="name">Re:  [PATCH RFC 0/1] Display relative lag of each CPU</h1>
[<a href="msg07186.html">Date Prev</a>][<a href="msg07188.html">Date Next</a>][<a href="msg07186.html">Thread Prev</a>][<a href="msg07190.html">Thread Next</a>][<a href="maillist.html#07187">Date Index</a>][<a href="index.html#07187">Thread Index</a>]
<script src="https://apis.google.com/js/platform.js" async defer></script>
<g:plusone size="small"></g:plusone>
<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: Re:  [PATCH RFC 0/1] Display relative lag of each CPU</li>
<li><em>From</em>: Oleksandr Natalenko &lt;oleksandr@xxxxxxxxxx&gt;</li>
<li><em>Date</em>: Thu, 9 Nov 2017 08:21:59 +0100</li>
<li><em>Cc</em>: crash-utility@xxxxxxxxxx</li>
<li><em>In-reply-to</em>: &lt;<a href="msg07186.html">36716602.1056944.1510158787511.JavaMail.zimbra@redhat.com</a>&gt;</li>
<li><em>Reply-to</em>: &quot;Discussion list for crash utility usage,	maintenance and development&quot; &lt;crash-utility@xxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" defer async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi, Dave.

The question about indentation for column output is whether you prefer
simple tabulation (&quot;\t&quot;), or calculated amount of spaces. Tabs are
simpler, but in case we have big CPU number, output may be shifted.

This is the only concern from me regarding this submission.

On Wed, Nov 8, 2017 at 5:33 PM, Dave Anderson &lt;anderson@xxxxxxxxxx&gt; wrote:
&gt;<i></i>
&gt;<i></i>
&gt;<i> ----- Original Message -----</i>
&gt;<i>&gt; While analyzing vmcore it is useful to have an information</i>
&gt;<i>&gt; about relative lag of each CPU. Usually, people do something like this:</i>
&gt;<i>&gt;</i>
&gt;<i>&gt; runq -t | grep CPU | sort -k3r |</i>
&gt;<i>&gt;   awk 'NR==1{now=strtonum(&quot;0x&quot;$3)}1{printf&quot;%s\t%7.2fs behind\n&quot;,</i>
&gt;<i>&gt;        $0,(now-strtonum(&quot;0x&quot;$3))/1000000000}'</i>
&gt;<i>&gt;</i>
&gt;<i>&gt; Here, most recent runqueue timestamp is taken as a basis, and other</i>
&gt;<i>&gt; runqueues are assumed to lag behind it. This information can tell</i>
&gt;<i>&gt; the reviewer which CPU is experiencing some lockup, which is</i>
&gt;<i>&gt; especially useful for vmcores taken in virtual machines.</i>
&gt;<i>&gt;</i>
&gt;<i>&gt; I think it would be nice to have this feature implemented by crash</i>
&gt;<i>&gt; utility itself.</i>
&gt;<i></i>
&gt;<i> OK...</i>
&gt;<i></i>
&gt;<i>&gt; Since this is an RFC and if this enhancement looks useful, I'd like</i>
&gt;<i>&gt; to ask to assist me with output indentation since dump_on_rq_timestamp(),</i>
&gt;<i>&gt; for instance, looks too implicit and (honestly) awful to use as it is.</i>
&gt;<i></i>
&gt;<i> I don't know what you need assistance for?</i>
&gt;<i></i>
&gt;<i> Dave</i>
&gt;<i></i>
&gt;<i></i>
&gt;<i>&gt; Oleksandr Natalenko (1):</i>
&gt;<i>&gt;   runq: display relative lag of each CPU</i>
&gt;<i>&gt;</i>
&gt;<i>&gt;  help.c |  4 +++-</i>
&gt;<i>&gt;  task.c | 76</i>
&gt;<i>&gt;  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-</i>
&gt;<i>&gt;  2 files changed, 78 insertions(+), 2 deletions(-)</i>
&gt;<i>&gt;</i>
&gt;<i>&gt; --</i>
&gt;<i>&gt; 2.15.0</i>
&gt;<i>&gt;</i>
&gt;<i>&gt;</i>



-- 
Best regards,
  Oleksandr Natalenko (post-factum)
  Software Maintenance Engineer

--
Crash-utility mailing list
Crash-utility@xxxxxxxxxx
<a  rel="nofollow" href="https://www.redhat.com/mailman/listinfo/crash-utility">https://www.redhat.com/mailman/listinfo/crash-utility</a>


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="07190" href="msg07190.html">Re:  [PATCH RFC 0/1] Display relative lag of each CPU</a></strong>
<ul><li><em>From:</em> Dave Anderson</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="07177" href="msg07177.html">[PATCH RFC 0/1] Display relative lag of each CPU</a></strong>
<ul><li><em>From:</em> Oleksandr Natalenko</li></ul></li>
<li><strong><a name="07186" href="msg07186.html">Re:  [PATCH RFC 0/1] Display relative lag of each CPU</a></strong>
<ul><li><em>From:</em> Dave Anderson</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg07186.html">Re:  [PATCH RFC 0/1] Display relative lag of each CPU</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg07188.html">[PATCH] book3s/ppc64: update hash page table	geometry</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg07186.html">Re:  [PATCH RFC 0/1] Display relative lag of each CPU</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg07190.html">Re:  [PATCH RFC 0/1] Display relative lag of each CPU</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#07187"><strong>Date</strong></a></li>
<li><a href="index.html#07187"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-devel/>[Fedora&nbsp;Development]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-tools/>[Fedora&nbsp;Tools]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width="100%">
<tr>
<td align=left>&nbsp;</td>
<td valign=top align=right><H1><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></H1></td>
</tr></table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
