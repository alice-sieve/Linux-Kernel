<!-- MHonArc v2.6.19 -->
<!--X-Subject: Re: [PATCH 0/2 v2] at91/ssc: fixes on ASoC tree for 3.8 -->
<!--X-From-R13: Aybs Xbunaffba &#60;bybsNyvkbz.arg> -->
<!--X-Date: Fri, 11 Jan 2013 11:53:36 &#45;0800 -->
<!--X-Message-Id: 20130111195331.GA2533@quad.lixom.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: cover.1357912706.git.nicolas.ferre@atmel.com -->
<!--X-Reference: CAOesGMhhSkrvP7X=y8qmdMKKXZ694+1+ZXY3y6HK1E85qaN5sQ@mail.gmail.com -->
<!--X-Reference: 20130111193948.GA8677@opensource.wolfsonmicro.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Linux Sound: Re: [PATCH 0/2 v2] at91/ssc: fixes on ASoC tree for 3.8">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<title>Linux Sound &mdash; Re: [PATCH 0/2 v2] at91/ssc: fixes on ASoC tree for 3.8</title>
<link rel="alternate" type="application/rss+xml" title="Linux Sound" href="//feeds.feedburner.com/LinuxSound">
</head>
<body vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:6612422167" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="55" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1 itemprop="name">Re: [PATCH 0/2 v2] at91/ssc: fixes on ASoC tree for 3.8</h1>
[<a href="msg00304.html">Date Prev</a>][<a href="msg00306.html">Date Next</a>][<a href="msg00304.html">Thread Prev</a>][<a href="msg00307.html">Thread Next</a>][<a href="maillist.html#00305">Date Index</a>][<a href="index.html#00305">Thread Index</a>]
<script src="https://apis.google.com/js/platform.js" async defer></script>
<g:plusone size="small"></g:plusone>
<p>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: Re: [PATCH 0/2 v2] at91/ssc: fixes on ASoC tree for 3.8</li>
<li><em>From</em>: Olof Johansson &lt;<a href="mailto:olof@DOMAIN.HIDDEN">olof@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Fri, 11 Jan 2013 11:53:31 -0800</li>
<li><em>Cc</em>: Nicolas Ferre &lt;<a href="mailto:nicolas.ferre@DOMAIN.HIDDEN">nicolas.ferre@xxxxxxxxx</a>&gt;, <a href="mailto:voice.shen@DOMAIN.HIDDEN">voice.shen@xxxxxxxxx</a>,        Jean-Christophe PLAGNIOL-VILLARD &lt;<a href="mailto:plagnioj@DOMAIN.HIDDEN">plagnioj@xxxxxxxxxxxx</a>&gt;,        <a href="mailto:linux-arm-kernel@DOMAIN.HIDDEN">linux-arm-kernel@xxxxxxxxxxxxxxxxxxx</a>, <a href="mailto:linux-kernel@DOMAIN.HIDDEN">linux-kernel@xxxxxxxxxxxxxxx</a>,        <a href="mailto:alsa-devel@DOMAIN.HIDDEN">alsa-devel@xxxxxxxxxxxxxxxx</a>, <a href="mailto:linux-sound@DOMAIN.HIDDEN">linux-sound@xxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="msg00304.html">20130111193948.GA8677@opensource.wolfsonmicro.com</a>&gt;</li>
<li><em>User-agent</em>: Mutt/1.5.21 (2010-09-15)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Fri, Jan 11, 2013 at 07:39:49PM +0000, Mark Brown wrote:
&gt; On Fri, Jan 11, 2013 at 10:52:19AM -0800, Olof Johansson wrote:
&gt; &gt; On Fri, Jan 11, 2013 at 6:08 AM, Nicolas Ferre &lt;nicolas.ferre@xxxxxxxxx&gt; wrote:
&gt; &gt; 
&gt; &gt; &gt; This material was designed to enter Mark's fixes queue, but as discussed with
&gt; &gt; &gt; Olof, we can imagine merging everything through arm-soc or split the series (of
&gt; &gt; &gt; 2 patches) and let them progress upstream separated (option that I do not like
&gt; &gt; &gt; even if I know that the consequences are not so dramatic).
&gt; &gt; &gt; So please, Olof, if you feel confortable with this series, tell us what you
&gt; &gt; &gt; prefer and we will make our best to make this material go forward...
&gt; 
&gt; &gt; You're setting yourself up for awkward merges. The driver change is
&gt; &gt; strongly dependent on the device tree change by failing probe unless
&gt; &gt; the device tree update is there, while before this patch, it still
&gt; &gt; worked.
&gt; 
&gt; This is partly my fault for getting grumpy about adding the bolier plate
&gt; code without error checking - overall Linus' change to do the get in the
&gt; core seems like the most sane approach here.
&gt; 
&gt; &gt; But to be honest, I don't think this is a fix, it's a feature that you
&gt; &gt; just didn't include in time for the merge window. I don't really see
&gt; &gt; them as appropriate 3.8 material at this point.
&gt; 
&gt; Jean-Christophe has been most insistent that pinctrl support is now
&gt; manadatory for all AT91 systems using device tree. 

That's a noble goal but enforcing it early gives everyone a lot of pain, and
quite honestly doesn't make sense. During transition it's better to be lenient
and allow both old and new methods (without breakage), unless it causes
significant extra churn.

&gt; Unfortunately
&gt; pinctrl support for AT91 only came in during the merge window and it
&gt; seems like it's sadly been impossible to do what seemd like the obvious
&gt; thing and add the pinctrl bindings to the DT prior to the merge down so
&gt; now we've got this mess.  I believe the way the pinctrl conversion was
&gt; done renders the audio driver non-functional without this series.

The problem is that at91 tries to do too much in a single release, and then do
nothing in several releases after. If there was a steadier trickle of code
coming in, then these kind of complex dependencies wouldn't show up all at
once, and could be handled with much less overhead for everyone else involved.
:(

&gt; 
&gt; &gt; So, nack on this series. Please make the driver change non-dependent
&gt; &gt; on the new dtsi contents, and merge that through the ASoC tree. Then
&gt; &gt; the dtsi update can go through arm-soc, and later on you can make it
&gt; &gt; mandatory.
&gt; 
&gt; Like I say I'm not thrilled about ignoring the return code TBH, nor am I
&gt; thrilled with the way this has been handled overall.  That said, the
&gt; current series does seem like the best of a bad job - as I understand it
&gt; we need something like this in v3.8 to make the driver functional.

To be honest, if Atmel can't figure out how to merge a complete feature
without causing intentional regressions during the merge window, and plan
on brokenness to be fixed as late as in -rc4, then they deserve to have
a broken platform. Unfortunately the victim of that is end users, and we
don't want to leave them hanging. This really can't become a trend though.

Sigh. Feel free to add:

Reluctantly-acked-by: Olof Johansson &lt;olof@xxxxxxxxx&gt;

to the patches when you apply them (based on IRC discussion, might as
well take both through ASoC).


-Olof
--
To unsubscribe from this list: send the line &quot;unsubscribe linux-sound&quot; in
the body of a message to majordomo@xxxxxxxxxxxxxxx
More majordomo info at  <a  rel="nofollow" href="http://vger.kernel.org/majordomo-info.html">http://vger.kernel.org/majordomo-info.html</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00307" href="msg00307.html">Re: [PATCH 0/2 v2] at91/ssc: fixes on ASoC tree for 3.8</a></strong>
<ul><li><em>From:</em> Jean-Christophe PLAGNIOL-VILLARD</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00300" href="msg00300.html">[PATCH 0/2 v2] at91/ssc: fixes on ASoC tree for 3.8</a></strong>
<ul><li><em>From:</em> Nicolas Ferre</li></ul></li>
<li><strong><a name="00303" href="msg00303.html">Re: [PATCH 0/2 v2] at91/ssc: fixes on ASoC tree for 3.8</a></strong>
<ul><li><em>From:</em> Olof Johansson</li></ul></li>
<li><strong><a name="00304" href="msg00304.html">Re: [PATCH 0/2 v2] at91/ssc: fixes on ASoC tree for 3.8</a></strong>
<ul><li><em>From:</em> Mark Brown</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00304.html">Re: [PATCH 0/2 v2] at91/ssc: fixes on ASoC tree for 3.8</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00306.html">Re: [PATCH 0/2 v2] at91/ssc: fixes on ASoC tree for 3.8</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00304.html">Re: [PATCH 0/2 v2] at91/ssc: fixes on ASoC tree for 3.8</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00307.html">Re: [PATCH 0/2 v2] at91/ssc: fixes on ASoC tree for 3.8</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00305"><strong>Date</strong></a></li>
<li><a href="index.html#00305"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/Pulseaudio/>[Pulseaudio]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-audio-users/>[Linux&nbsp;Audio&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/alsa-devel/>[ALSA&nbsp;Devel]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=http://www.ske-art.com/z/biglist.html>[Big&nbsp;List&nbsp;of&nbsp;Linux&nbsp;Books]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width="100%">
<tr>
<td valign=top align=left>&nbsp;</td>
<td valign=top align=right>
<a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr></table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
