<!-- MHonArc v2.6.19 -->
<!--X-Subject: [PATCH 00/37] Current patch queue for review -->
<!--X-From-R13: Wna Yrag &#60;eniraNgurznj.arg> -->
<!--X-Date: Mon, 24 Oct 2016 18:17:31 &#45;0700 -->
<!--X-Message-Id: 20161025010014.7778.69274.stgit@pluto.themaw.net -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="[PATCH 00/37] Current patch queue for review &mdash; Linux AutoFS">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<title>[PATCH 00/37] Current patch queue for review &mdash; Linux AutoFS</title>
<link rel="alternate" type="application/rss+xml" title="Linux AutoFS" href="//feeds.feedburner.com/autofs">
<script type="text/javascript">
var addthis_config = addthis_config||{};
addthis_config.data_track_addressbar = false;
</script>
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com/cse" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:isdiegq275o" />
    <input type="hidden" name="ie" value="ISO-8859-1" />
    <input type="text" name="q" size="37" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1 itemprop="name">[PATCH 00/37] Current patch queue for review</h1>
[<a href="msg01452.html">Date Prev</a>][<a href="msg01454.html">Date Next</a>][<a href="msg01441.html">Thread Prev</a>][<a href="msg01454.html">Thread Next</a>][<a href="maillist.html#01453">Date Index</a>][<a href="index.html#01453">Thread Index</a>]


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: autofs mailing list &lt;autofs@xxxxxxxxxxxxxxx&gt;</li>
<li><em>Subject</em>: [PATCH 00/37] Current patch queue for review</li>
<li><em>From</em>: Ian Kent &lt;raven@xxxxxxxxxx&gt;</li>
<li><em>Date</em>: Tue, 25 Oct 2016 09:17:24 +0800</li>
<li><em>User-agent</em>: StGit/0.17.1-dirty</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi all,

The patch queue is well overdue for a commit but since there's
been increased contributions for others recently I thought it
would be useful to post the patches for review and give a brief
description of what's in the queue and what still needs work. 

Many of the patches are striaght forward and I expect to commit
then in a week or so. Also keep in mind the commit order might
be different when the commit is actually done.

The patches around those titled &quot;autofs-5.1.2 - wait for master
map available at start&quot; and &quot;autofs-5.1.2 - add master read wait
option&quot; have been around for quite a while and have been a problem
in the past (which is why they haven't been committed yet) so I'm
not sure about them yet.

The series to add browse support for amd maps is not yet complete
so they will likely stay in the queue a bit longer. But I am keen
to get this functionality into a release as I know it is something
that at least a few people would like.

Anyway review of the patches would be appreciated.

---

Gustavo Zacarias (1):
      autofs-5.1.2 - build: check for clock_gettime in librt

Ian Kent (25):
      autofs-5.1.2 - fix release date in CHANGELOG
      autofs-5.1.2 - fix file map changed check
      autofs-5.1.2 - fix short memory allocation in lookup_amd_instance()
      autofs-5.1.2 - fix count_mounts() function
      autofs-5.1.2 - fix typo in MOUNT_FLAG_GHOST comment
      autofs-5.1.2 - fix cachefs parse message not being logged
      autofs-5.1.2 - fix argc off by one in mount_autofs.c
      autofs-5.1.2 - fix _strncmp() usage
      autofs-5.1.1 - fix create_client() RPC client handling
      autofs-5.1.2 - update and add README for old autofs schema
      autofs-5.1.2 - wait for master map available at start
      autofs-5.1.2 - add master read wait option
      autofs-5.1.2 - work around sss startup delay
      autofs-5.1.2 - add sss master map wait config option
      autofs-5.1.2 - fix typos in README.amd-maps
      autofs-5.1.2 - add ref counting to struct map_source
      autofs-5.1.2 - add support for amd browsable option
      autofs-5.1.2 - add function conf_amd_get_map_name()
      autofs-5.1.2 - add function conf_amd_get_mount_paths()
      autofs-5.1.2 - include amd mount section mounts in master mounts list
      autofs-5.1.2 - check for conflicting amd section mounts
      autofs-5.1.2 - add function conf_get_map_options()
      autofs-5.1.2 - capture cache option and its settings during parsing
      autofs-5.1.2 - handle map_option cache for top level mounts
      autofs-5.1.2 - handle amd cache option all in amd type auto mounts

Martin von Gagern (1):
      autofs-5.1.2 - fix libtirpc detection with -Wl,--as-needed

Thomas Petazzoni (1):
      autofs-5.1.2 - configure: add cache variable for Linux proc filesystem check

Tomohiro Kusumi (9):
      autofs-5.1.2 - Fix compiler warning in try_remount()
      autofs-5.1.2 - Drop redundant \n in logerr()
      autofs-5.1.2 - Fix size arg of fgets(3)
      autofs-5.1.2 - Fix a typo in CREDITS
      autofs-5.1.2 - Change .requestor to .requester for consistency
      autofs-5.1.2 - Remove unused local 2KB buffer
      autofs-5.1.2 - Fix typos in error messages
      autofs-5.1.2 - Fix fgets(3) size argument (another one)
      autofs-5.1.2 - Avoid local variable name shadowing another


 CHANGELOG                      |   40 ++++++++
 CREDITS                        |    2 
 Makefile.conf.in               |    3 +
 Makefile.rules                 |    2 
 README.amd-maps                |   64 ++++++++++---
 README.autofs-schema           |   18 ++++
 aclocal.m4                     |   21 ++--
 configure                      |   66 +++++++++++--
 configure.in                   |    4 +
 daemon/automount.c             |  107 +++++++++++++++++----
 daemon/indirect.c              |    7 +
 daemon/lookup.c                |  116 +++++++++++++++++++----
 daemon/module.c                |    4 -
 daemon/state.c                 |    4 -
 include/automount.h            |    9 +-
 include/defaults.h             |    8 ++
 include/dev-ioctl-lib.h        |    2 
 include/master.h               |    4 +
 include/parse_amd.h            |    7 +
 lib/defaults.c                 |  137 +++++++++++++++++++++++++++
 lib/dev-ioctl-lib.c            |   10 +-
 lib/master.c                   |  202 ++++++++++++++++++++++++++++++++++++++++
 lib/master_parse.y             |   30 +++++-
 lib/mounts.c                   |    9 +-
 lib/nss_parse.y                |    2 
 lib/rpc_subs.c                 |   21 ++--
 man/autofs.conf.5.in           |   27 +++++
 man/automount.8                |    4 +
 modules/amd_parse.y            |   16 ++-
 modules/amd_tok.l              |    2 
 modules/lookup_file.c          |   15 ++-
 modules/lookup_ldap.c          |   10 +-
 modules/lookup_nisplus.c       |   24 +++--
 modules/lookup_sss.c           |   72 +++++++++++++-
 modules/lookup_yp.c            |   23 +++--
 modules/mount_autofs.c         |   84 +++++++++++------
 modules/mount_ext2.c           |    2 
 modules/parse_amd.c            |    2 
 redhat/autofs.conf.default.in  |   24 ++++-
 samples/autofs.conf.default.in |   24 ++++-
 samples/autofs.schema          |   24 ++---
 41 files changed, 1042 insertions(+), 210 deletions(-)
 create mode 100644 README.autofs-schema

--
Ian
--
To unsubscribe from this list: send the line &quot;unsubscribe autofs&quot; in


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="01497" href="msg01497.html">Re: [PATCH 00/37] Current patch queue for review</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01490" href="msg01490.html">[PATCH 37/37] autofs-5.1.2 - handle amd cache option all in amd type auto mounts</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01489" href="msg01489.html">[PATCH 36/37] autofs-5.1.2 - handle map_option cache for top level mounts</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01488" href="msg01488.html">[PATCH 35/37] autofs-5.1.2 - capture cache option and its settings during parsing</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01487" href="msg01487.html">[PATCH 34/37] autofs-5.1.2 - add function conf_get_map_options()</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01486" href="msg01486.html">[PATCH 33/37] autofs-5.1.2 - check for conflicting amd section mounts</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01485" href="msg01485.html">[PATCH 32/37] autofs-5.1.2 - include amd mount section mounts in master mounts list</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01484" href="msg01484.html">[PATCH 31/37] autofs-5.1.2 - add function conf_amd_get_mount_paths()</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01483" href="msg01483.html">[PATCH 30/37] autofs-5.1.2 - add function conf_amd_get_map_name()</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01482" href="msg01482.html">[PATCH 29/37] autofs-5.1.2 - add support for amd browsable option</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01481" href="msg01481.html">[PATCH 28/37] autofs-5.1.2 - add ref counting to struct map_source</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01480" href="msg01480.html">[PATCH 27/37] autofs-5.1.2 - fix typos in README.amd-maps</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01479" href="msg01479.html">[PATCH 26/37] autofs-5.1.2 - add sss master map wait config option</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01478" href="msg01478.html">[PATCH 25/37] autofs-5.1.2 - work around sss startup delay</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01477" href="msg01477.html">[PATCH 24/37] autofs-5.1.2 - add master read wait option</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01476" href="msg01476.html">[PATCH 23/37] autofs-5.1.2 - wait for master map available at start</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01475" href="msg01475.html">[PATCH 22/37] autofs-5.1.2 - update and add README for old autofs schema</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01474" href="msg01474.html">[PATCH 21/37] autofs-5.1.1 - fix create_client() RPC client handling</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01473" href="msg01473.html">[PATCH 20/37] autofs-5.1.2 - fix _strncmp() usage</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01472" href="msg01472.html">[PATCH 19/37] autofs-5.1.2 - fix argc off by one in mount_autofs.c</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01471" href="msg01471.html">[PATCH 18/37] autofs-5.1.2 - fix cachefs parse message not being logged</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01470" href="msg01470.html">[PATCH 17/37] autofs-5.1.2 - fix typo in MOUNT_FLAG_GHOST comment</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01469" href="msg01469.html">[PATCH 16/37] autofs-5.1.2 - Avoid local variable name shadowing another</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01468" href="msg01468.html">[PATCH 15/37] autofs-5.1.2 - configure: add cache variable for Linux proc filesystem check</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01467" href="msg01467.html">[PATCH 14/37] autofs-5.1.2 - fix count_mounts() function</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01466" href="msg01466.html">[PATCH 13/37] autofs-5.1.2 - fix short memory allocation in lookup_amd_instance()</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01465" href="msg01465.html">[PATCH 12/37] autofs-5.1.2 - Fix fgets(3) size argument (another one)</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01464" href="msg01464.html">[PATCH 11/37] autofs-5.1.2 - Fix typos in error messages</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01463" href="msg01463.html">[PATCH 10/37] autofs-5.1.2 - Remove unused local 2KB buffer</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01462" href="msg01462.html">[PATCH 09/37] autofs-5.1.2 - fix file map changed check</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01461" href="msg01461.html">[PATCH 08/37] autofs-5.1.2 - Change .requestor to .requester for consistency</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01460" href="msg01460.html">[PATCH 07/37] autofs-5.1.2 - Fix a typo in CREDITS</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01459" href="msg01459.html">[PATCH 06/37] autofs-5.1.2 - fix libtirpc detection with -Wl, --as-needed</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01458" href="msg01458.html">[PATCH 05/37] autofs-5.1.2 - Fix size arg of fgets(3)</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01457" href="msg01457.html">[PATCH 04/37] autofs-5.1.2 - Drop redundant \n in logerr()</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01456" href="msg01456.html">[PATCH 03/37] autofs-5.1.2 - Fix compiler warning in try_remount()</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01455" href="msg01455.html">[PATCH 02/37] autofs-5.1.2 - build: check for clock_gettime in librt</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01454" href="msg01454.html">[PATCH 01/37] autofs-5.1.2 - fix release date in CHANGELOG</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg01452.html">Re: [PATCH 1/8] vfs - change d_manage() to take a struct path</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg01454.html">[PATCH 01/37] autofs-5.1.2 - fix release date in CHANGELOG</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg01441.html">[PATCH 1/8] vfs - change d_manage() to take a struct path</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01454.html">[PATCH 01/37] autofs-5.1.2 - fix release date in CHANGELOG</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#01453"><strong>Date</strong></a></li>
<li><a href="index.html#01453"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-fsdevel/>[Linux&nbsp;Filesystem&nbsp;Development]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-ext4/>[Linux&nbsp;Ext4]</a>
&nbsp;
&nbsp;
<a href=/lists/arm-kernel/>[Linux&nbsp;ARM&nbsp;Kernel]</a>
&nbsp;
&nbsp;
<a href=/lists/arm/>[Linux&nbsp;ARM]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-omap/>[Linux&nbsp;Omap]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-arm/>[Fedora&nbsp;ARM]</a>
&nbsp;
&nbsp;
<a href=/lists/ietf-ann/>[IETF&nbsp;Annouce]</a>
&nbsp;
&nbsp;
<a href=/lists/security/>[Security]</a>
&nbsp;
&nbsp;
<a href=/lists/bugtraq/>[Bugtraq]</a>
&nbsp;
&nbsp;
<a href=/linux/>[Linux]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-omap/>[Linux&nbsp;OMAP]</a>
&nbsp;
&nbsp;
<a href=/lists/mips/>[Linux&nbsp;MIPS]</a>
&nbsp;
&nbsp;
<a href=/lists/ecos/>[ECOS]</a>
&nbsp;
&nbsp;
<a href=/lists/asterisk/>[Asterisk&nbsp;Internet&nbsp;PBX]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-api/>[Linux&nbsp;API]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
