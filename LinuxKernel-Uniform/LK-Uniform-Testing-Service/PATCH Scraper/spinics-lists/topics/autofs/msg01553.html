<!-- MHonArc v2.6.19 -->
<!--X-Subject: [PATCH 00/34] fyi ... current patch list -->
<!--X-From-R13: Wna Yrag &#60;eniraNgurznj.arg> -->
<!--X-Date: Sun, 23 Apr 2017 18:06:06 &#45;0700 -->
<!--X-Message-Id: 149299547753.23475.9924538846721477415.stgit@pluto.themaw.net -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="[PATCH 00/34] fyi ... current patch list &mdash; Linux AutoFS">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<title>[PATCH 00/34] fyi ... current patch list &mdash; Linux AutoFS</title>
<link rel="alternate" type="application/rss+xml" title="Linux AutoFS" href="//feeds.feedburner.com/autofs">
<script type="text/javascript">
var addthis_config = addthis_config||{};
addthis_config.data_track_addressbar = false;
</script>
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com/cse" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:isdiegq275o" />
    <input type="hidden" name="ie" value="ISO-8859-1" />
    <input type="text" name="q" size="37" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1 itemprop="name">[PATCH 00/34] fyi ... current patch list</h1>
[<a href="msg01552.html">Date Prev</a>][<a href="msg01560.html">Date Next</a>][<a href="msg01550.html">Thread Prev</a>][<a href="msg01551.html">Thread Next</a>][<a href="maillist.html#01553">Date Index</a>][<a href="index.html#01553">Thread Index</a>]


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: autofs mailing list &lt;autofs@xxxxxxxxxxxxxxx&gt;</li>
<li><em>Subject</em>: [PATCH 00/34] fyi ... current patch list</li>
<li><em>From</em>: Ian Kent &lt;raven@xxxxxxxxxx&gt;</li>
<li><em>Date</em>: Mon, 24 Apr 2017 09:00:12 +0800</li>
<li><em>User-agent</em>: StGit/0.17.1-dirty</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Here is my current patch list.

If there are no concerns from anyone I expect to commit them to the repo.
some time in the next few days.

Most notable change is the addition of browse support for amd format maps.

I'd like to get the amd browse changes into a release so hopefully that
will follow not too long after the commit.

---

David Jeffery (1):
      autofs-5.1.2 - honor last rw in mount options when doing a bind mount

Ian Kent (30):
      autofs-5.1.2 - fix included master map not found return
      autofs-5.1.2 - dont exit on master map read fail timeout
      autofs-5.1.2 - set sane default master read wait timeout
      autofs-5.1.2 - don't return until after master map retry read
      autofs-5.1.2 - make lookup_nss_read_master() return nss status
      autofs-5.1.2 - check NFS server availability on local mount fallback
      autofs-5.1.2 - make set_direct_mount_catatonic() more general
      autofs-5.1.2 - set autofs mounts catatonic at exit
      autofs-5.1.2 - fix typos in README.amd-maps
      autofs-5.1.2 - add ref counting to struct map_source
      autofs-5.1.2 - add support for amd browsable option
      autofs-5.1.2 - add function conf_amd_get_map_name()
      autofs-5.1.2 - add function conf_amd_get_mount_paths()
      autofs-5.1.2 - include amd mount section mounts in master mounts list
      autofs-5.1.2 - check for conflicting amd section mounts
      autofs-5.1.2 - add function conf_amd_get_map_options()
      autofs-5.1.2 - capture cache option and its settings during parsing
      autofs-5.1.2 - handle map_option cache for top level mounts
      autofs-5.1.2 - handle amd cache option all in amd type auto mounts
      autofs-5.1.2 - fix bogus check in expire_cleanup()
      autofs-5.1.2 - delay submount exit for amd submounts
      autofs-5.1.2 - factor out set_thread_mount_request_log_id()
      autofs-5.1.2 - add config option to use mount request log id
      autofs-5.1.2 - use autofs_point to store expire timeout where possibe
      autofs-5.1.2 - fix possible NULL derefernce
      autofs-5.1.2 - fix work around sss startup delay
      autofs-5.1.2 - fix invalid reference in remount_active_mount()
      autofs-5.1.2 - use malloc for expanded map location
      autofs-5.1.2 - fix offset mount location multiple expansion
      autofs-5.1.2 - increase worker thread per-thread stack size

Lars R. Damerow (3):
      autofs-5.1.2 - add the mount requestor's pid to pending_args
      autofs-5.1.2 - create thread-local ID for mount attempts
      autofs-5.1.2 - log functions to prefix messages with attempt_id if available


 CHANGELOG                      |   34 +++++++
 README.amd-maps                |   64 ++++++++++---
 daemon/automount.c             |   89 +++++++++++++-----
 daemon/direct.c                |   85 ++---------------
 daemon/indirect.c              |   15 ++-
 daemon/lookup.c                |  126 ++++++++++++++++++++-----
 daemon/state.c                 |   34 +++++--
 include/automount.h            |   12 ++
 include/defaults.h             |    7 +
 include/master.h               |    4 +
 include/mounts.h               |    4 +
 include/parse_amd.h            |    7 +
 lib/defaults.c                 |  121 ++++++++++++++++++++++++
 lib/log.c                      |  164 +++++++++++++++++++++++++++-----
 lib/master.c                   |  202 ++++++++++++++++++++++++++++++++++++++++
 lib/master_parse.y             |   55 ++++++++---
 lib/mounts.c                   |  160 ++++++++++++++++++++++++++++++--
 lib/rpc_subs.c                 |   11 ++
 man/autofs.conf.5.in           |   25 ++++-
 modules/amd_parse.y            |   15 ++-
 modules/amd_tok.l              |    2 
 modules/lookup_dir.c           |    2 
 modules/lookup_file.c          |   20 +++-
 modules/lookup_ldap.c          |   10 +-
 modules/lookup_nisplus.c       |   10 +-
 modules/lookup_sss.c           |   18 ++--
 modules/lookup_yp.c            |   10 +-
 modules/mount_autofs.c         |   79 ++++++++++------
 modules/mount_nfs.c            |   17 +++
 modules/parse_amd.c            |    2 
 modules/parse_sun.c            |   90 +++++++++++++++---
 redhat/autofs.conf.default.in  |   20 +++-
 samples/autofs.conf.default.in |   20 +++-
 33 files changed, 1236 insertions(+), 298 deletions(-)

--
Ian
--
To unsubscribe from this list: send the line &quot;unsubscribe autofs&quot; in


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="01585" href="msg01585.html">[PATCH 13/34] autofs-5.1.2 - add function conf_amd_get_map_name()</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01584" href="msg01584.html">[PATCH 16/34] autofs-5.1.2 - check for conflicting amd section mounts</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01583" href="msg01583.html">[PATCH 34/34] autofs-5.1.2 - increase worker thread per-thread stack size</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01582" href="msg01582.html">[PATCH 10/34] autofs-5.1.2 - fix typos in README.amd-maps</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01581" href="msg01581.html">[PATCH 12/34] autofs-5.1.2 - add support for amd browsable option</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01580" href="msg01580.html">[PATCH 32/34] autofs-5.1.2 - use malloc for expanded map location</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01579" href="msg01579.html">[PATCH 25/34] autofs-5.1.2 - log functions to prefix messages with attempt_id if available</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01578" href="msg01578.html">[PATCH 21/34] autofs-5.1.2 - fix bogus check in expire_cleanup()</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01577" href="msg01577.html">[PATCH 28/34] autofs-5.1.2 - use autofs_point to store expire timeout where possibe</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01576" href="msg01576.html">[PATCH 11/34] autofs-5.1.2 - add ref counting to struct map_source</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01575" href="msg01575.html">[PATCH 29/34] autofs-5.1.2 - fix possible NULL derefernce</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01574" href="msg01574.html">[PATCH 30/34] autofs-5.1.2 - fix work around sss startup delay</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01573" href="msg01573.html">[PATCH 20/34] autofs-5.1.2 - handle amd cache option all in amd type auto mounts</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01572" href="msg01572.html">[PATCH 23/34] autofs-5.1.2 - add the mount requestor's pid to pending_args</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01571" href="msg01571.html">[PATCH 24/34] autofs-5.1.2 - create thread-local ID for mount attempts</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01570" href="msg01570.html">[PATCH 31/34] autofs-5.1.2 - fix invalid reference in remount_active_mount()</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01569" href="msg01569.html">[PATCH 26/34] autofs-5.1.2 - factor out set_thread_mount_request_log_id()</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01568" href="msg01568.html">[PATCH 15/34] autofs-5.1.2 - include amd mount section mounts in master mounts list</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01567" href="msg01567.html">[PATCH 18/34] autofs-5.1.2 - capture cache option and its settings during parsing</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01566" href="msg01566.html">[PATCH 27/34] autofs-5.1.2 - add config option to use mount request log id</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01565" href="msg01565.html">[PATCH 19/34] autofs-5.1.2 - handle map_option cache for top level mounts</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01564" href="msg01564.html">[PATCH 33/34] autofs-5.1.2 - fix offset mount location multiple expansion</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01563" href="msg01563.html">[PATCH 14/34] autofs-5.1.2 - add function conf_amd_get_mount_paths()</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01562" href="msg01562.html">[PATCH 22/34] autofs-5.1.2 - delay submount exit for amd submounts</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01561" href="msg01561.html">[PATCH 17/34] autofs-5.1.2 - add function conf_amd_get_map_options()</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01559" href="msg01559.html">[PATCH 02/34] autofs-5.1.2 - dont exit on master map read fail timeout</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01558" href="msg01558.html">[PATCH 05/34] autofs-5.1.2 - make lookup_nss_read_master() return nss status</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01557" href="msg01557.html">[PATCH 04/34] autofs-5.1.2 - don't return until after master map retry read</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01556" href="msg01556.html">[PATCH 03/34] autofs-5.1.2 - set sane default master read wait timeout</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01555" href="msg01555.html">[PATCH 06/34] autofs-5.1.2 - check NFS server availability on local mount fallback</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01554" href="msg01554.html">[PATCH 08/34] autofs-5.1.2 - set autofs mounts catatonic at exit</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01560" href="msg01560.html">[PATCH 07/34] autofs-5.1.2 - make set_direct_mount_catatonic() more general</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01552" href="msg01552.html">[PATCH 09/34] autofs-5.1.2 - honor last rw in mount options when doing a bind mount</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
<li><strong><a name="01551" href="msg01551.html">[PATCH 01/34] autofs-5.1.2 - fix included master map not found return</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg01552.html">[PATCH 09/34] autofs-5.1.2 - honor last rw in mount options when doing a bind mount</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg01560.html">[PATCH 07/34] autofs-5.1.2 - make set_direct_mount_catatonic() more general</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg01550.html">Annoucing the release of fedfs-utils version 0.10.7</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01551.html">[PATCH 01/34] autofs-5.1.2 - fix included master map not found return</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#01553"><strong>Date</strong></a></li>
<li><a href="index.html#01553"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-fsdevel/>[Linux&nbsp;Filesystem&nbsp;Development]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-ext4/>[Linux&nbsp;Ext4]</a>
&nbsp;
&nbsp;
<a href=/lists/arm-kernel/>[Linux&nbsp;ARM&nbsp;Kernel]</a>
&nbsp;
&nbsp;
<a href=/lists/arm/>[Linux&nbsp;ARM]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-omap/>[Linux&nbsp;Omap]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-arm/>[Fedora&nbsp;ARM]</a>
&nbsp;
&nbsp;
<a href=/lists/ietf-ann/>[IETF&nbsp;Annouce]</a>
&nbsp;
&nbsp;
<a href=/lists/security/>[Security]</a>
&nbsp;
&nbsp;
<a href=/lists/bugtraq/>[Bugtraq]</a>
&nbsp;
&nbsp;
<a href=/linux/>[Linux]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-omap/>[Linux&nbsp;OMAP]</a>
&nbsp;
&nbsp;
<a href=/lists/mips/>[Linux&nbsp;MIPS]</a>
&nbsp;
&nbsp;
<a href=/lists/ecos/>[ECOS]</a>
&nbsp;
&nbsp;
<a href=/lists/asterisk/>[Asterisk&nbsp;Internet&nbsp;PBX]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-api/>[Linux&nbsp;API]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
