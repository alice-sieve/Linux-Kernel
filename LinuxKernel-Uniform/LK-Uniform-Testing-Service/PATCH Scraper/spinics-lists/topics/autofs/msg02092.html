<!-- MHonArc v2.6.19 -->
<!--X-Subject: [PATCH] Explain /etc/auto.master.d usage -->
<!--X-From-R13: &#60;Hvaprag.[pvaglerNpfveb.nh> -->
<!--X-Date: Thu, 14 Mar 2019 16:23:11 &#45;0700 -->
<!--X-Message-Id: 20190314231304.bmtmi7uhgrgbznmk@mayhem.atnf.CSIRO.AU -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="[PATCH] Explain /etc/auto.master.d usage &mdash; Linux AutoFS">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<title>[PATCH] Explain /etc/auto.master.d usage &mdash; Linux AutoFS</title>
<link rel="alternate" type="application/rss+xml" title="Linux AutoFS" href="//feeds.feedburner.com/autofs">
<script type="text/javascript">
var addthis_config = addthis_config||{};
addthis_config.data_track_addressbar = false;
</script>
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com/cse" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:isdiegq275o" />
    <input type="hidden" name="ie" value="ISO-8859-1" />
    <input type="text" name="q" size="37" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1 itemprop="name">[PATCH] Explain /etc/auto.master.d usage</h1>
[<a href="msg02091.html">Date Prev</a>][<a href="msg02093.html">Date Next</a>][<a href="msg02090.html">Thread Prev</a>][<a href="msg02093.html">Thread Next</a>][<a href="maillist.html#02092">Date Index</a>][<a href="index.html#02092">Thread Index</a>]


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: &lt;autofs@xxxxxxxxxxxxxxx&gt;</li>
<li><em>Subject</em>: [PATCH] Explain /etc/auto.master.d usage</li>
<li><em>From</em>: &lt;Vincent.Mcintyre@xxxxxxxx&gt;</li>
<li><em>Date</em>: Thu, 14 Mar 2019 23:13:06 +0000</li>
<li><em>Accept-language</em>: en-US, en-AU</li>
<li><em>User-agent</em>: NeoMutt/20170113 (1.7.2)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>I've noticed people have difficulty fully parsing the rather terse
description in samples/auto.master, eg bugs.debian.org/693782.
Give a specific example of the usage to make understanding easier.

Signed-off-by: Vincent McIntyre &lt;vincent.mcintyre@xxxxxxxx&gt;

diff --git a/man/auto.master.5.in b/man/auto.master.5.in
index 68242d4..ee83794 100644
--- a/man/auto.master.5.in
+++ b/man/auto.master.5.in
@@ -383,6 +383,20 @@ All accesses to paths in the map
 will trigger mounts when they are accessed and the Name Service Switch
 configuration will be used to locate the source of the map
 .IR auto.data .
+.sp
+To avoid making edits to @@autofsmapdir@@/auto.master,
+@@autofsmapdir@@/auto.master.d may be used.
+Files in that directory must have an &quot;.autofs&quot; suffix, e.g.
+.IR @@autofsmapdir@@/auto.master.d/extra.autofs.
+Such files contain lines of the same format as the auto.master file, e.g.
+.sp
+.RS +.2i
+.ta 1.0i
+.nf
+/foo    /etc/auto.foo
+/baz    yp:baz.map
+.fi
+.RE
 .SH &quot;SEE ALSO&quot;
 .BR automount (8),
 .BR autofs (5),
diff --git a/samples/auto.master b/samples/auto.master
index 9a9968a..0fc57f3 100644
--- a/samples/auto.master
+++ b/samples/auto.master
@@ -13,7 +13,11 @@
 /net   -hosts
 #
 # Include /etc/auto.master.d/*.autofs
-# The included files must conform to the format of this file.
+# To add an extra map using this mechanism you will need to add
+# two configuration items - one /etc/auto.master.d/extra.autofs file
+# (using the same line format as the auto.master file)
+# and a separate mount map (e.g. /etc/auto.extra or an auto.extra NIS map)
+# that is referred to by the foo.autofs file.
 #
 +dir:/etc/auto.master.d
 #



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="02093" href="msg02093.html">Re: [PATCH] Explain /etc/auto.master.d usage</a></strong>
<ul><li><em>From:</em> Ian Kent</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg02091.html">Re: [PATCH] Update README</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg02093.html">Re: [PATCH] Explain /etc/auto.master.d usage</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg02090.html">[PATCH] Update README</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg02093.html">Re: [PATCH] Explain /etc/auto.master.d usage</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#02092"><strong>Date</strong></a></li>
<li><a href="index.html#02092"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-fsdevel/>[Linux&nbsp;Filesystem&nbsp;Development]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-ext4/>[Linux&nbsp;Ext4]</a>
&nbsp;
&nbsp;
<a href=/lists/arm-kernel/>[Linux&nbsp;ARM&nbsp;Kernel]</a>
&nbsp;
&nbsp;
<a href=/lists/arm/>[Linux&nbsp;ARM]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-omap/>[Linux&nbsp;Omap]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-arm/>[Fedora&nbsp;ARM]</a>
&nbsp;
&nbsp;
<a href=/lists/ietf-ann/>[IETF&nbsp;Annouce]</a>
&nbsp;
&nbsp;
<a href=/lists/security/>[Security]</a>
&nbsp;
&nbsp;
<a href=/lists/bugtraq/>[Bugtraq]</a>
&nbsp;
&nbsp;
<a href=/linux/>[Linux]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-omap/>[Linux&nbsp;OMAP]</a>
&nbsp;
&nbsp;
<a href=/lists/mips/>[Linux&nbsp;MIPS]</a>
&nbsp;
&nbsp;
<a href=/lists/ecos/>[ECOS]</a>
&nbsp;
&nbsp;
<a href=/lists/asterisk/>[Asterisk&nbsp;Internet&nbsp;PBX]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-api/>[Linux&nbsp;API]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
