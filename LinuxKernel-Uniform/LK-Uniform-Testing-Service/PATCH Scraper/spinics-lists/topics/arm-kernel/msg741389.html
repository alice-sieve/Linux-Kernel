<!-- MHonArc v2.6.19 -->
<!--X-Subject: [PATCH v2 12/15] arm64: dts: imx8qm: add dma ss support -->
<!--X-From-R13: Rbat Ovfurat &#60;nvfurat.qbatNakc.pbz> -->
<!--X-Date: Tue, 16 Jul 2019 08:40:59 &#45;0700 -->
<!--X-Message-Id: 1563290089&#45;11085&#45;13&#45;git&#45;send&#45;email&#45;aisheng.dong@nxp.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1563290089&#45;11085&#45;1&#45;git&#45;send&#45;email&#45;aisheng.dong@nxp.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<meta name="description" content="Linux ARM, OMAP, Xscale Kernel: [PATCH v2 12/15] arm64: dts: imx8qm: add dma ss support">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>[PATCH v2 12/15] arm64: dts: imx8qm: add dma ss support &mdash; ARM, OMAP, Xscale Linux Kernel</title>
<link rel="alternate" type="application/rss+xml" title="Linux ARM Kernel" href="//feedproxy.google.com/LinuxArmKernel">
<link rel="alternate" type="application/rss+xml" title="Linux ARM Kernel" href="//feeds.feedburner.com/LinuxArmxscaleEtc">
<link rel="alternate" type="application/rss+xml" title="Fedora ARM" href="//feeds.feedburner.com/FedoraArm">
<link rel="alternate" type="application/rss+xml" title="Linux for OMAP" href="//feedproxy.google.com/LinuxOmap">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<td align=right><form action="//www.google.com/cse" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:isdiegq275o" />
    <input type="hidden" name="ie" value="ISO-8859-1" />
    <input type="text" name="q" size="37" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/cse/brand?form=cse-search-box&amp;lang=en" async></script>
<h1 itemprop="name">[PATCH v2 12/15] arm64: dts: imx8qm: add dma ss support</h1>
[<a href="msg741388.html">Date Prev</a>][<a href="msg741390.html">Date Next</a>][<a href="msg741388.html">Thread Prev</a>][<a href="msg741390.html">Thread Next</a>][<a href="maillist.html#741389">Date Index</a>][<a href="threads.html#741389">Thread Index</a>] 
<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: [PATCH v2 12/15] arm64: dts: imx8qm: add dma ss support</li>
<li><em>From</em>: Dong Aisheng &lt;aisheng.dong@xxxxxxx&gt;</li>
<li><em>Date</em>: Tue, 16 Jul 2019 23:14:46 +0800</li>
<li><em>In-reply-to</em>: &lt;<a href="msg741379.html">1563290089-11085-1-git-send-email-aisheng.dong@nxp.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>The DMA SS of MX8QM is mostly the same as the DMA part in MX8QXP ADMA SS
while it has one more instance for each of LPUART, ADC and LPI2C. And unlike
MX8QXP that flexcan clocks are shared between multiple CAN instances,
MX8QM has separate flexcan clock slice.

So we reuse the most part of common imx8-ss-dma.dtsi and add new things
based on it.

Cc: Rob Herring &lt;robh+dt@xxxxxxxxxx&gt;
Cc: Mark Rutland &lt;mark.rutland@xxxxxxx&gt;
Cc: devicetree@xxxxxxxxxxxxxxx
Cc: Shawn Guo &lt;shawnguo@xxxxxxxxxx&gt;
Cc: Sascha Hauer &lt;kernel@xxxxxxxxxxxxxx&gt;
Cc: Fabio Estevam &lt;fabio.estevam@xxxxxxx&gt;
Signed-off-by: Dong Aisheng &lt;aisheng.dong@xxxxxxx&gt;
---
ChangeLog:
v1-&gt;v2:
 * change to the new two cell scu clk binding
---
 arch/arm64/boot/dts/freescale/imx8qm-ss-dma.dtsi | 50 ++++++++++++++++++++++++
 1 file changed, 50 insertions(+)
 create mode 100644 arch/arm64/boot/dts/freescale/imx8qm-ss-dma.dtsi

diff --git a/arch/arm64/boot/dts/freescale/imx8qm-ss-dma.dtsi b/arch/arm64/boot/dts/freescale/imx8qm-ss-dma.dtsi
new file mode 100644
index 0000000..c75edad
--- /dev/null
+++ b/arch/arm64/boot/dts/freescale/imx8qm-ss-dma.dtsi
@@ -0,0 +1,50 @@
+// SPDX-License-Identifier: GPL-2.0+
+/*
+ * Copyright 2018-2019 NXP
+ *	Dong Aisheng &lt;aisheng.dong@xxxxxxx&gt;
+ */
+
+&amp;dma_subsys {
+	uart4_lpcg: clock-controller@5a4a0000 {
+		compatible = &quot;fsl,imx8qxp-lpcg&quot;;
+		reg = &lt;0x5a4a0000 0x10000&gt;;
+		#clock-cells = &lt;1&gt;;
+		clocks = &lt;&amp;clk IMX_SC_R_UART_4 IMX_SC_PM_CLK_PER&gt;,
+			 &lt;&amp;dma_ipg_clk&gt;;
+		bit-offset = &lt;0 16&gt;;
+		clock-output-names = &quot;uart4_lpcg_baud_clk&quot;,
+				     &quot;uart4_lpcg_ipg_clk&quot;;
+	};
+};
+
+&amp;lpuart0 {
+	compatible = &quot;fsl,imx8qm-lpuart&quot;, &quot;fsl,imx7ulp-lpuart&quot;;
+};
+
+&amp;lpuart1 {
+	compatible = &quot;fsl,imx8qm-lpuart&quot;, &quot;fsl,imx7ulp-lpuart&quot;;
+};
+
+&amp;lpuart2 {
+	compatible = &quot;fsl,imx8qm-lpuart&quot;, &quot;fsl,imx7ulp-lpuart&quot;;
+};
+
+&amp;lpuart3 {
+	compatible = &quot;fsl,imx8qm-lpuart&quot;, &quot;fsl,imx7ulp-lpuart&quot;;
+};
+
+&amp;i2c0 {
+	compatible = &quot;fsl,imx8qm-lpi2c&quot;, &quot;fsl,imx7ulp-lpi2c&quot;;
+};
+
+&amp;i2c1 {
+	compatible = &quot;fsl,imx8qm-lpi2c&quot;, &quot;fsl,imx7ulp-lpi2c&quot;;
+};
+
+&amp;i2c2 {
+	compatible = &quot;fsl,imx8qm-lpi2c&quot;, &quot;fsl,imx7ulp-lpi2c&quot;;
+};
+
+&amp;i2c3 {
+	compatible = &quot;fsl,imx8qm-lpi2c&quot;, &quot;fsl,imx7ulp-lpi2c&quot;;
+};
-- 
2.7.4


_______________________________________________
linux-arm-kernel mailing list
linux-arm-kernel@xxxxxxxxxxxxxxxxxxx
<a  rel="nofollow" href="http://lists.infradead.org/mailman/listinfo/linux-arm-kernel">http://lists.infradead.org/mailman/listinfo/linux-arm-kernel</a>


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="741379" href="msg741379.html">[PATCH v2 00/15] arm64: dts: imx8: architecture improvement and adding imx8qm support</a></strong>
<ul><li><em>From:</em> Dong Aisheng</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg741388.html">[PATCH v2 08/15] arm64: dts: imx8: switch to new lpcg clock binding</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg741390.html">[PATCH v2 11/15] arm64: dts: imx8: split adma ss into dma and audio ss</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg741388.html">[PATCH v2 08/15] arm64: dts: imx8: switch to new lpcg clock binding</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg741390.html">[PATCH v2 11/15] arm64: dts: imx8: split adma ss into dma and audio ss</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#741389"><strong>Date</strong></a></li>
<li><a href="threads.html#741389"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/kernel/>[Linux&nbsp;Kernel]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-arm/>[Linux&nbsp;ARM&nbsp;(vger)]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-arm-msm/>[Linux&nbsp;ARM&nbsp;MSM]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-omap/>[Linux&nbsp;Omap]</a>
&nbsp;
&nbsp;
<a href=/lists/centos-arm-devel/>[CentOS&nbsp;ARM]</a>
&nbsp;
&nbsp;
<a href=/lists/arm/>[Linux&nbsp;Arm]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-tegra/>[Linux&nbsp;Tegra]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-arm/>[Fedora&nbsp;ARM]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-samsung-soc/>[Linux&nbsp;for&nbsp;Samsung&nbsp;SOC]</a>
&nbsp;
&nbsp;
<a href=/lists/ecos/>[eCos]</a>
&nbsp;
&nbsp;
<a href=/lists/fastboot/>[Linux&nbsp;Fastboot]</a>
&nbsp;
&nbsp;
<a href=/lists/gcchelp/>[Gcc&nbsp;Help]</a>
&nbsp;
&nbsp;
<a href=/lists/git/>[Git]</a>
&nbsp;
&nbsp;
<a href=/lists/dccp/>[DCCP]</a>
&nbsp;
&nbsp;
<a href=/lists/ietf-ann>[IETF&nbsp;Announce]</a>
&nbsp;
&nbsp;
<a href=/lists/security/>[Security]</a>
&nbsp;
&nbsp;
<a href=/lists/mips/>[Linux&nbsp;MIPS]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }

initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
