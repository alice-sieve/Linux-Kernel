<!-- MHonArc v2.6.19 -->
<!--X-Subject: [PATCH RFC 04/18] ARM: dts: bcm283x: Define MMC interfaces at board level -->
<!--X-From-R13: Egrsna Inuera &#60;jnuerafgNtzk.arg> -->
<!--X-Date: Wed, 17 Jul 2019 12:52:51 &#45;0700 -->
<!--X-Message-Id: 1563393026&#45;17118&#45;5&#45;git&#45;send&#45;email&#45;wahrenst@gmx.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1563393026&#45;17118&#45;1&#45;git&#45;send&#45;email&#45;wahrenst@gmx.net -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<meta name="description" content="Linux ARM, OMAP, Xscale Kernel: [PATCH RFC 04/18] ARM: dts: bcm283x: Define MMC interfaces at board level">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>[PATCH RFC 04/18] ARM: dts: bcm283x: Define MMC interfaces at board level &mdash; ARM, OMAP, Xscale Linux Kernel</title>
<link rel="alternate" type="application/rss+xml" title="Linux ARM Kernel" href="//feedproxy.google.com/LinuxArmKernel">
<link rel="alternate" type="application/rss+xml" title="Linux ARM Kernel" href="//feeds.feedburner.com/LinuxArmxscaleEtc">
<link rel="alternate" type="application/rss+xml" title="Fedora ARM" href="//feeds.feedburner.com/FedoraArm">
<link rel="alternate" type="application/rss+xml" title="Linux for OMAP" href="//feedproxy.google.com/LinuxOmap">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<td align=right><form action="//www.google.com/cse" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:isdiegq275o" />
    <input type="hidden" name="ie" value="ISO-8859-1" />
    <input type="text" name="q" size="37" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/cse/brand?form=cse-search-box&amp;lang=en" async></script>
<h1 itemprop="name">[PATCH RFC 04/18] ARM: dts: bcm283x: Define MMC interfaces at board level</h1>
[<a href="msg741644.html">Date Prev</a>][<a href="msg741646.html">Date Next</a>][<a href="msg741840.html">Thread Prev</a>][<a href="msg741646.html">Thread Next</a>][<a href="maillist.html#741645">Date Index</a>][<a href="threads.html#741645">Thread Index</a>] 
<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: [PATCH RFC 04/18] ARM: dts: bcm283x: Define MMC interfaces at board level</li>
<li><em>From</em>: Stefan Wahren &lt;wahrenst@xxxxxxx&gt;</li>
<li><em>Date</em>: Wed, 17 Jul 2019 21:50:12 +0200</li>
<li><em>In-reply-to</em>: &lt;<a href="msg741651.html">1563393026-17118-1-git-send-email-wahrenst@gmx.net</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Starting with RPi 4 this is the first board, which doesn't use sdhost
as default SD interface. So the MMC interfaces should be defined finally at
board level. Since all boards using sdhci already does this, we can drop the
pinctrl part from bcm2835-rpi.dtsi.

Signed-off-by: Stefan Wahren &lt;wahrenst@xxxxxxx&gt;
---
 arch/arm/boot/dts/bcm2835-rpi-a-plus.dts  |  7 +++++++
 arch/arm/boot/dts/bcm2835-rpi-a.dts       |  7 +++++++
 arch/arm/boot/dts/bcm2835-rpi-b-plus.dts  |  7 +++++++
 arch/arm/boot/dts/bcm2835-rpi-b-rev2.dts  |  7 +++++++
 arch/arm/boot/dts/bcm2835-rpi-b.dts       |  7 +++++++
 arch/arm/boot/dts/bcm2835-rpi-cm1-io1.dts |  7 +++++++
 arch/arm/boot/dts/bcm2835-rpi-zero-w.dts  |  7 +++++++
 arch/arm/boot/dts/bcm2835-rpi-zero.dts    |  7 +++++++
 arch/arm/boot/dts/bcm2835-rpi.dtsi        | 13 -------------
 arch/arm/boot/dts/bcm2836-rpi-2-b.dts     |  7 +++++++
 arch/arm/boot/dts/bcm2837-rpi-cm3-io3.dts |  7 +++++++
 11 files changed, 70 insertions(+), 13 deletions(-)

diff --git a/arch/arm/boot/dts/bcm2835-rpi-a-plus.dts b/arch/arm/boot/dts/bcm2835-rpi-a-plus.dts
index db8a601..cb3f08d 100644
--- a/arch/arm/boot/dts/bcm2835-rpi-a-plus.dts
+++ b/arch/arm/boot/dts/bcm2835-rpi-a-plus.dts
@@ -107,6 +107,13 @@
 	status = &quot;okay&quot;;
 };

+&amp;sdhost {
+	pinctrl-names = &quot;default&quot;;
+	pinctrl-0 = &lt;&amp;sdhost_gpio48&gt;;
+	bus-width = &lt;4&gt;;
+	status = &quot;okay&quot;;
+};
+
 &amp;uart0 {
 	pinctrl-names = &quot;default&quot;;
 	pinctrl-0 = &lt;&amp;uart0_gpio14&gt;;
diff --git a/arch/arm/boot/dts/bcm2835-rpi-a.dts b/arch/arm/boot/dts/bcm2835-rpi-a.dts
index 067d1f0..2d167d9 100644
--- a/arch/arm/boot/dts/bcm2835-rpi-a.dts
+++ b/arch/arm/boot/dts/bcm2835-rpi-a.dts
@@ -102,6 +102,13 @@
 	status = &quot;okay&quot;;
 };

+&amp;sdhost {
+	pinctrl-names = &quot;default&quot;;
+	pinctrl-0 = &lt;&amp;sdhost_gpio48&gt;;
+	bus-width = &lt;4&gt;;
+	status = &quot;okay&quot;;
+};
+
 &amp;uart0 {
 	pinctrl-names = &quot;default&quot;;
 	pinctrl-0 = &lt;&amp;uart0_gpio14&gt;;
diff --git a/arch/arm/boot/dts/bcm2835-rpi-b-plus.dts b/arch/arm/boot/dts/bcm2835-rpi-b-plus.dts
index 1e40d67..83a3a60 100644
--- a/arch/arm/boot/dts/bcm2835-rpi-b-plus.dts
+++ b/arch/arm/boot/dts/bcm2835-rpi-b-plus.dts
@@ -109,6 +109,13 @@
 	status = &quot;okay&quot;;
 };

+&amp;sdhost {
+	pinctrl-names = &quot;default&quot;;
+	pinctrl-0 = &lt;&amp;sdhost_gpio48&gt;;
+	bus-width = &lt;4&gt;;
+	status = &quot;okay&quot;;
+};
+
 &amp;uart0 {
 	pinctrl-names = &quot;default&quot;;
 	pinctrl-0 = &lt;&amp;uart0_gpio14&gt;;
diff --git a/arch/arm/boot/dts/bcm2835-rpi-b-rev2.dts b/arch/arm/boot/dts/bcm2835-rpi-b-rev2.dts
index 28e7513..b6b4fea 100644
--- a/arch/arm/boot/dts/bcm2835-rpi-b-rev2.dts
+++ b/arch/arm/boot/dts/bcm2835-rpi-b-rev2.dts
@@ -102,6 +102,13 @@
 	status = &quot;okay&quot;;
 };

+&amp;sdhost {
+	pinctrl-names = &quot;default&quot;;
+	pinctrl-0 = &lt;&amp;sdhost_gpio48&gt;;
+	bus-width = &lt;4&gt;;
+	status = &quot;okay&quot;;
+};
+
 &amp;uart0 {
 	pinctrl-names = &quot;default&quot;;
 	pinctrl-0 = &lt;&amp;uart0_gpio14&gt;;
diff --git a/arch/arm/boot/dts/bcm2835-rpi-b.dts b/arch/arm/boot/dts/bcm2835-rpi-b.dts
index 31ff602..b5782fa 100644
--- a/arch/arm/boot/dts/bcm2835-rpi-b.dts
+++ b/arch/arm/boot/dts/bcm2835-rpi-b.dts
@@ -97,6 +97,13 @@
 	status = &quot;okay&quot;;
 };

+&amp;sdhost {
+	pinctrl-names = &quot;default&quot;;
+	pinctrl-0 = &lt;&amp;sdhost_gpio48&gt;;
+	bus-width = &lt;4&gt;;
+	status = &quot;okay&quot;;
+};
+
 &amp;uart0 {
 	pinctrl-names = &quot;default&quot;;
 	pinctrl-0 = &lt;&amp;uart0_gpio14&gt;;
diff --git a/arch/arm/boot/dts/bcm2835-rpi-cm1-io1.dts b/arch/arm/boot/dts/bcm2835-rpi-cm1-io1.dts
index 4764a25..41afea4 100644
--- a/arch/arm/boot/dts/bcm2835-rpi-cm1-io1.dts
+++ b/arch/arm/boot/dts/bcm2835-rpi-cm1-io1.dts
@@ -81,6 +81,13 @@
 	hpd-gpios = &lt;&amp;gpio 46 GPIO_ACTIVE_LOW&gt;;
 };

+&amp;sdhost {
+	pinctrl-names = &quot;default&quot;;
+	pinctrl-0 = &lt;&amp;sdhost_gpio48&gt;;
+	bus-width = &lt;4&gt;;
+	status = &quot;okay&quot;;
+};
+
 &amp;uart0 {
 	pinctrl-names = &quot;default&quot;;
 	pinctrl-0 = &lt;&amp;uart0_gpio14&gt;;
diff --git a/arch/arm/boot/dts/bcm2835-rpi-zero-w.dts b/arch/arm/boot/dts/bcm2835-rpi-zero-w.dts
index ba0167d..5ecc403 100644
--- a/arch/arm/boot/dts/bcm2835-rpi-zero-w.dts
+++ b/arch/arm/boot/dts/bcm2835-rpi-zero-w.dts
@@ -116,6 +116,13 @@
 	};
 };

+&amp;sdhost {
+	pinctrl-names = &quot;default&quot;;
+	pinctrl-0 = &lt;&amp;sdhost_gpio48&gt;;
+	bus-width = &lt;4&gt;;
+	status = &quot;okay&quot;;
+};
+
 &amp;uart0 {
 	pinctrl-names = &quot;default&quot;;
 	pinctrl-0 = &lt;&amp;uart0_gpio32 &amp;uart0_ctsrts_gpio30&gt;;
diff --git a/arch/arm/boot/dts/bcm2835-rpi-zero.dts b/arch/arm/boot/dts/bcm2835-rpi-zero.dts
index 3b35a8a..84c7035 100644
--- a/arch/arm/boot/dts/bcm2835-rpi-zero.dts
+++ b/arch/arm/boot/dts/bcm2835-rpi-zero.dts
@@ -98,6 +98,13 @@
 	hpd-gpios = &lt;&amp;gpio 46 GPIO_ACTIVE_LOW&gt;;
 };

+&amp;sdhost {
+	pinctrl-names = &quot;default&quot;;
+	pinctrl-0 = &lt;&amp;sdhost_gpio48&gt;;
+	bus-width = &lt;4&gt;;
+	status = &quot;okay&quot;;
+};
+
 &amp;uart0 {
 	pinctrl-names = &quot;default&quot;;
 	pinctrl-0 = &lt;&amp;uart0_gpio14&gt;;
diff --git a/arch/arm/boot/dts/bcm2835-rpi.dtsi b/arch/arm/boot/dts/bcm2835-rpi.dtsi
index 715d50c..40bac52e 100644
--- a/arch/arm/boot/dts/bcm2835-rpi.dtsi
+++ b/arch/arm/boot/dts/bcm2835-rpi.dtsi
@@ -68,19 +68,6 @@
 	status = &quot;okay&quot;;
 };

-&amp;sdhci {
-	pinctrl-names = &quot;default&quot;;
-	pinctrl-0 = &lt;&amp;emmc_gpio48&gt;;
-	bus-width = &lt;4&gt;;
-};
-
-&amp;sdhost {
-	pinctrl-names = &quot;default&quot;;
-	pinctrl-0 = &lt;&amp;sdhost_gpio48&gt;;
-	status = &quot;okay&quot;;
-	bus-width = &lt;4&gt;;
-};
-
 &amp;usb {
 	power-domains = &lt;&amp;power RPI_POWER_DOMAIN_USB&gt;;
 };
diff --git a/arch/arm/boot/dts/bcm2836-rpi-2-b.dts b/arch/arm/boot/dts/bcm2836-rpi-2-b.dts
index 7b4e651..f97ec95 100644
--- a/arch/arm/boot/dts/bcm2836-rpi-2-b.dts
+++ b/arch/arm/boot/dts/bcm2836-rpi-2-b.dts
@@ -113,6 +113,13 @@
 	status = &quot;okay&quot;;
 };

+&amp;sdhost {
+	pinctrl-names = &quot;default&quot;;
+	pinctrl-0 = &lt;&amp;sdhost_gpio48&gt;;
+	bus-width = &lt;4&gt;;
+	status = &quot;okay&quot;;
+};
+
 &amp;uart0 {
 	pinctrl-names = &quot;default&quot;;
 	pinctrl-0 = &lt;&amp;uart0_gpio14&gt;;
diff --git a/arch/arm/boot/dts/bcm2837-rpi-cm3-io3.dts b/arch/arm/boot/dts/bcm2837-rpi-cm3-io3.dts
index 6c8233a..433e306 100644
--- a/arch/arm/boot/dts/bcm2837-rpi-cm3-io3.dts
+++ b/arch/arm/boot/dts/bcm2837-rpi-cm3-io3.dts
@@ -80,6 +80,13 @@
 	hpd-gpios = &lt;&amp;expgpio 1 GPIO_ACTIVE_LOW&gt;;
 };

+&amp;sdhost {
+	pinctrl-names = &quot;default&quot;;
+	pinctrl-0 = &lt;&amp;sdhost_gpio48&gt;;
+	bus-width = &lt;4&gt;;
+	status = &quot;okay&quot;;
+};
+
 &amp;uart0 {
 	pinctrl-names = &quot;default&quot;;
 	pinctrl-0 = &lt;&amp;uart0_gpio14&gt;;
--
2.7.4


_______________________________________________
linux-arm-kernel mailing list
linux-arm-kernel@xxxxxxxxxxxxxxxxxxx
<a  rel="nofollow" href="http://lists.infradead.org/mailman/listinfo/linux-arm-kernel">http://lists.infradead.org/mailman/listinfo/linux-arm-kernel</a>


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="741651" href="msg741651.html">[PATCH RFC 00/18] ARM: Add minimal Raspberry Pi 4 support</a></strong>
<ul><li><em>From:</em> Stefan Wahren</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg741644.html">[PATCH RFC 09/18] mmc: sdhci-iproc: Add support for emmc2 of the BCM2838</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg741646.html">[PATCH RFC 01/18] ARM: bcm283x: Reduce register ranges for UART, SPI and I2C</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg741840.html">Re: [PATCH RFC 09/18] mmc: sdhci-iproc: Add support for emmc2 of the BCM2838</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg741646.html">[PATCH RFC 01/18] ARM: bcm283x: Reduce register ranges for UART, SPI and I2C</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#741645"><strong>Date</strong></a></li>
<li><a href="threads.html#741645"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/kernel/>[Linux&nbsp;Kernel]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-arm/>[Linux&nbsp;ARM&nbsp;(vger)]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-arm-msm/>[Linux&nbsp;ARM&nbsp;MSM]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-omap/>[Linux&nbsp;Omap]</a>
&nbsp;
&nbsp;
<a href=/lists/centos-arm-devel/>[CentOS&nbsp;ARM]</a>
&nbsp;
&nbsp;
<a href=/lists/arm/>[Linux&nbsp;Arm]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-tegra/>[Linux&nbsp;Tegra]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-arm/>[Fedora&nbsp;ARM]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-samsung-soc/>[Linux&nbsp;for&nbsp;Samsung&nbsp;SOC]</a>
&nbsp;
&nbsp;
<a href=/lists/ecos/>[eCos]</a>
&nbsp;
&nbsp;
<a href=/lists/fastboot/>[Linux&nbsp;Fastboot]</a>
&nbsp;
&nbsp;
<a href=/lists/gcchelp/>[Gcc&nbsp;Help]</a>
&nbsp;
&nbsp;
<a href=/lists/git/>[Git]</a>
&nbsp;
&nbsp;
<a href=/lists/dccp/>[DCCP]</a>
&nbsp;
&nbsp;
<a href=/lists/ietf-ann>[IETF&nbsp;Announce]</a>
&nbsp;
&nbsp;
<a href=/lists/security/>[Security]</a>
&nbsp;
&nbsp;
<a href=/lists/mips/>[Linux&nbsp;MIPS]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }

initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
