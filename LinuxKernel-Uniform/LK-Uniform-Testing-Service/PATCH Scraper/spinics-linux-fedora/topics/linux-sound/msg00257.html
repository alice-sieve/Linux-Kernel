<!-- MHonArc v2.6.19 -->
<!--X-Subject: Re: [Resend v6 PATCH 2/2] ASoC: atmel&#45;ssc: add pinctrl consumer -->
<!--X-From-R13: Pb Eura &#60;ibvpr.furaNngzry.pbz> -->
<!--X-Date: Tue, 20 Nov 2012 01:31:48 &#45;0800 -->
<!--X-Message-Id: 50AB4DEA.3090100@atmel.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1353045837&#45;19474&#45;1&#45;git&#45;send&#45;email&#45;voice.shen@atmel.com -->
<!--X-Reference: 1353045837&#45;19474&#45;2&#45;git&#45;send&#45;email&#45;voice.shen@atmel.com -->
<!--X-Reference: 20121116061250.GP4387@opensource.wolfsonmicro.com -->
<!--X-Reference: 50A5DE4E.80206@atmel.com -->
<!--X-Reference: 20121116064113.GQ4387@opensource.wolfsonmicro.com -->
<!--X-Reference: 50A5E44D.6040501@atmel.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Linux Sound: Re: [Resend v6 PATCH 2/2] ASoC: atmel-ssc: add pinctrl consumer">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<title>Linux Sound &mdash; Re: [Resend v6 PATCH 2/2] ASoC: atmel-ssc: add pinctrl consumer</title>
<link rel="alternate" type="application/rss+xml" title="Linux Sound" href="//feeds.feedburner.com/LinuxSound">
</head>
<body vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:6612422167" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="55" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1 itemprop="name">Re: [Resend v6 PATCH 2/2] ASoC: atmel-ssc: add pinctrl consumer</h1>
[<a href="msg00256.html">Date Prev</a>][<a href="msg00258.html">Date Next</a>][<a href="msg00250.html">Thread Prev</a>][<a href="msg00258.html">Thread Next</a>][<a href="maillist.html#00257">Date Index</a>][<a href="index.html#00257">Thread Index</a>]
<script src="https://apis.google.com/js/platform.js" async defer></script>
<g:plusone size="small"></g:plusone>
<p>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: Re: [Resend v6 PATCH 2/2] ASoC: atmel-ssc: add pinctrl consumer</li>
<li><em>From</em>: Bo Shen &lt;<a href="mailto:voice.shen@DOMAIN.HIDDEN">voice.shen@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 20 Nov 2012 17:31:22 +0800</li>
<li><em>Cc</em>: <a href="mailto:plagnioj@DOMAIN.HIDDEN">plagnioj@xxxxxxxxxxxx</a>, <a href="mailto:nicolas.ferre@DOMAIN.HIDDEN">nicolas.ferre@xxxxxxxxx</a>,        <a href="mailto:linux-arm-kernel@DOMAIN.HIDDEN">linux-arm-kernel@xxxxxxxxxxxxxxxxxxx</a>,        <a href="mailto:devicetree-discuss@DOMAIN.HIDDEN">devicetree-discuss@xxxxxxxxxxxxxxxx</a>, <a href="mailto:linux-sound@DOMAIN.HIDDEN">linux-sound@xxxxxxxxxxxxxxx</a>,        <a href="mailto:alsa-devel@DOMAIN.HIDDEN">alsa-devel@xxxxxxxxxxxxxxxx</a></li>
<li><em>In-reply-to</em>: &lt;<a href="msg00250.html">50A5E44D.6040501@atmel.com</a>&gt;</li>
<li><em>User-agent</em>: Mozilla/5.0 (Windows NT 5.1; rv:16.0) Gecko/20121026 Thunderbird/16.0.2</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi Mark,

On 11/16/2012 14:59, Bo Shen wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
On 11/16/2012 14:41, Mark Brown wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
On Fri, Nov 16, 2012 at 02:33:50PM +0800, Bo Shen wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
On 11/16/2012 14:12, Mark Brown wrote:
</pre></blockquote><pre style="margin: 0em;">

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
No, this isn't what was meant - the idea is to send only the
addition of
pinctrl data as one patch, based off the ASoC branch instead of -next.
</pre></blockquote></blockquote><pre style="margin: 0em;">

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
What is the pinctrl data? (This patch can be applied on
</pre></blockquote><pre style="margin: 0em;">

The data you're adding in the device tree!

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
sound/topic/atmel branch without any conflicts)
</pre></blockquote><pre style="margin: 0em;">

That's not helpful to anyone doing bisection if there's nothing defining
the pin states, it means that the system won't be able to start the
driver as the API call will fail.

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
The other one add pinctrl nodes, must based on -next, or else I
don't know where should I add the pinctrl nodes.
</pre></blockquote><pre style="margin: 0em;">

What makes you say this?
</pre></blockquote><pre style="margin: 0em;">

For example, if I want to add pinctrl node
---&lt;8---
  ssc0 {
     pinctrl_ssc0_tx: ssc0_tx-0 {
             atmel,pins = &lt;1 16 0x1 0x0   /* PB16 periph A */
                           1 17 0x1 0x0   /* PB17 periph A */
                                 1 18 0x1 0x0&gt;; /* PB18 periph A */
         };
---&gt;8---
This should be add into dtsi file as following
---&lt;8---
ahb {
     apb {
         pinctrl {
             ssc0 {
                 pinctrl_ssc0_tx
             }
         }
     }
}
---&gt;8---

In the ASoC branch tree, I don't see any pinctrl related information.
So, I say I don't know where should I add the pinctrl nodes.

May be I misunderstanding, do you mean I should only add as followign
based on ASoC tree? And the upper go into pinctrl tree?
---&lt;8---
ssc0: ssc@fffbc000 {
     compatible = &quot;atmel,at91rm9200-ssc&quot;;
         reg = &lt;0xfffbc000 0x4000&gt;;
         interrupts = &lt;14 4 5&gt;;
+        pinctrl-names = &quot;default&quot;;
+        pinctrl-0 = &lt;&amp;pinctrl_ssc0_tx &amp;pinctrl_ssc0_rx&gt;;
         status = &quot;disable&quot;;
};
---&gt;8---
</pre></blockquote><pre style="margin: 0em;">

Any suggestion for this? what should I do with this patch for next?

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Best Regards
Bo Shen


</pre></blockquote><pre style="margin: 0em;">

--
To unsubscribe from this list: send the line &quot;unsubscribe linux-sound&quot; in
the body of a message to majordomo@xxxxxxxxxxxxxxx
More majordomo info at  <a  rel="nofollow" href="http://vger.kernel.org/majordomo-info.html">http://vger.kernel.org/majordomo-info.html</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00258" href="msg00258.html">Re: [Resend v6 PATCH 2/2] ASoC: atmel-ssc: add pinctrl consumer</a></strong>
<ul><li><em>From:</em> Mark Brown</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00246" href="msg00246.html">[Resend v6 PATCH 1/2] ARM: at91: atmel-ssc: add pinctrl nodes</a></strong>
<ul><li><em>From:</em> Bo Shen</li></ul></li>
<li><strong><a name="00245" href="msg00245.html">[Resend v6 PATCH 2/2] ASoC: atmel-ssc: add pinctrl consumer</a></strong>
<ul><li><em>From:</em> Bo Shen</li></ul></li>
<li><strong><a name="00247" href="msg00247.html">Re: [Resend v6 PATCH 2/2] ASoC: atmel-ssc: add pinctrl consumer</a></strong>
<ul><li><em>From:</em> Mark Brown</li></ul></li>
<li><strong><a name="00248" href="msg00248.html">Re: [Resend v6 PATCH 2/2] ASoC: atmel-ssc: add pinctrl consumer</a></strong>
<ul><li><em>From:</em> Bo Shen</li></ul></li>
<li><strong><a name="00249" href="msg00249.html">Re: [Resend v6 PATCH 2/2] ASoC: atmel-ssc: add pinctrl consumer</a></strong>
<ul><li><em>From:</em> Mark Brown</li></ul></li>
<li><strong><a name="00250" href="msg00250.html">Re: [Resend v6 PATCH 2/2] ASoC: atmel-ssc: add pinctrl consumer</a></strong>
<ul><li><em>From:</em> Bo Shen</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00256.html">Re: [PATCH 2/2] ASoC: atmel-pcm: add dma support</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00258.html">Re: [Resend v6 PATCH 2/2] ASoC: atmel-ssc: add pinctrl consumer</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00250.html">Re: [Resend v6 PATCH 2/2] ASoC: atmel-ssc: add pinctrl consumer</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00258.html">Re: [Resend v6 PATCH 2/2] ASoC: atmel-ssc: add pinctrl consumer</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00257"><strong>Date</strong></a></li>
<li><a href="index.html#00257"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/Pulseaudio/>[Pulseaudio]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-audio-users/>[Linux&nbsp;Audio&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/alsa-devel/>[ALSA&nbsp;Devel]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=http://www.ske-art.com/z/biglist.html>[Big&nbsp;List&nbsp;of&nbsp;Linux&nbsp;Books]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width="100%">
<tr>
<td valign=top align=left>&nbsp;</td>
<td valign=top align=right>
<a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr></table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
