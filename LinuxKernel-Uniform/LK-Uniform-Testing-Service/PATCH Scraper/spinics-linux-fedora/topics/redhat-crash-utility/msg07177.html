<!-- MHonArc v2.6.19 -->
<!--X-Subject: [PATCH RFC 0/1] Display relative lag of each CPU -->
<!--X-From-R13: Ayrxfnaqe @ngnyraxb &#60;byrxfnaqeNerqung.pbz> -->
<!--X-Date: Fri, 3 Nov 2017 01:38:24 &#45;0700 -->
<!--X-Message-Id: 20171103083812.23106&#45;1&#45;oleksandr@redhat.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="[PATCH RFC 0/1] Display relative lag of each CPU &mdash; Red Hat Crash Utility">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<title>Red Hat Crash Utility &mdash;  [PATCH RFC 0/1] Display relative lag of each CPU</title>
<link rel="alternate" type="application/rss+xml" title="Red Hat Crash Utility" href="//feeds.feedburner.com/RedHatCrashUtility">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:9580497365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="25" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1 itemprop="name">[PATCH RFC 0/1] Display relative lag of each CPU</h1>
[<a href="msg07176.html">Date Prev</a>][<a href="msg07178.html">Date Next</a>][<a href="msg07175.html">Thread Prev</a>][<a href="msg07178.html">Thread Next</a>][<a href="maillist.html#07177">Date Index</a>][<a href="index.html#07177">Thread Index</a>]
<script src="https://apis.google.com/js/platform.js" async defer></script>
<g:plusone size="small"></g:plusone>
<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: [PATCH RFC 0/1] Display relative lag of each CPU</li>
<li><em>From</em>: Oleksandr Natalenko &lt;oleksandr@xxxxxxxxxx&gt;</li>
<li><em>Date</em>: Fri,  3 Nov 2017 09:38:11 +0100</li>
<li><em>Cc</em>: crash-utility@xxxxxxxxxx</li>
<li><em>Reply-to</em>: &quot;Discussion list for crash utility usage,	maintenance and development&quot; &lt;crash-utility@xxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" defer async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>While analyzing vmcore it is useful to have an information
about relative lag of each CPU. Usually, people do something like this:

runq -t | grep CPU | sort -k3r |
  awk 'NR==1{now=strtonum(&quot;0x&quot;$3)}1{printf&quot;%s\t%7.2fs behind\n&quot;,
       $0,(now-strtonum(&quot;0x&quot;$3))/1000000000}'

Here, most recent runqueue timestamp is taken as a basis, and other
runqueues are assumed to lag behind it. This information can tell
the reviewer which CPU is experiencing some lockup, which is
especially useful for vmcores taken in virtual machines.

I think it would be nice to have this feature implemented by crash
utility itself.

Since this is an RFC and if this enhancement looks useful, I'd like
to ask to assist me with output indentation since dump_on_rq_timestamp(),
for instance, looks too implicit and (honestly) awful to use as it is.

Oleksandr Natalenko (1):
  runq: display relative lag of each CPU

 help.c |  4 +++-
 task.c | 76 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 78 insertions(+), 2 deletions(-)

-- 
2.15.0

--
Crash-utility mailing list
Crash-utility@xxxxxxxxxx
<a  rel="nofollow" href="https://www.redhat.com/mailman/listinfo/crash-utility">https://www.redhat.com/mailman/listinfo/crash-utility</a>


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="07186" href="msg07186.html">Re:  [PATCH RFC 0/1] Display relative lag of each CPU</a></strong>
<ul><li><em>From:</em> Dave Anderson</li></ul></li>
<li><strong><a name="07178" href="msg07178.html">[PATCH RFC 1/1] runq: display relative lag of each	CPU</a></strong>
<ul><li><em>From:</em> Oleksandr Natalenko</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg07176.html">[PATCH v2 1/1] dev: add option to filter disks with	no I/O</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg07178.html">[PATCH RFC 1/1] runq: display relative lag of each	CPU</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg07175.html">[PATCH v2 0/1] Add option to filter disks with no	I/O in progress</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg07178.html">[PATCH RFC 1/1] runq: display relative lag of each	CPU</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#07177"><strong>Date</strong></a></li>
<li><a href="index.html#07177"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-devel/>[Fedora&nbsp;Development]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-tools/>[Fedora&nbsp;Tools]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width="100%">
<tr>
<td align=left>&nbsp;</td>
<td valign=top align=right><H1><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></H1></td>
</tr></table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
