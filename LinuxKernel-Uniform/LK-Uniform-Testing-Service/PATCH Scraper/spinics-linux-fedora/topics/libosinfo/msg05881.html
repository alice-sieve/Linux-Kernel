<!-- MHonArc v2.6.19 -->
<!--X-Subject: Re:  [osinfo&#45;db&#45;tools PATCH 6/8] Support `make syntax&#45;check` without Makefile -->
<!--X-From-R13: Rnavry =?hgs&#45;8?P?GQ4tCzHlpzThL8Ac?= &#60;oreenatrNerqung.pbz> -->
<!--X-Date: Thu, 20 Jun 2019 10:16:49 &#45;0700 -->
<!--X-Message-Id: 20190620171418.GE6693@redhat.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20190620152127.30892&#45;1&#45;fidencio@redhat.com -->
<!--X-Reference: 20190620152127.30892&#45;7&#45;fidencio@redhat.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<title>Re:  [osinfo-db-tools PATCH 6/8] Support `make syntax-check` without Makefile &mdash; libosinfo</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="libosinfo: Re:  [osinfo-db-tools PATCH 6/8] Support `make syntax-check` without Makefile">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<link rel="alternate" type="application/rss+xml" title="libosinfo" href="//feeds.feedburner.com/libosinfo">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:9580497365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="25" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1 itemprop="name">Re:  [osinfo-db-tools PATCH 6/8] Support `make syntax-check` without Makefile</h1>
[<a href="msg05880.html">Date Prev</a>][<a href="msg05882.html">Date Next</a>][<a href="msg05868.html">Thread Prev</a>][<a href="msg05869.html">Thread Next</a>][<a href="maillist.html#05881">Date Index</a>][<a href="index.html#05881">Thread Index</a>]


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: Re:  [osinfo-db-tools PATCH 6/8] Support `make syntax-check` without Makefile</li>
<li><em>From</em>: Daniel P. Berrang&#xE9; &lt;berrange@xxxxxxxxxx&gt;</li>
<li><em>Date</em>: Thu, 20 Jun 2019 18:14:18 +0100</li>
<li><em>Cc</em>: libosinfo@xxxxxxxxxx, feborges@xxxxxxxxxx</li>
<li><em>In-reply-to</em>: &lt;<a href="msg05868.html">20190620152127.30892-7-fidencio@redhat.com</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg05862.html">20190620152127.30892-1-fidencio@redhat.com</a>&gt;	&lt;<a href="msg05868.html">20190620152127.30892-7-fidencio@redhat.com</a>&gt;</li>
<li><em>Reply-to</em>: Daniel P. Berrang&#xE9; &lt;berrange@xxxxxxxxxx&gt;</li>
<li><em>User-agent</em>: Mutt/1.11.4 (2019-03-13)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Thu, Jun 20, 2019 at 05:21:25PM +0200, Fabiano Fid&#xEA;ncio wrote:
&gt; A few dirty hacks have been done in GNUmakefile, cfg.mk, and maint.mk in
&gt; order to support running `make syntax-check` without having to have a
&gt; Makefile around.
&gt; 
&gt; GNUmakefile: set srcdir &amp; top_srcdir and remove the parts that would
&gt; cause an error due to no presence of a Makefile.
&gt; 
&gt; cfg.mk: replace $(SED) by sed as $(SED) is set in the Makefile after
&gt; running ./configure.
&gt; 
&gt; maint.mk: add sc_prohibit_always-defined_macros to the list of local
&gt; checks to skip as it looks for Makefile, which is generated after
&gt; running ./configure.
&gt; 
&gt; Signed-off-by: Fabiano Fid&#xEA;ncio &lt;fidencio@xxxxxxxxxx&gt;
&gt; ---
&gt;  GNUmakefile | 28 ++--------------------------
&gt;  cfg.mk      |  3 ++-
&gt;  maint.mk    | 32 ++++++++++++++++----------------
&gt;  3 files changed, 20 insertions(+), 43 deletions(-)


&gt; diff --git a/maint.mk b/maint.mk
&gt; index 04a839a..035d2ac 100644
&gt; --- a/maint.mk
&gt; +++ b/maint.mk
&gt; @@ -69,7 +69,7 @@ _dot_escaped_srcdir = $(subst .,\.,$(srcdir))
&gt;  ifeq ($(srcdir),.)
&gt;    _prepend_srcdir_prefix =
&gt;  else
&gt; -  _prepend_srcdir_prefix = | $(SED) 's|^|$(srcdir)/|'
&gt; +  _prepend_srcdir_prefix = | sed 's|^|$(srcdir)/|'
&gt;  endif

This can be avoided if you just pull in the newer maint.mk from
gnulib. It simply sets the SED variable at the top for people
who are using this file directly instead of imported via automake.


Regards,
Daniel
-- 
|: <a  rel="nofollow" href="https://berrange.com">https://berrange.com</a>      -o-    <a  rel="nofollow" href="https://www.flickr.com/photos/dberrange">https://www.flickr.com/photos/dberrange</a> :|
|: <a  rel="nofollow" href="https://libvirt.org">https://libvirt.org</a>         -o-            <a  rel="nofollow" href="https://fstop138.berrange.com">https://fstop138.berrange.com</a> :|
|: <a  rel="nofollow" href="https://entangle-photo.org">https://entangle-photo.org</a>    -o-    <a  rel="nofollow" href="https://www.instagram.com/dberrange">https://www.instagram.com/dberrange</a> :|

_______________________________________________
Libosinfo mailing list
Libosinfo@xxxxxxxxxx
<a  rel="nofollow" href="https://www.redhat.com/mailman/listinfo/libosinfo">https://www.redhat.com/mailman/listinfo/libosinfo</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg05880.html">Re:  [osinfo-db-tools PATCH 2/8] Add support to meson build system</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg05882.html">Re:  [osinfo-db-tools PATCH 7/8] meson: Add ninja syntax-check</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg05868.html">[osinfo-db-tools PATCH 6/8] Support `make syntax-check`	without Makefile</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg05869.html">[osinfo-db-tools PATCH 7/8] meson: Add ninja	syntax-check</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#05881"><strong>Date</strong></a></li>
<li><a href="index.html#05881"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/virt-tools/>[Virt&nbsp;Tools]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/libvirt-users/>[Libvirt&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-users/>[Fedora&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-maintainers/>[Fedora&nbsp;Maintainers]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=http://www.ske-art.com/z/biglist.html>[Big&nbsp;List&nbsp;of&nbsp;Linux&nbsp;Books]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
</font>
</center>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
