<!-- MHonArc v2.6.19 -->
<!--X-Subject: [osinfo&#45;db PATCH 4/6] install&#45;script,	opensuse: Add osinfo&#45;install&#45;successful file -->
<!--X-From-R13: =?GFT&#45;8?d?Tnovnab=20Tvq=Q3=OOapvb?= &#60;svqrapvbNerqung.pbz> -->
<!--X-Date: Fri, 19 Jul 2019 07:22:26 &#45;0700 -->
<!--X-Message-Id: 20190719142211.11108&#45;5&#45;fidencio@redhat.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20190719142211.11108&#45;1&#45;fidencio@redhat.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<title>[osinfo-db PATCH 4/6] install-script,	opensuse: Add osinfo-install-successful file &mdash; libosinfo</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="libosinfo: [osinfo-db PATCH 4/6] install-script,	opensuse: Add osinfo-install-successful file">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<link rel="alternate" type="application/rss+xml" title="libosinfo" href="//feeds.feedburner.com/libosinfo">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:9580497365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="25" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1 itemprop="name">[osinfo-db PATCH 4/6] install-script,	opensuse: Add osinfo-install-successful file</h1>
[<a href="msg06076.html">Date Prev</a>][<a href="msg06078.html">Date Next</a>][<a href="msg06076.html">Thread Prev</a>][<a href="msg06078.html">Thread Next</a>][<a href="maillist.html#06077">Date Index</a>][<a href="index.html#06077">Thread Index</a>]


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: [osinfo-db PATCH 4/6] install-script,	opensuse: Add osinfo-install-successful file</li>
<li><em>From</em>: Fabiano Fid&#xEA;ncio &lt;fidencio@xxxxxxxxxx&gt;</li>
<li><em>Date</em>: Fri, 19 Jul 2019 16:22:09 +0200</li>
<li><em>In-reply-to</em>: &lt;<a href="msg06073.html">20190719142211.11108-1-fidencio@redhat.com</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg06073.html">20190719142211.11108-1-fidencio@redhat.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Let's create an `osinfo-install-successful` file in /root after we
finish the installation.

Although this may not be totally accurate, it'll help up in the future
to test whether the installation was successful in an automated manner.

Signed-off-by: Fabiano Fid&#xEA;ncio &lt;fidencio@xxxxxxxxxx&gt;
---
 .../opensuse.org/opensuse-autoyast-desktop.xml.in              | 3 +++
 data/install-script/opensuse.org/opensuse-autoyast-jeos.xml.in | 3 +++
 2 files changed, 6 insertions(+)

diff --git a/data/install-script/opensuse.org/opensuse-autoyast-desktop.xml.in b/data/install-script/opensuse.org/opensuse-autoyast-desktop.xml.in
index 38e2c92..5122bfb 100644
--- a/data/install-script/opensuse.org/opensuse-autoyast-desktop.xml.in
+++ b/data/install-script/opensuse.org/opensuse-autoyast-desktop.xml.in
@@ -301,6 +301,9 @@ zypper ar -f &lt;xsl:call-template name=&quot;repo-update-oss&quot;/&gt; repo-update-oss
 &lt;xsl:if test=&quot;not(contains(os/version, 'tumbleweed'))&quot;&gt;
   zypper ar -f &lt;xsl:call-template name=&quot;repo-update-non-oss&quot;/&gt; repo-update-non-oss
 &lt;/xsl:if&gt;
+
+# Create an osinfo-install-successful file in /root
+touch /root/osinfo-install-successful
                   &lt;/source&gt;
                 &lt;/script&gt;
               &lt;/chroot-scripts&gt;
diff --git a/data/install-script/opensuse.org/opensuse-autoyast-jeos.xml.in b/data/install-script/opensuse.org/opensuse-autoyast-jeos.xml.in
index 9f7af9f..94d35a7 100644
--- a/data/install-script/opensuse.org/opensuse-autoyast-jeos.xml.in
+++ b/data/install-script/opensuse.org/opensuse-autoyast-jeos.xml.in
@@ -253,6 +253,9 @@ zypper ar -f &lt;xsl:call-template name=&quot;repo-update-oss&quot;/&gt; repo-update-oss
 &lt;xsl:if test=&quot;not(contains(os/version, 'tumbleweed'))&quot;&gt;
   zypper ar -f &lt;xsl:call-template name=&quot;repo-update-non-oss&quot;/&gt; repo-update-non-oss
 &lt;/xsl:if&gt;
+
+# Create an osinfo-install-successful file in /root
+touch /root/osinfo-install-successful
                   &lt;/source&gt;
                 &lt;/script&gt;
               &lt;/chroot-scripts&gt;
-- 
2.21.0

_______________________________________________
Libosinfo mailing list
Libosinfo@xxxxxxxxxx
<a  rel="nofollow" href="https://www.redhat.com/mailman/listinfo/libosinfo">https://www.redhat.com/mailman/listinfo/libosinfo</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg06076.html">[osinfo-db PATCH 3/6] install-script,	silverblue: Add osinfo-install-successful file</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg06078.html">[osinfo-db PATCH 6/6] install-script,	ubuntu: Add osinfo-install-successful file</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg06076.html">[osinfo-db PATCH 3/6] install-script,	silverblue: Add osinfo-install-successful file</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg06078.html">[osinfo-db PATCH 6/6] install-script,	ubuntu: Add osinfo-install-successful file</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#06077"><strong>Date</strong></a></li>
<li><a href="index.html#06077"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/virt-tools/>[Virt&nbsp;Tools]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/libvirt-users/>[Libvirt&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-users/>[Fedora&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-maintainers/>[Fedora&nbsp;Maintainers]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=http://www.ske-art.com/z/biglist.html>[Big&nbsp;List&nbsp;of&nbsp;Linux&nbsp;Books]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
</font>
</center>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
