<!-- MHonArc v2.6.19 -->
<!--X-Subject: Re: [PATCH V33 24/30] bpf: Restrict bpf when kernel lockdown is in confidentiality mode -->
<!--X-From-R13: [nggurj Uneergg &#60;zwt59Ntbbtyr.pbz> -->
<!--X-Date: Fri, 28 Jun 2019 11:49:15 &#45;0700 -->
<!--X-Message-Id: CACdnJuuy7&#45;tkj86njAqtdJ3dUMu&#45;2T8a2y8DC3fMKBK0z9J6ag@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20190621011941.186255&#45;1&#45;matthewgarrett@google.com -->
<!--X-Reference: 20190621011941.186255&#45;25&#45;matthewgarrett@google.com -->
<!--X-Reference: CALCETrVUwQP7roLnW6kFG80Cc5U6X_T6AW+BTAftLccYGp8+Ow@mail.gmail.com -->
<!--X-Reference: alpine.LRH.2.21.1906270621080.28132@namei.org -->
<!--X-Reference: 6E53376F&#45;01BB&#45;4795&#45;BC02&#45;24F9CAE00001@amacapital.net -->
<!--X-Reference: bce70c8b&#45;9efd&#45;6362&#45;d536&#45;cfbbcf70b0b7@tycho.nsa.gov -->
<!--X-Reference: CALCETrXwt43w6rQY6zt0J_3HOaad=+E5PushJNdSOZDBuaYV+Q@mail.gmail.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Linux Security Module, Re: [PATCH V33 24/30] bpf: Restrict bpf when kernel lockdown is in confidentiality mode">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<title>Linux Security Module -- Re: [PATCH V33 24/30] bpf: Restrict bpf when kernel lockdown is in confidentiality mode</title>
<link rel="alternate" type="application/rss+xml" title="Linux Security Module" href="//feeds.feedburner.com/LinuxSecurityModule">
</head>
<body vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:9580497365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="25" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1 itemprop="name">Re: [PATCH V33 24/30] bpf: Restrict bpf when kernel lockdown is in confidentiality mode</h1>
[<a href="msg29571.html">Date Prev</a>][<a href="msg29573.html">Date Next</a>][<a href="msg29512.html">Thread Prev</a>][<a href="msg29588.html">Thread Next</a>][<a href="maillist.html#29572">Date Index</a>][<a href="index.html#29572">Thread Index</a>]


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: Re: [PATCH V33 24/30] bpf: Restrict bpf when kernel lockdown is in confidentiality mode</li>
<li><em>From</em>: Matthew Garrett &lt;mjg59@xxxxxxxxxx&gt;</li>
<li><em>Date</em>: Fri, 28 Jun 2019 11:47:12 -0700</li>
<li><em>Cc</em>: Stephen Smalley &lt;sds@xxxxxxxxxxxxx&gt;, James Morris &lt;jmorris@xxxxxxxxx&gt;,        linux-security@xxxxxxxxxxxxxxx, LKML &lt;linux-kernel@xxxxxxxxxxxxxxx&gt;,        Linux API &lt;linux-api@xxxxxxxxxxxxxxx&gt;,        David Howells &lt;dhowells@xxxxxxxxxx&gt;,        Alexei Starovoitov &lt;alexei.starovoitov@xxxxxxxxx&gt;,        Network Development &lt;netdev@xxxxxxxxxxxxxxx&gt;,        Chun-Yi Lee &lt;jlee@xxxxxxxx&gt;, Daniel Borkmann &lt;daniel@xxxxxxxxxxxxx&gt;,        LSM List &lt;linux-security-module@xxxxxxxxxxxxxxx&gt;</li>
<li><em>In-reply-to</em>: &lt;CALCETrXwt43w6rQY6zt0J_3HOaad=+E5PushJNdSOZDBuaYV+Q@mail.gmail.com&gt;</li>
<li><em>References</em>: &lt;20190621011941.186255-1-matthewgarrett@google.com&gt; &lt;20190621011941.186255-25-matthewgarrett@google.com&gt; &lt;CALCETrVUwQP7roLnW6kFG80Cc5U6X_T6AW+BTAftLccYGp8+Ow@mail.gmail.com&gt; &lt;<a href="msg29394.html">alpine.LRH.2.21.1906270621080.28132@namei.org</a>&gt; &lt;<a href="msg29433.html">6E53376F-01BB-4795-BC02-24F9CAE00001@amacapital.net</a>&gt; &lt;<a href="msg29462.html">bce70c8b-9efd-6362-d536-cfbbcf70b0b7@tycho.nsa.gov</a>&gt; &lt;CALCETrXwt43w6rQY6zt0J_3HOaad=+E5PushJNdSOZDBuaYV+Q@mail.gmail.com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Thu, Jun 27, 2019 at 4:27 PM Andy Lutomirski &lt;luto@xxxxxxxxxx&gt; wrote:
&gt; They're really quite similar in my mind.  Certainly some things in the
&gt; &quot;integrity&quot; category give absolutely trivial control over the kernel
&gt; (e.g. modules) while others make it quite challenging (ioperm), but
&gt; the end result is very similar.  And quite a few &quot;confidentiality&quot;
&gt; things genuinely do allow all kernel memory to be read.
&gt;
&gt; I agree that finer-grained distinctions could be useful. My concern is
&gt; that it's a tradeoff, and the other end of the tradeoff is an ABI
&gt; stability issue.  If someone decides down the road that some feature
&gt; that is currently &quot;integrity&quot; can be split into a narrow &quot;integrity&quot;
&gt; feature and a &quot;confidentiality&quot; feature then, if the user policy knows
&gt; about the individual features, there's a risk of breaking people's
&gt; systems.  If we keep the fine-grained control, do we have a clear
&gt; compatibility story?

My preference right now is to retain the fine-grained aspect of things
in the internal API, simply because it'll be more annoying to add it
back later if we want to. I don't want to expose it via the Lockdown
user facing API for the reasons you've described, but it's not
impossible that another LSM would find a way to do this reasonably.
Does it seem reasonable to punt this discussion out to the point where
another LSM tries to do something with this information, based on the
implementation they're attempting?


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="29588" href="msg29588.html">Re: [PATCH V33 24/30] bpf: Restrict bpf when kernel lockdown is in confidentiality mode</a></strong>
<ul><li><em>From:</em> Andy Lutomirski</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="29394" href="msg29394.html">Re: [PATCH V33 24/30] bpf: Restrict bpf when kernel lockdown is in confidentiality mode</a></strong>
<ul><li><em>From:</em> James Morris</li></ul></li>
<li><strong><a name="29433" href="msg29433.html">Re: [PATCH V33 24/30] bpf: Restrict bpf when kernel lockdown is in confidentiality mode</a></strong>
<ul><li><em>From:</em> Andy Lutomirski</li></ul></li>
<li><strong><a name="29462" href="msg29462.html">Re: [PATCH V33 24/30] bpf: Restrict bpf when kernel lockdown is in confidentiality mode</a></strong>
<ul><li><em>From:</em> Stephen Smalley</li></ul></li>
<li><strong><a name="29512" href="msg29512.html">Re: [PATCH V33 24/30] bpf: Restrict bpf when kernel lockdown is in confidentiality mode</a></strong>
<ul><li><em>From:</em> Andy Lutomirski</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg29571.html">Re: [PATCH v4 15/23] LSM: Specify which LSM to display</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg29573.html">Re: [RFC PATCH v5 0/1] Add dm verity root hash pkcs7 sig validation.</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg29512.html">Re: [PATCH V33 24/30] bpf: Restrict bpf when kernel lockdown is in confidentiality mode</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg29588.html">Re: [PATCH V33 24/30] bpf: Restrict bpf when kernel lockdown is in confidentiality mode</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#29572"><strong>Date</strong></a></li>
<li><a href="index.html#29572"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-users/>[Fedora&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
