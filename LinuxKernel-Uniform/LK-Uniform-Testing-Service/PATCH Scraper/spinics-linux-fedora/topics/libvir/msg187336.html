<!-- MHonArc v2.6.19 -->
<!--X-Subject: [PATCH 22/25] qemu: blockjob: Track orphaned backing	chains in blockjob status XML -->
<!--X-From-R13: Brgre Yerzcn &#60;cxerzcnNerqung.pbz> -->
<!--X-Date: Fri, 12 Jul 2019 09:07:38 &#45;0700 -->
<!--X-Message-Id: 7c6a00c7cb9a3a68a6dd529ace9bf87cb8cbdf3e.1562947284.git.pkrempa@redhat.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: cover.1562947283.git.pkrempa@redhat.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<title>libvirt &mdash; [PATCH 22/25] qemu: blockjob: Track orphaned backing	chains in blockjob status XML</title>
<meta name="description" content="libvirt: [PATCH 22/25] qemu: blockjob: Track orphaned backing	chains in blockjob status XML">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="alternate" type="application/rss+xml" title="Libvirt Development" href="//feeds.feedburner.com/Libvir">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:8422278960" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="55" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1>[PATCH 22/25] qemu: blockjob: Track orphaned backing	chains in blockjob status XML</h1>
[<a href="msg187335.html">Date Prev</a>][<a href="msg187339.html">Date Next</a>][<a href="msg187432.html">Thread Prev</a>][<a href="msg187433.html">Thread Next</a>][<a href="maillist.html#187336">Date Index</a>][<a href="index.html#187336">Thread Index</a>] 


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: [PATCH 22/25] qemu: blockjob: Track orphaned backing	chains in blockjob status XML</li>
<li><em>From</em>: Peter Krempa &lt;pkrempa@xxxxxxxxxx&gt;</li>
<li><em>Date</em>: Fri, 12 Jul 2019 18:06:03 +0200</li>
<li><em>Cc</em>: Peter Krempa &lt;pkrempa@xxxxxxxxxx&gt;</li>
<li><em>In-reply-to</em>: &lt;<a href="msg187317.html">cover.1562947283.git.pkrempa@redhat.com</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg187317.html">cover.1562947283.git.pkrempa@redhat.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>When the guest unplugs the disk frontend libvirt is responsible for
deleting the backend. Since a blockjob may still have a reference to the
backing chain when it is running we'll have to store the metadata for
the unplugged disk for future reference.

This patch adds 'chain' and 'mirrorChain' fields to 'qemuBlockJobData'
to keep them around with the job along with status XML machinery and
tests. Later patches will then add code to change the ownership of the
chain when unplugging the disk backend.

Signed-off-by: Peter Krempa &lt;pkrempa@xxxxxxxxxx&gt;
---
 src/qemu/qemu_blockjob.c                      |   5 +
 src/qemu/qemu_blockjob.h                      |   2 +
 src/qemu/qemu_domain.c                        | 124 ++++++++++++++++--
 .../blockjob-blockdev-in.xml                  |  37 ++++++
 4 files changed, 160 insertions(+), 8 deletions(-)

diff --git a/src/qemu/qemu_blockjob.c b/src/qemu/qemu_blockjob.c
index 360fc40e61..70b223b29d 100644
--- a/src/qemu/qemu_blockjob.c
+++ b/src/qemu/qemu_blockjob.c
@@ -61,6 +61,9 @@ qemuBlockJobDataDispose(void *obj)
 {
     qemuBlockJobDataPtr job = obj;

+    virObjectUnref(job-&gt;chain);
+    virObjectUnref(job-&gt;mirrorChain);
+
     VIR_FREE(job-&gt;name);
     VIR_FREE(job-&gt;errmsg);
 }
@@ -116,6 +119,8 @@ qemuBlockJobRegister(qemuBlockJobDataPtr job,

     if (disk) {
         job-&gt;disk = disk;
+        job-&gt;chain = virObjectRef(disk-&gt;src);
+        job-&gt;mirrorChain = virObjectRef(disk-&gt;mirror);
         QEMU_DOMAIN_DISK_PRIVATE(disk)-&gt;blockjob = virObjectRef(job);
     }

diff --git a/src/qemu/qemu_blockjob.h b/src/qemu/qemu_blockjob.h
index 2d8ecdd4c3..d07ab75c8b 100644
--- a/src/qemu/qemu_blockjob.h
+++ b/src/qemu/qemu_blockjob.h
@@ -75,6 +75,8 @@ struct _qemuBlockJobData {
     char *name;

     virDomainDiskDefPtr disk; /* may be NULL, if blockjob does not correspond to any disk */
+    virStorageSourcePtr chain; /* Reference to the chain the job operates on. */
+    virStorageSourcePtr mirrorChain; /* reference to 'mirror' part of the job */

     int type; /* qemuBlockJobType */
     int state; /* qemuBlockjobState */
diff --git a/src/qemu/qemu_domain.c b/src/qemu/qemu_domain.c
index 13a90ab60b..48b99e5511 100644
--- a/src/qemu/qemu_domain.c
+++ b/src/qemu/qemu_domain.c
@@ -2313,22 +2313,59 @@ qemuDomainObjPrivateXMLFormatAutomaticPlacement(virBufferPtr buf,
 }


+typedef struct qemuDomainPrivateBlockJobFormatData {
+    virDomainXMLOptionPtr xmlopt;
+    virBufferPtr buf;
+} qemuDomainPrivateBlockJobFormatData;
+
+
+static int
+qemuDomainObjPrivateXMLFormatBlockjobFormatChain(virBufferPtr buf,
+                                                 const char *chainname,
+                                                 virStorageSourcePtr src,
+                                                 virDomainXMLOptionPtr xmlopt)
+{
+    VIR_AUTOCLEAN(virBuffer) attrBuf = VIR_BUFFER_INITIALIZER;
+    VIR_AUTOCLEAN(virBuffer) childBuf = VIR_BUFFER_INITIALIZER;
+    unsigned int xmlflags = VIR_DOMAIN_DEF_FORMAT_STATUS;
+
+    virBufferSetChildIndent(&amp;childBuf, buf);
+
+    virBufferAsprintf(&amp;attrBuf, &quot; type='%s' format='%s'&quot;,
+                      virStorageTypeToString(src-&gt;type),
+                      virStorageFileFormatTypeToString(src-&gt;format));
+
+    if (virDomainDiskSourceFormat(&amp;childBuf, src, &quot;source&quot;, 0, true, xmlflags, xmlopt) &lt; 0)
+        return -1;
+
+    if (virDomainDiskBackingStoreFormat(&amp;childBuf, src, xmlopt, xmlflags) &lt; 0)
+        return -1;
+
+    if (virXMLFormatElement(buf, chainname, &amp;attrBuf, &amp;childBuf) &lt; 0)
+        return -1;
+
+    return 0;
+}
+
+
 static int
 qemuDomainObjPrivateXMLFormatBlockjobIterator(void *payload,
                                               const void *name ATTRIBUTE_UNUSED,
-                                              void *data)
+                                              void *opaque)
 {
     VIR_AUTOCLEAN(virBuffer) attrBuf = VIR_BUFFER_INITIALIZER;
     VIR_AUTOCLEAN(virBuffer) childBuf = VIR_BUFFER_INITIALIZER;
+    VIR_AUTOCLEAN(virBuffer) chainsBuf = VIR_BUFFER_INITIALIZER;
     qemuBlockJobDataPtr job = payload;
-    virBufferPtr buf = data;
     const char *state = qemuBlockjobStateTypeToString(job-&gt;state);
     const char *newstate = NULL;
+    struct qemuDomainPrivateBlockJobFormatData *data = opaque;

     if (job-&gt;newstate != -1)
         newstate = qemuBlockjobStateTypeToString(job-&gt;newstate);

-    virBufferSetChildIndent(&amp;childBuf, buf);
+    virBufferSetChildIndent(&amp;childBuf, data-&gt;buf);
+    virBufferSetChildIndent(&amp;chainsBuf, &amp;childBuf);

     virBufferEscapeString(&amp;attrBuf, &quot; name='%s'&quot;, job-&gt;name);
     virBufferEscapeString(&amp;attrBuf, &quot; type='%s'&quot;, qemuBlockjobTypeToString(job-&gt;type));
@@ -2336,10 +2373,28 @@ qemuDomainObjPrivateXMLFormatBlockjobIterator(void *payload,
     virBufferEscapeString(&amp;attrBuf, &quot; newstate='%s'&quot;, newstate);
     virBufferEscapeString(&amp;childBuf, &quot;&lt;errmsg&gt;%s&lt;/errmsg&gt;&quot;, job-&gt;errmsg);

-    if (job-&gt;disk)
+    if (job-&gt;disk) {
         virBufferEscapeString(&amp;childBuf, &quot;&lt;disk dst='%s'/&gt;\n&quot;, job-&gt;disk-&gt;dst);
+    } else {
+        if (job-&gt;chain &amp;&amp;
+            qemuDomainObjPrivateXMLFormatBlockjobFormatChain(&amp;chainsBuf,
+                                                             &quot;disk&quot;,
+                                                             job-&gt;chain,
+                                                             data-&gt;xmlopt) &lt; 0)
+            return -1;
+
+        if (job-&gt;mirrorChain &amp;&amp;
+            qemuDomainObjPrivateXMLFormatBlockjobFormatChain(&amp;chainsBuf,
+                                                             &quot;mirror&quot;,
+                                                             job-&gt;mirrorChain,
+                                                             data-&gt;xmlopt) &lt; 0)
+            return -1;
+
+        if (virXMLFormatElement(&amp;childBuf, &quot;chains&quot;, NULL, &amp;chainsBuf) &lt; 0)
+            return -1;
+    }

-    return virXMLFormatElement(buf, &quot;blockjob&quot;, &amp;attrBuf, &amp;childBuf);
+    return virXMLFormatElement(data-&gt;buf, &quot;blockjob&quot;, &amp;attrBuf, &amp;childBuf);
 }


@@ -2351,6 +2406,8 @@ qemuDomainObjPrivateXMLFormatBlockjobs(virBufferPtr buf,
     VIR_AUTOCLEAN(virBuffer) attrBuf = VIR_BUFFER_INITIALIZER;
     VIR_AUTOCLEAN(virBuffer) childBuf = VIR_BUFFER_INITIALIZER;
     bool bj = qemuDomainHasBlockjob(vm, false);
+    struct qemuDomainPrivateBlockJobFormatData iterdata = { priv-&gt;driver-&gt;xmlopt,
+                                                            &amp;childBuf };

     virBufferAsprintf(&amp;attrBuf, &quot; active='%s'&quot;,
                       virTristateBoolTypeToString(virTristateBoolFromBool(bj)));
@@ -2360,7 +2417,7 @@ qemuDomainObjPrivateXMLFormatBlockjobs(virBufferPtr buf,
     if (virQEMUCapsGet(priv-&gt;qemuCaps, QEMU_CAPS_BLOCKDEV) &amp;&amp;
         virHashForEach(priv-&gt;blockjobs,
                        qemuDomainObjPrivateXMLFormatBlockjobIterator,
-                       &amp;childBuf) &lt; 0)
+                       &amp;iterdata) &lt; 0)
         return -1;

     return virXMLFormatElement(buf, &quot;blockjobs&quot;, &amp;attrBuf, &amp;childBuf);
@@ -2702,10 +2759,49 @@ qemuDomainObjPrivateXMLParseAutomaticPlacement(xmlXPathContextPtr ctxt,
 }


+static virStorageSourcePtr
+qemuDomainObjPrivateXMLParseBlockjobChain(xmlNodePtr node,
+                                          xmlXPathContextPtr ctxt,
+                                          virDomainXMLOptionPtr xmlopt)
+
+{
+    VIR_XPATH_NODE_AUTORESTORE(ctxt);
+    VIR_AUTOFREE(char *) format = NULL;
+    VIR_AUTOFREE(char *) type = NULL;
+    VIR_AUTOFREE(char *) index = NULL;
+    VIR_AUTOUNREF(virStorageSourcePtr) src = NULL;
+    xmlNodePtr sourceNode;
+    unsigned int xmlflags = VIR_DOMAIN_DEF_PARSE_STATUS;
+
+    ctxt-&gt;node = node;
+
+    if (!(type = virXMLPropString(ctxt-&gt;node, &quot;type&quot;)) ||
+        !(format = virXMLPropString(ctxt-&gt;node, &quot;format&quot;)) ||
+        !(index = virXPathString(&quot;string(./source/@index)&quot;, ctxt)) ||
+        !(sourceNode = virXPathNode(&quot;./source&quot;, ctxt))) {
+        virReportError(VIR_ERR_XML_ERROR, &quot;%s&quot;,
+                       _(&quot;missing job chain data&quot;));
+        return NULL;
+    }
+
+    if (!(src = virDomainStorageSourceParseBase(type, format, index)))
+        return NULL;
+
+    if (virDomainStorageSourceParse(sourceNode, ctxt, src, xmlflags, xmlopt) &lt; 0)
+        return NULL;
+
+    if (virDomainDiskBackingStoreParse(ctxt, src, xmlflags, xmlopt) &lt; 0)
+        return NULL;
+
+    VIR_RETURN_PTR(src);
+}
+
+
 static int
 qemuDomainObjPrivateXMLParseBlockjobData(virDomainObjPtr vm,
                                          xmlNodePtr node,
-                                         xmlXPathContextPtr ctxt)
+                                         xmlXPathContextPtr ctxt,
+                                         virDomainXMLOptionPtr xmlopt)
 {
     VIR_XPATH_NODE_AUTORESTORE(ctxt);
     virDomainDiskDefPtr disk = NULL;
@@ -2719,6 +2815,7 @@ qemuDomainObjPrivateXMLParseBlockjobData(virDomainObjPtr vm,
     VIR_AUTOFREE(char *) newstatestr = NULL;
     int newstate = -1;
     bool invalidData = false;
+    xmlNodePtr tmp;

     ctxt-&gt;node = node;

@@ -2750,6 +2847,16 @@ qemuDomainObjPrivateXMLParseBlockjobData(virDomainObjPtr vm,
         !(disk = virDomainDiskByName(vm-&gt;def, diskdst, false)))
         invalidData = true;

+    if (!disk &amp;&amp; !invalidData) {
+        if ((tmp = virXPathNode(&quot;./chains/disk&quot;, ctxt)) &amp;&amp;
+            !(job-&gt;chain = qemuDomainObjPrivateXMLParseBlockjobChain(tmp, ctxt, xmlopt)))
+            invalidData = true;
+
+        if ((tmp = virXPathNode(&quot;./chains/mirror&quot;, ctxt)) &amp;&amp;
+            !(job-&gt;mirrorChain = qemuDomainObjPrivateXMLParseBlockjobChain(tmp, ctxt, xmlopt)))
+            invalidData = true;
+    }
+
     job-&gt;state = state;
     job-&gt;newstate = newstate;
     job-&gt;errmsg = virXPathString(&quot;string(./errmsg)&quot;, ctxt);
@@ -2782,7 +2889,8 @@ qemuDomainObjPrivateXMLParseBlockjobs(virDomainObjPtr vm,
             return -1;

         for (i = 0; i &lt; nnodes; i++) {
-            if (qemuDomainObjPrivateXMLParseBlockjobData(vm, nodes[i], ctxt) &lt; 0)
+            if (qemuDomainObjPrivateXMLParseBlockjobData(vm, nodes[i], ctxt,
+                                                         priv-&gt;driver-&gt;xmlopt) &lt; 0)
                 return -1;
         }
     }
diff --git a/tests/qemustatusxml2xmldata/blockjob-blockdev-in.xml b/tests/qemustatusxml2xmldata/blockjob-blockdev-in.xml
index 115eaa4887..538385000c 100644
--- a/tests/qemustatusxml2xmldata/blockjob-blockdev-in.xml
+++ b/tests/qemustatusxml2xmldata/blockjob-blockdev-in.xml
@@ -239,6 +239,43 @@
     &lt;blockjob name='drive-virtio-disk0' type='copy' state='ready'&gt;
       &lt;disk dst='vda'/&gt;
     &lt;/blockjob&gt;
+    &lt;blockjob name='test-orphan-job0' type='copy' state='ready'&gt;
+      &lt;chains&gt;
+        &lt;disk type='file' format='qcow2'&gt;
+          &lt;source file='/orphan/source/top.qcow2' index='123'&gt;
+            &lt;privateData&gt;
+              &lt;nodenames&gt;
+                &lt;nodename type='storage' name='orphan-source-top-storage'/&gt;
+                &lt;nodename type='format' name='orphan-source-top-format'/&gt;
+              &lt;/nodenames&gt;
+            &lt;/privateData&gt;
+          &lt;/source&gt;
+          &lt;backingStore type='file' index='321'&gt;
+            &lt;format type='qcow2'/&gt;
+            &lt;source file='/orphan/source/base.qcow2'&gt;
+              &lt;privateData&gt;
+                &lt;nodenames&gt;
+                  &lt;nodename type='storage' name='orphan-source-base-storage'/&gt;
+                  &lt;nodename type='format' name='orphan-source-base-format'/&gt;
+                &lt;/nodenames&gt;
+              &lt;/privateData&gt;
+            &lt;/source&gt;
+            &lt;backingStore/&gt;
+          &lt;/backingStore&gt;
+        &lt;/disk&gt;
+        &lt;mirror type='file' format='raw'&gt;
+          &lt;source file='/orphan/mirror/raw' index='42'&gt;
+            &lt;privateData&gt;
+              &lt;nodenames&gt;
+                &lt;nodename type='storage' name='orphan-mirror-raw-storage'/&gt;
+                &lt;nodename type='format' name='orphan-mirror-raw-format'/&gt;
+              &lt;/nodenames&gt;
+            &lt;/privateData&gt;
+          &lt;/source&gt;
+          &lt;backingStore/&gt;
+        &lt;/mirror&gt;
+      &lt;/chains&gt;
+    &lt;/blockjob&gt;
   &lt;/blockjobs&gt;
   &lt;domain type='kvm' id='4'&gt;
     &lt;name&gt;copy&lt;/name&gt;
-- 
2.21.0

--
libvir-list mailing list
libvir-list@xxxxxxxxxx
<a  rel="nofollow" href="https://www.redhat.com/mailman/listinfo/libvir-list">https://www.redhat.com/mailman/listinfo/libvir-list</a>


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg187335.html">[PATCH 21/25] conf: export virDomainDiskBackingStoreFormat</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg187339.html">[PATCH 23/25] qemu: Detect managed persistent	reservations in block job orphan chains</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg187432.html">Re:  [PATCH 21/25] conf: export virDomainDiskBackingStoreFormat</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg187433.html">Re:  [PATCH 22/25] qemu: blockjob: Track orphaned backing chains in blockjob status XML</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#187336"><strong>Date</strong></a></li>
<li><a href="index.html#187336"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/virt-tools/>[Virt&nbsp;Tools]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/libvirt-users/>[Libvirt&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/libosinfo/>[Lib&nbsp;OS&nbsp;Info]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-users/>[Fedora&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=http://www.ske-art.com/z/biglist.php>[Big&nbsp;List&nbsp;of&nbsp;Linux&nbsp;Books]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-tools/>[Fedora&nbsp;Tools]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
