<!-- MHonArc v2.6.19 -->
<!--X-Subject: Re:  [PATCH 0/5] network: xmlns dnsmasq option passthrough -->
<!--X-From-R13: Qbyr Dbovafba &#60;pebovafbNerqung.pbz> -->
<!--X-Date: Wed, 17 Jul 2019 14:39:04 &#45;0700 -->
<!--X-Message-Id: 296b7f80&#45;8c04&#45;48f8&#45;d9e9&#45;e4f15461f03d@redhat.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: cover.1563148979.git.crobinso@redhat.com -->
<!--X-Reference: 95a76627&#45;eed3&#45;70f0&#45;4288&#45;b87c951d362c@laine.org -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<title>libvirt &mdash; Re:  [PATCH 0/5] network: xmlns dnsmasq option passthrough</title>
<meta name="description" content="libvirt: Re:  [PATCH 0/5] network: xmlns dnsmasq option passthrough">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="alternate" type="application/rss+xml" title="Libvirt Development" href="//feeds.feedburner.com/Libvir">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:8422278960" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="55" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1>Re:  [PATCH 0/5] network: xmlns dnsmasq option passthrough</h1>
[<a href="msg187623.html">Date Prev</a>][<a href="msg187625.html">Date Next</a>][<a href="msg187596.html">Thread Prev</a>][<a href="msg187630.html">Thread Next</a>][<a href="maillist.html#187624">Date Index</a>][<a href="index.html#187624">Thread Index</a>] 


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: Re:  [PATCH 0/5] network: xmlns dnsmasq option passthrough</li>
<li><em>From</em>: Cole Robinson &lt;crobinso@xxxxxxxxxx&gt;</li>
<li><em>Date</em>: Wed, 17 Jul 2019 17:38:51 -0400</li>
<li><em>In-reply-to</em>: &lt;<a href="msg187596.html">95a76627-eed3-70f0-4288-b87c951d362c@laine.org</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg187385.html">cover.1563148979.git.crobinso@redhat.com</a>&gt;	&lt;<a href="msg187596.html">95a76627-eed3-70f0-4288-b87c951d362c@laine.org</a>&gt;</li>
<li><em>User-agent</em>: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101	Thunderbird/60.7.2</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On 7/17/19 12:49 PM, Laine Stump wrote:
&gt; On 7/14/19 8:03 PM, Cole Robinson wrote:
&gt;&gt; There's several unresolved RFEs for the &lt;network&gt; bridge
&gt;&gt; driver that are essentially requests to add XML wrappers
&gt;&gt; for underlying dnsmasq options.
&gt;&gt;
&gt;&gt; This series adds a dnsmasq xmlns namespace for &lt;network&gt;
&gt;&gt; XML that allows passing option strings directly to the
&gt;&gt; generated dnsmasq config file. It will allow motivated
&gt;&gt; users to work around libvirt until those types of RFEs
&gt;&gt; are properly implemented.
&gt; 
&gt; 
&gt; This all looks like a reasonable facsimile of the qemu:commandline
&gt; stuff, and it worked in my tests (including not creating any problems
&gt; with all the existing networks I have on my test system).
&gt; 
&gt; 
&gt; My one reservation would be that it will tend to discourage adding
&gt; *supported* methods of configuring things that people will instead use
&gt; this backdoor to implement. But on the other hand, it makes it possible
&gt; to do new things without needing to wait for an officially supported
&gt; method (which could take a very long time, or simply never happen, as
&gt; we've seen).
&gt; 
&gt; 
&gt; (Actually I for some reason thought we already *had* support for the
&gt; specific example you used - CNAME records. I guess I had lumped it in
&gt; with SRV and TXT records in my memory. It really should be
&gt; straightforward to do, and should still be done, but that shouldn't stop
&gt; this patch series from going in).
&gt; 
&gt; 
&gt; This is for the entire series:
&gt; 
&gt; 
&gt; Reviewed-by: Laine Stump &lt;laine@xxxxxxxxx&gt;

Thanks, I've pushed this now.

Regarding the bigger point, I think it's worth considering whether we
should aim to expose every requested dnsmasq option as official XML or
not. We effectively have one network driver; there's an impl for vbox
and esx but they seem very basic. It doesn't look like we are going to
have another backend impl any time soon.

Unless the requested option has some specific reason to be represented
in libvirt XML, like if another part of libvirt may need/want to
programmatically act on that data for some reason, maybe it's okay to
say that dnsmasq passthrough is the solution. Some examples might be

* dhcp-option: <a  rel="nofollow" href="https://bugzilla.redhat.com/show_bug.cgi?id=666556">https://bugzilla.redhat.com/show_bug.cgi?id=666556</a>
* auth-zone: <a  rel="nofollow" href="https://bugzilla.redhat.com/show_bug.cgi?id=1690943">https://bugzilla.redhat.com/show_bug.cgi?id=1690943</a>
* This bug has a lot of mentioned options:
<a  rel="nofollow" href="https://bugzilla.redhat.com/show_bug.cgi?id=824573">https://bugzilla.redhat.com/show_bug.cgi?id=824573</a>

- Cole

--
libvir-list mailing list
libvir-list@xxxxxxxxxx
<a  rel="nofollow" href="https://www.redhat.com/mailman/listinfo/libvir-list">https://www.redhat.com/mailman/listinfo/libvir-list</a>


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg187623.html">Re:  [Qemu-devel] [PATCH v3] qapi: add dirty-bitmaps to query-named-block-nodes result</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg187625.html">Re:  [PATCH v9 04/13] backup: Parse and output checkpoint XML</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg187596.html">Re:  [PATCH 0/5] network: xmlns dnsmasq option passthrough</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg187630.html">Re:  [PATCH 0/5] network: xmlns dnsmasq option passthrough</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#187624"><strong>Date</strong></a></li>
<li><a href="index.html#187624"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/lists/virt-tools/>[Virt&nbsp;Tools]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/libvirt-users/>[Libvirt&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/libosinfo/>[Lib&nbsp;OS&nbsp;Info]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-users/>[Fedora&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=http://www.ske-art.com/z/biglist.php>[Big&nbsp;List&nbsp;of&nbsp;Linux&nbsp;Books]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-tools/>[Fedora&nbsp;Tools]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
