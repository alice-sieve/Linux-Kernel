<!-- MHonArc v2.6.19 -->
<!--X-Subject: Re:  [PATCH] Port utility functions to Solaris -->
<!--X-From-R13: Qbyr Dbovafba &#60;pebovafbNerqung.pbz> -->
<!--X-Date: Tue, 9 Dec 2008 19:46:53 &#45;0800 -->
<!--X-Message-Id: 493F3B4B.6000006@redhat.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 29d8886362e2993eaf26.1228855430@xenbld.SFBay.Sun.COM -->
<!--X-Reference: 493EED71.4070504@redhat.com -->
<!--X-Reference: 20081209222557.GA29497@totally.trollied.org.uk -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Fedora Management Tools, Re:  [PATCH] Port utility functions to Solaris">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<link rel="alternate" type="application/rss+xml" title="Fedora Management Tools" href="//feedproxy.google.com/Fedora/linuxManagementTools">
<title>Fedora Management Tools -- Re:  [PATCH] Port utility functions to Solaris</title>
</head>
<body vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:9580497365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="25" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1 itemprop="name">Re:  [PATCH] Port utility functions to Solaris</h1>
[<a href="msg04516.html">Date Prev</a>][<a href="msg04518.html">Date Next</a>][<a href="msg04516.html">Thread Prev</a>][<a href="msg04518.html">Thread Next</a>][<a href="maillist.html#04517">Date Index</a>][<a href="index.html#04517">Thread Index</a>]


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: Re:  [PATCH] Port utility functions to Solaris</li>
<li><em>From</em>: Cole Robinson &lt;<a href="mailto:crobinso@DOMAIN.HIDDEN">crobinso@xxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Tue, 09 Dec 2008 22:45:15 -0500</li>
<li><em>Cc</em>: </li>
<li><em>In-reply-to</em>: &lt;<a href="mailto:20081209222557.GA29497@DOMAIN.HIDDEN">20081209222557.GA29497@xxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>References</em>: &lt;<a href="mailto:29d8886362e2993eaf26.1228855430@DOMAIN.HIDDEN">29d8886362e2993eaf26.1228855430@xxxxxxxxxxxxxxxxxxxx</a>&gt;	&lt;<a href="mailto:493EED71.4070504@DOMAIN.HIDDEN">493EED71.4070504@xxxxxxxxxx</a>&gt;	&lt;<a href="mailto:20081209222557.GA29497@DOMAIN.HIDDEN">20081209222557.GA29497@xxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li><em>Reply-to</em>: Fedora/Linux Management Tools &lt;<a href="mailto:et-mgmt-tools@DOMAIN.HIDDEN">et-mgmt-tools@xxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Thunderbird 2.0.0.18 (X11/20081119)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>John Levon wrote:
&gt; On Tue, Dec 09, 2008 at 05:13:05PM -0500, Cole Robinson wrote:
&gt;
&gt;   
&gt;&gt;&gt; Port utility functions to Solaris
&gt;&gt;&gt;       
&gt;&gt; Hmm, 90% of this patch is a huge mechanical change which has nothing
&gt;&gt; to do with this commit subject. I think it's better to separate
&gt;&gt; the two changes.
&gt;&gt;     
&gt;
&gt; Seems like busy work to me quite frankly. You can diff util.py versus
&gt; _util.py to get the changes easily enough (I tried a rename, but hg was
&gt; playing silly buggers).
&gt;
&gt;   

I really don't think it's unreasonable to ask that these two unrelated
changes be split. The commits will be more self contained, and it will
be easier for review.

&gt;&gt; Rather than s/util/_util/ everywhere, I'd prefer:
&gt;&gt;
&gt;&gt; import _util as util
&gt;&gt;
&gt;&gt; Lot less churn, and the only potential downside is confusion
&gt;&gt; browsing the source, but I don't think it's a problem.
&gt;&gt;     
&gt;
&gt; It's already confusing enough, please let's not make it worse.
&gt;
&gt;   

I won't disagree with that.

&gt;&gt;&gt; +lookup_pool_by_path = _util.lookup_pool_by_path
&gt;&gt;&gt; +privileged_user = _util.privileged_user
&gt;&gt;&gt;       
&gt;&gt; Hmm, this isn't exactly how I saw it happening. I figured we would have
&gt;&gt; _util be for nonpublic functions only: we can change or remove anything
&gt;&gt; in that file at will. The original 'util' though needs to maintain api
&gt;&gt; compat for its functions, even if they are deprecated and left to rot.
&gt;&gt;     
&gt;
&gt; The public API has been clearly moving towards an OO approach. This
&gt; makes perfect sense to me: if I want to interact with a disk, use
&gt; VirtualDisk. Anything new in virtinst.util is a bug - can you name a
&gt; situation where it's sensible for something to be added there as part of
&gt; the API? The very name 'util' basically 'random stuff'.
&gt;
&gt;   

Yes, that's fair. Thinking of it that way, there will always be a better
solution than dumping something in 'util'.

&gt;&gt; Am I missing some benefit of the above approach?
&gt;&gt;     
&gt;
&gt; APIs are really hard to maintain when they're commingled amongst a bunch
&gt; of other completely unstable code, especially when it's not even
&gt; documented.

I completely agree with this, that's why my suggestion was to keep the
public and private functions in separate files. Moving everything
to the private file seems like it would only encourage confusion
between what is public and what is private, increasing the likelyhood
that someone would inadvertently break API.

&gt;  Locking away the contents of util.py and never changing it
&gt; again[1] makes it really hard to *NOT* maintain the API - any patch touches
&gt; that file implies the patch is broken.
&gt;   

I don't follow this. By moving the actual content to _util.py, API can
_still_ be broken: someone could add a new function argument without
a default value.

I think we can both agree that one of the biggest failures of this
code base is a lack of documentation. It can be a total frustration
trying to cleanup and fix things, not knowing how the pieces interact.
I've been trying to remedy this as I go. Dealing with 'util' is an
important step, and I'm not trying to push back on it.

Thanks,
Cole

_______________________________________________
et-mgmt-tools mailing list
et-mgmt-tools@xxxxxxxxxx
<a  rel="nofollow" href="https://www.redhat.com/mailman/listinfo/et-mgmt-tools">https://www.redhat.com/mailman/listinfo/et-mgmt-tools</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="04518" href="msg04518.html">Re:  [PATCH] Port utility functions to Solaris</a></strong>
<ul><li><em>From:</em> John Levon</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="04510" href="msg04510.html">[PATCH] Port utility functions to Solaris</a></strong>
<ul><li><em>From:</em> john . levon</li></ul></li>
<li><strong><a name="04515" href="msg04515.html">Re:  [PATCH] Port utility functions to Solaris</a></strong>
<ul><li><em>From:</em> Cole Robinson</li></ul></li>
<li><strong><a name="04516" href="msg04516.html">Re:  [PATCH] Port utility functions to Solaris</a></strong>
<ul><li><em>From:</em> John Levon</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg04516.html">Re:  [PATCH] Port utility functions to Solaris</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg04518.html">Re:  [PATCH] Port utility functions to Solaris</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg04516.html">Re:  [PATCH] Port utility functions to Solaris</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg04518.html">Re:  [PATCH] Port utility functions to Solaris</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#04517"><strong>Date</strong></a></li>
<li><a href="index.html#04517"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-users/>[Fedora&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/fll/>[Fedora&nbsp;Legacy&nbsp;List]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-maintainers/>[Fedora&nbsp;Maintainers]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=http://www.ske-art.com/z/biglist.html>[Big&nbsp;List&nbsp;of&nbsp;Linux&nbsp;Books]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-tools/>[Fedora&nbsp;Tools]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
