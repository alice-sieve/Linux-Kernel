<!-- MHonArc v2.6.19 -->
<!--X-Subject: [PATCH] virt&#45;manager: Fix broken CPU details tab -->
<!--X-From-R13: [vpuny @bibgal &#60;zvabibgaNerqung.pbz> -->
<!--X-Date: Mon, 15 Jun 2009 07:10:26 &#45;0700 -->
<!--X-Message-Id: 4A36564C.7070508@redhat.com -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Fedora Management Tools, [PATCH] virt-manager: Fix broken CPU details tab">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<link rel="alternate" type="application/rss+xml" title="Fedora Management Tools" href="//feedproxy.google.com/Fedora/linuxManagementTools">
<title>Fedora Management Tools -- [PATCH] virt-manager: Fix broken CPU details tab</title>
</head>
<body vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:9580497365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="25" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
<h1 itemprop="name">[PATCH] virt-manager: Fix broken CPU details tab</h1>
[<a href="msg04948.html">Date Prev</a>][<a href="msg04950.html">Date Next</a>][<a href="msg04942.html">Thread Prev</a>][<a href="msg04972.html">Thread Next</a>][<a href="maillist.html#04949">Date Index</a>][<a href="index.html#04949">Thread Index</a>]


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: [PATCH] virt-manager: Fix broken CPU details tab</li>
<li><em>From</em>: Michal Novotny &lt;<a href="mailto:minovotn@DOMAIN.HIDDEN">minovotn@xxxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Mon, 15 Jun 2009 16:10:20 +0200</li>
<li><em>Reply-to</em>: Fedora/Linux Management Tools &lt;<a href="mailto:et-mgmt-tools@DOMAIN.HIDDEN">et-mgmt-tools@xxxxxxxxxx</a>&gt;</li>
<li><em>User-agent</em>: Mozilla/5.0 (X11; U; Linux x86_64; en-US;	rv:1.9.1b3pre) Gecko/20090513 Fedora/3.0-2.3.beta2.fc11	Thunderbird/3.0b2</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi everybody,
</pre><tt>I've recompiled and installed newest libvirt and virt-manager and I 
</tt><tt>found out that revision 1135 introduced the exception on CPU details tab 
</tt><tt>by renaming get_type() to get_hv_type() so that is the fix for that.
</tt><pre style="margin: 0em;">

If anything, please let me know.

Thanks,
Michal
</pre><pre># HG changeset patch
# User Michal Novotny &lt;minovotn@xxxxxxxxxx&gt;
# Date 1245074096 -7200
# Node ID 74f1f8309b139af9d84edfb1f0186c2306c0f332
# Parent  f9ad1d0c29d08bbb0ed94df9878d666904d018a2
Make Processor tab item in VM details show correctly

The Processor tab in VM details was not showing at all because of exception.
The exception occured everytime the tab was selected because of call to non
existing function get_type() that has been renamed to get_hv_type() in the
newest version of virt-manager's code by revision 1135.

diff -r f9ad1d0c29d0 -r 74f1f8309b13 src/virtManager/details.py
--- a/src/virtManager/details.py	Thu Jun 04 16:28:40 2009 -0400
+++ b/src/virtManager/details.py	Mon Jun 15 15:54:56 2009 +0200
@@ -945,7 +945,7 @@
         self.window.get_widget(&quot;state-host-cpus&quot;).set_text(&quot;%d&quot; % self.vm.get_connection().host_active_processor_count())
         status = self.vm.status()
         if status in [ libvirt.VIR_DOMAIN_SHUTOFF, libvirt.VIR_DOMAIN_CRASHED ]:
-            cpu_max = self.vm.get_connection().get_max_vcpus(self.vm.get_type())
+            cpu_max = self.vm.get_connection().get_max_vcpus(self.vm.get_hv_type())
             self.window.get_widget(&quot;config-vcpus&quot;).get_adjustment().upper = cpu_max
             self.window.get_widget(&quot;state-vm-maxvcpus&quot;).set_text(str(cpu_max))
         else:
</pre><pre>_______________________________________________
et-mgmt-tools mailing list
et-mgmt-tools@xxxxxxxxxx
<a  rel="nofollow" href="https://www.redhat.com/mailman/listinfo/et-mgmt-tools">https://www.redhat.com/mailman/listinfo/et-mgmt-tools</a></pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="04972" href="msg04972.html">Re:  [PATCH] virt-manager: Fix broken CPU details tab</a></strong>
<ul><li><em>From:</em> Cole Robinson</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg04948.html">Re:  RFC: libosinfo: Library for virt OS/distro	metadata 3</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg04950.html">Re: RFC: libosinfo: Library for virt OS/distro	metadata 3</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg04942.html">RFC: libosinfo: Library for virt OS/distro metadata	3</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg04972.html">Re:  [PATCH] virt-manager: Fix broken CPU details tab</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#04949"><strong>Date</strong></a></li>
<li><a href="index.html#04949"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<center>
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-users/>[Fedora&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/fll/>[Fedora&nbsp;Legacy&nbsp;List]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-maintainers/>[Fedora&nbsp;Maintainers]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=http://www.ske-art.com/z/biglist.html>[Big&nbsp;List&nbsp;of&nbsp;Linux&nbsp;Books]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-tools/>[Fedora&nbsp;Tools]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
