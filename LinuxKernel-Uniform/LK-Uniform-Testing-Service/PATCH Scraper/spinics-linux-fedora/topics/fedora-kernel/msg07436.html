<!-- MHonArc v2.6.19 -->
<!--X-Subject: Re: [PATCH] [RFC] Drop non&#45;x86 debug .config files -->
<!--X-From-R13: Xhfgva Tbeorf &#60;wsbeorfNerqung.pbz> -->
<!--X-Date: Wed, 16 Jan 2019 13:30:39 &#45;0800 -->
<!--X-Message-Id: CAFbkSA0aNUXzHCF5+2hb4jauxTwHSWDf4X6AGhvLWOsWy0PBiw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20190116115228.30643&#45;1&#45;pebolle@tiscali.nl -->
<!--X-Reference: CAFxkdArdAdXLcKpfB7n9mUdUjg1pd6ReC_kHB+69MoU6WU=wkA@mail.gmail.com -->
<!--X-Reference: 5698c3a4ccca1a92a591f94a3c0732098cd24be7.camel@tiscali.nl -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3422782820843221",
          enable_page_level_ads: true
     });
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description content="Re: [PATCH] [RFC] Drop non-x86 debug .config files &mdash; Fedora Linux Kernel">
<style>
<!--
 pre {white-space: pre-wrap;}
-->
</style>
<title>Re: [PATCH] [RFC] Drop non-x86 debug .config files &mdash; Fedora Linux Kernel</title>
<link rel="alternate" type="application/rss+xml" title="Fedora Linux Kernel" href="//feeds.feedburner.com/FedoraKernel">
</head>
<body itemscope itemtype="//schema.org/Article" vlink=green>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<form action="//www.google.com" id="cse-search-box" target="_blank">
  <div>
    <input type="hidden" name="cx" value="partner-pub-3422782820843221:9580497365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="25" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en" async defer></script>
<h1 itemprop="name">Re: [PATCH] [RFC] Drop non-x86 debug .config files</h1>
[<a href="msg07435.html">Date Prev</a>][<a href="msg07437.html">Date Next</a>][<a href="msg07434.html">Thread Prev</a>][<a href="msg07437.html">Thread Next</a>][<a href="maillist.html#07436">Date Index</a>][<a href="index.html#07436">Thread Index</a>]


<p>&nbsp;<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive test for archives -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="6345952567"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: Re: [PATCH] [RFC] Drop non-x86 debug .config files</li>
<li><em>From</em>: Justin Forbes &lt;jforbes@xxxxxxxxxx&gt;</li>
<li><em>Date</em>: Wed, 16 Jan 2019 15:30:15 -0600</li>
<li><em>Cc</em>: kernel &lt;kernel@xxxxxxxxxxxxxxxxxxxxxxx&gt;,        Justin Forbes &lt;jmforbes@xxxxxxxxxxx&gt;</li>
<li><em>In-reply-to</em>: &lt;<a href="msg07434.html">5698c3a4ccca1a92a591f94a3c0732098cd24be7.camel@tiscali.nl</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5196c2ae1be43d18&async=1&domready=1" async></script>
<!-- AddThis Button END -->
<hr>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- responsive link 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="8681825769"
     data-ad-format="link"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>
<div class="content" itemprop="articleBody">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Wed, Jan 16, 2019 at 10:40 AM Paul Bolle &lt;pebolle@xxxxxxxxxx&gt; wrote:

&gt;<i> Justin Forbes schreef op wo 16-01-2019 om 10:17 [-0600]:</i>
&gt;<i> &gt; Absolutely not true.   Every rawhide build outside of direct rcX</i>
&gt;<i> &gt; builds are debug builds.  Stable releases don't use these files.</i>
&gt;<i></i>
&gt;<i> But how do those builds hop past this snippet (in kernel.spec):</i>
&gt;<i>     # don't do debug builds on anything but i686 and x86_64</i>
&gt;<i>     %ifnarch i686 x86_64</i>
&gt;<i>     %define with_debug 0</i>
&gt;<i>     %endif</i>
&gt;<i></i>
&gt;<i> Look at the references to debugbuildsenabled in kernel.spec.  Specifically</i>
for non debug kernels, we build standard kernels and call
generate_all_configs.sh, and then x86 also builds a separate debug kernel.
This is toggled by 'make release' and 'make debug'  and you will see a
changelog entry for every time debug is turned on or off. Again, this only
tends to happen in rawhide.   For debug kernels (most rawhide kernels), all
kernels are debug kernels and we call generate_debug_configs.sh instead.
To save you having to look through them, here is the content of
generate_debug_configs.sh:

#!/bin/sh

for i in kernel-*debug.config; do
base=`echo $i | sed -r s/-?debug//g`
NEW=kernel-$VERSION-`echo $base | cut -d - -f2-`
mv $i $NEW
rm $base
done

The absolute only difference you will see in a build log, is for debug
kernels (approximately 80% of kernels built on rawhide) the logs show

+ cp /builddir/build/SOURCES/merge.pl .
+ cp /builddir/build/SOURCES/generate_all_configs.sh .
+ cp /builddir/build/SOURCES/generate_debug_configs.sh .
+ cp /builddir/build/SOURCES/generate_bls_conf.sh .
+ VERSION=5.0.0
+ ./generate_debug_configs.sh
+ for i in kernel-5.0.0-aarch64*.config
+ mv kernel-5.0.0-aarch64.config kernel-5.0.0-aarch64.config.tmp
+ ./merge.pl /builddir/build/SOURCES/kernel-local
kernel-5.0.0-aarch64.config.tmp
+ rm kernel-5.0.0-aarch64.config.tmp
+ rm -f 'kernel-5.0.0-*debug.config'
+ cp /builddir/build/SOURCES/process_configs.sh .
+ OPTS=
+ OPTS=' -n'
+ OPTS=' -n -c'
+ ./process_configs.sh -n -c kernel 5.0.0

And for non debug standard kernels across standard Fedora releases, or the
rcX-git0.1 kernels in rawhide:

+ cp /builddir/build/SOURCES/merge.pl .
+ cp /builddir/build/SOURCES/generate_all_configs.sh .
+ cp /builddir/build/SOURCES/generate_debug_configs.sh .
+ cp /builddir/build/SOURCES/generate_bls_conf.sh .
+ VERSION=5.0.0
+ ./generate_all_configs.sh
+ for i in kernel-5.0.0-aarch64*.config
+ mv kernel-5.0.0-aarch64-debug.config kernel-5.0.0-aarch64-debug.config.tmp
+ ./merge.pl /builddir/build/SOURCES/kernel-local
kernel-5.0.0-aarch64-debug.config.tmp
+ rm kernel-5.0.0-aarch64-debug.config.tmp
+ for i in kernel-5.0.0-aarch64*.config
+ mv kernel-5.0.0-aarch64.config kernel-5.0.0-aarch64.config.tmp
+ ./merge.pl /builddir/build/SOURCES/kernel-local
kernel-5.0.0-aarch64.config.tmp
+ rm kernel-5.0.0-aarch64.config.tmp
+ cp /builddir/build/SOURCES/process_configs.sh .
+ OPTS=
+ OPTS=' -n'
+ OPTS=' -n -c'
+ ./process_configs.sh -n -c kernel 5.0.0


&gt;<i> Anyway, I couldn't find a build on koji.f.o that uses one of these five</i>
&gt;<i> files.</i>
&gt;<i> Would you have a pointer to a build that does?</i>
&gt;<i></i>
&gt;<i> <a  rel="nofollow" href="https://koji.fedoraproject.org/koji/taskinfo?taskID=32066991">https://koji.fedoraproject.org/koji/taskinfo?taskID=32066991</a> would be the</i>
most recent. There are usually 4 a week on rawhide.  Though to save you
some trouble, the only relevant pieces from the logs are included above.

Justin

Thanks,
&gt;<i></i>
&gt;<i></i>
&gt;<i> Paul Bolle</i>
&gt;<i> _______________________________________________</i>
&gt;<i> kernel mailing list -- kernel@xxxxxxxxxxxxxxxxxxxxxxx</i>
&gt;<i> To unsubscribe send an email to kernel-leave@xxxxxxxxxxxxxxxxxxxxxxx</i>
&gt;<i> Fedora Code of Conduct: <a  rel="nofollow" href="https://getfedora.org/code-of-conduct.html">https://getfedora.org/code-of-conduct.html</a></i>
&gt;<i> List Guidelines: <a  rel="nofollow" href="https://fedoraproject.org/wiki/Mailing_list_guidelines">https://fedoraproject.org/wiki/Mailing_list_guidelines</a></i>
&gt;<i> List Archives:</i>
&gt;<i> <a  rel="nofollow" href="https://lists.fedoraproject.org/archives/list/kernel@xxxxxxxxxxxxxxxxxxxxxxx">https://lists.fedoraproject.org/archives/list/kernel@xxxxxxxxxxxxxxxxxxxxxxx</a></i>
&gt;<i></i>
_______________________________________________
kernel mailing list -- kernel@xxxxxxxxxxxxxxxxxxxxxxx
To unsubscribe send an email to kernel-leave@xxxxxxxxxxxxxxxxxxxxxxx
Fedora Code of Conduct: <a  rel="nofollow" href="https://getfedora.org/code-of-conduct.html">https://getfedora.org/code-of-conduct.html</a>
List Guidelines: <a  rel="nofollow" href="https://fedoraproject.org/wiki/Mailing_list_guidelines">https://fedoraproject.org/wiki/Mailing_list_guidelines</a>
List Archives: <a  rel="nofollow" href="https://lists.fedoraproject.org/archives/list/kernel@xxxxxxxxxxxxxxxxxxxxxxx">https://lists.fedoraproject.org/archives/list/kernel@xxxxxxxxxxxxxxxxxxxxxxx</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="07437" href="msg07437.html">Re: [PATCH] [RFC] Drop non-x86 debug .config files</a></strong>
<ul><li><em>From:</em> Paul Bolle</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="07432" href="msg07432.html">[PATCH] [RFC] Drop non-x86 debug .config files</a></strong>
<ul><li><em>From:</em> Paul Bolle</li></ul></li>
<li><strong><a name="07433" href="msg07433.html">Re: [PATCH] [RFC] Drop non-x86 debug .config files</a></strong>
<ul><li><em>From:</em> Justin Forbes</li></ul></li>
<li><strong><a name="07434" href="msg07434.html">Re: [PATCH] [RFC] Drop non-x86 debug .config files</a></strong>
<ul><li><em>From:</em> Paul Bolle</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg07435.html">Re: [PATCH 0/3] Kconfig symbol cleanup for v5.0-rc1</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg07437.html">Re: [PATCH] [RFC] Drop non-x86 debug .config files</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg07434.html">Re: [PATCH] [RFC] Drop non-x86 debug .config files</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg07437.html">Re: [PATCH] [RFC] Drop non-x86 debug .config files</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#07436"><strong>Date</strong></a></li>
<li><a href="index.html#07436"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<font size=-1>
<a href=/lists/>[Index&nbsp;of&nbsp;Archives]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-users/>[Fedora&nbsp;General&nbsp;Discussion]</a>
&nbsp;
&nbsp;
<a href=http://lists.linuxcoding.com/rhl/>[Older&nbsp;Fedora&nbsp;Users&nbsp;Archive]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-advisory-board/>[Fedora&nbsp;Advisory&nbsp;Board]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-security/>[Fedora&nbsp;Security]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-devel-java/>[Fedora&nbsp;Devel&nbsp;Java]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/fedora-legacy/>[Fedora&nbsp;Legacy]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-desktop/>[Fedora&nbsp;Desktop]</a>
&nbsp;
&nbsp;
<a href=/lists/ataraid/>[ATA&nbsp;RAID]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-marketing/>[Fedora&nbsp;Marketing]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-mentors/>[Fedora&nbsp;Mentors]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-package-announce/>[Fedora&nbsp;Package&nbsp;Announce]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-package-review/>[Fedora&nbsp;Package&nbsp;Review]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-music/>[Fedora&nbsp;Music]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-packaging/>[Fedora&nbsp;Packaging]</a>
&nbsp;
&nbsp;
<a href=/lists/centos/>[Centos]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-selinux/>[Fedora&nbsp;SELinux]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/coolkey/>[Coolkey]</a>
&nbsp;
&nbsp;
<a href=/linux/fedora/yum/>[Yum&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/tux/>[Tux]</a>
&nbsp;
&nbsp;
<a href=https://yosemitenews.info>[Yosemite&nbsp;News]</a>
&nbsp;
&nbsp;
<a href=/lists/kde/>[KDE&nbsp;Users]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-art/>[Fedora&nbsp;Art]</a>
&nbsp;
&nbsp;
<a href=/lists/fedora-docs/>[Fedora&nbsp;Docs]</a>
&nbsp;
&nbsp;
<a href=/lists/linux-usb/>[USB]</a>
&nbsp;
&nbsp;
<a href=/lists/asterisk/>[Asterisk&nbsp;PBX]</a>
</font>
</center>
<hr>
<p>
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-3422782820843221"
     data-ad-slot="1424524564"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<table width=100%>
<tr>
<td align=left>&nbsp;</td>
<td align=right><a href=/lists/><img src=/button_01.gif border=0 alt="Powered by Linux"></a></td>
</tr>
</table>
<!--X-User-Footer-End-->
<script type="text/javascript"> 
 function initAddThis() {
    addthis.init()
 }
initAddThis();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-760190-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
